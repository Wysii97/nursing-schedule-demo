(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function w_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yd={exports:{}},Ur={};var wg;function I0(){if(wg)return Ur;wg=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:n,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Ur.Fragment=a,Ur.jsx=i,Ur.jsxs=i,Ur}var xg;function G0(){return xg||(xg=1,yd.exports=I0()),yd.exports}var o=G0(),bd={exports:{}},Ce={};var Sg;function P0(){if(Sg)return Ce;Sg=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function O(w,R,U){this.props=w,this.context=R,this.refs=k,this.updater=U||C}O.prototype.isReactComponent={},O.prototype.setState=function(w,R){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,R,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=O.prototype;function M(w,R,U){this.props=w,this.context=R,this.refs=k,this.updater=U||C}var j=M.prototype=new D;j.constructor=M,N(j,O.prototype),j.isPureReactComponent=!0;var q=Array.isArray;function ae(){}var Z={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function Ee(w,R,U){var K=U.ref;return{$$typeof:n,type:w,key:R,ref:K!==void 0?K:null,props:U}}function Ie(w,R){return Ee(w.type,R,w.props)}function X(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Te(w){var R={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(U){return R[U]})}var ot=/\/+/g;function ft(w,R){return typeof w=="object"&&w!==null&&w.key!=null?Te(""+w.key):R.toString(36)}function mt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ae,ae):(w.status="pending",w.then(function(R){w.status==="pending"&&(w.status="fulfilled",w.value=R)},function(R){w.status==="pending"&&(w.status="rejected",w.reason=R)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function I(w,R,U,K,ne){var W=typeof w;(W==="undefined"||W==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(W){case"bigint":case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case n:case a:de=!0;break;case v:return de=w._init,I(de(w._payload),R,U,K,ne)}}if(de)return ne=ne(w),de=K===""?"."+ft(w,0):K,q(ne)?(U="",de!=null&&(U=de.replace(ot,"$&/")+"/"),I(ne,R,U,"",function(aa){return aa})):ne!=null&&(X(ne)&&(ne=Ie(ne,U+(ne.key==null||w&&w.key===ne.key?"":(""+ne.key).replace(ot,"$&/")+"/")+de)),R.push(ne)),1;de=0;var He=K===""?".":K+":";if(q(w))for(var Me=0;Me<w.length;Me++)K=w[Me],W=He+ft(K,Me),de+=I(K,R,U,W,ne);else if(Me=E(w),typeof Me=="function")for(w=Me.call(w),Me=0;!(K=w.next()).done;)K=K.value,W=He+ft(K,Me++),de+=I(K,R,U,W,ne);else if(W==="object"){if(typeof w.then=="function")return I(mt(w),R,U,K,ne);throw R=String(w),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return de}function ee(w,R,U){if(w==null)return w;var K=[],ne=0;return I(w,K,"","",function(W){return R.call(U,W,ne++)}),K}function ce(w){if(w._status===-1){var R=w._result;R=R(),R.then(function(U){(w._status===0||w._status===-1)&&(w._status=1,w._result=U)},function(U){(w._status===0||w._status===-1)&&(w._status=2,w._result=U)}),w._status===-1&&(w._status=0,w._result=R)}if(w._status===1)return w._result.default;throw w._result}var J=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},F={map:ee,forEach:function(w,R,U){ee(w,function(){R.apply(this,arguments)},U)},count:function(w){var R=0;return ee(w,function(){R++}),R},toArray:function(w){return ee(w,function(R){return R})||[]},only:function(w){if(!X(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Ce.Activity=y,Ce.Children=F,Ce.Component=O,Ce.Fragment=i,Ce.Profiler=c,Ce.PureComponent=M,Ce.StrictMode=r,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},Ce.cache=function(w){return function(){return w.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(w,R,U){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var K=N({},w.props),ne=w.key;if(R!=null)for(W in R.key!==void 0&&(ne=""+R.key),R)!_e.call(R,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&R.ref===void 0||(K[W]=R[W]);var W=arguments.length-2;if(W===1)K.children=U;else if(1<W){for(var de=Array(W),He=0;He<W;He++)de[He]=arguments[He+2];K.children=de}return Ee(w.type,ne,K)},Ce.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},Ce.createElement=function(w,R,U){var K,ne={},W=null;if(R!=null)for(K in R.key!==void 0&&(W=""+R.key),R)_e.call(R,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ne[K]=R[K]);var de=arguments.length-2;if(de===1)ne.children=U;else if(1<de){for(var He=Array(de),Me=0;Me<de;Me++)He[Me]=arguments[Me+2];ne.children=He}if(w&&w.defaultProps)for(K in de=w.defaultProps,de)ne[K]===void 0&&(ne[K]=de[K]);return Ee(w,W,ne)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(w){return{$$typeof:m,render:w}},Ce.isValidElement=X,Ce.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:ce}},Ce.memo=function(w,R){return{$$typeof:g,type:w,compare:R===void 0?null:R}},Ce.startTransition=function(w){var R=Z.T,U={};Z.T=U;try{var K=w(),ne=Z.S;ne!==null&&ne(U,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ae,J)}catch(W){J(W)}finally{R!==null&&U.types!==null&&(R.types=U.types),Z.T=R}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(w){return Z.H.use(w)},Ce.useActionState=function(w,R,U){return Z.H.useActionState(w,R,U)},Ce.useCallback=function(w,R){return Z.H.useCallback(w,R)},Ce.useContext=function(w){return Z.H.useContext(w)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(w,R){return Z.H.useDeferredValue(w,R)},Ce.useEffect=function(w,R){return Z.H.useEffect(w,R)},Ce.useEffectEvent=function(w){return Z.H.useEffectEvent(w)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(w,R,U){return Z.H.useImperativeHandle(w,R,U)},Ce.useInsertionEffect=function(w,R){return Z.H.useInsertionEffect(w,R)},Ce.useLayoutEffect=function(w,R){return Z.H.useLayoutEffect(w,R)},Ce.useMemo=function(w,R){return Z.H.useMemo(w,R)},Ce.useOptimistic=function(w,R){return Z.H.useOptimistic(w,R)},Ce.useReducer=function(w,R,U){return Z.H.useReducer(w,R,U)},Ce.useRef=function(w){return Z.H.useRef(w)},Ce.useState=function(w){return Z.H.useState(w)},Ce.useSyncExternalStore=function(w,R,U){return Z.H.useSyncExternalStore(w,R,U)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.2.3",Ce}var jg;function sh(){return jg||(jg=1,bd.exports=P0()),bd.exports}var S=sh();const Vr=w_(S);var wd={exports:{}},qr={},xd={exports:{}},Sd={};var Ng;function V0(){return Ng||(Ng=1,(function(n){function a(I,ee){var ce=I.length;I.push(ee);e:for(;0<ce;){var J=ce-1>>>1,F=I[J];if(0<c(F,ee))I[J]=ee,I[ce]=F,ce=J;else break e}}function i(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var ee=I[0],ce=I.pop();if(ce!==ee){I[0]=ce;e:for(var J=0,F=I.length,w=F>>>1;J<w;){var R=2*(J+1)-1,U=I[R],K=R+1,ne=I[K];if(0>c(U,ce))K<F&&0>c(ne,U)?(I[J]=ne,I[K]=ce,J=K):(I[J]=U,I[R]=ce,J=R);else if(K<F&&0>c(ne,ce))I[J]=ne,I[K]=ce,J=K;else break e}}return ee}function c(I,ee){var ce=I.sortIndex-ee.sortIndex;return ce!==0?ce:I.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,y=null,x=3,E=!1,C=!1,N=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function j(I){for(var ee=i(g);ee!==null;){if(ee.callback===null)r(g);else if(ee.startTime<=I)r(g),ee.sortIndex=ee.expirationTime,a(p,ee);else break;ee=i(g)}}function q(I){if(N=!1,j(I),!C)if(i(p)!==null)C=!0,ae||(ae=!0,Te());else{var ee=i(g);ee!==null&&mt(q,ee.startTime-I)}}var ae=!1,Z=-1,_e=5,Ee=-1;function Ie(){return k?!0:!(n.unstable_now()-Ee<_e)}function X(){if(k=!1,ae){var I=n.unstable_now();Ee=I;var ee=!0;try{e:{C=!1,N&&(N=!1,D(Z),Z=-1),E=!0;var ce=x;try{t:{for(j(I),y=i(p);y!==null&&!(y.expirationTime>I&&Ie());){var J=y.callback;if(typeof J=="function"){y.callback=null,x=y.priorityLevel;var F=J(y.expirationTime<=I);if(I=n.unstable_now(),typeof F=="function"){y.callback=F,j(I),ee=!0;break t}y===i(p)&&r(p),j(I)}else r(p);y=i(p)}if(y!==null)ee=!0;else{var w=i(g);w!==null&&mt(q,w.startTime-I),ee=!1}}break e}finally{y=null,x=ce,E=!1}ee=void 0}}finally{ee?Te():ae=!1}}}var Te;if(typeof M=="function")Te=function(){M(X)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,ft=ot.port2;ot.port1.onmessage=X,Te=function(){ft.postMessage(null)}}else Te=function(){O(X,0)};function mt(I,ee){Z=O(function(){I(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(I){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var ce=x;x=ee;try{return I()}finally{x=ce}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(I,ee){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ce=x;x=I;try{return ee()}finally{x=ce}},n.unstable_scheduleCallback=function(I,ee,ce){var J=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?J+ce:J):ce=J,I){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ce+F,I={id:v++,callback:ee,priorityLevel:I,startTime:ce,expirationTime:F,sortIndex:-1},ce>J?(I.sortIndex=ce,a(g,I),i(p)===null&&I===i(g)&&(N?(D(Z),Z=-1):N=!0,mt(q,ce-J))):(I.sortIndex=F,a(p,I),C||E||(C=!0,ae||(ae=!0,Te()))),I},n.unstable_shouldYield=Ie,n.unstable_wrapCallback=function(I){var ee=x;return function(){var ce=x;x=ee;try{return I.apply(this,arguments)}finally{x=ce}}}})(Sd)),Sd}var Eg;function Y0(){return Eg||(Eg=1,xd.exports=V0()),xd.exports}var jd={exports:{}},Qt={};var Cg;function K0(){if(Cg)return Qt;Cg=1;var n=sh();function a(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,g,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:p,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return d(p,g,null,v)},Qt.flushSync=function(p){var g=f.T,v=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=g,r.p=v,r.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,y=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:E}):v==="script"&&r.d.X(p,{crossOrigin:y,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,y=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Qt.requestFormReset=function(p){r.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var Tg;function F0(){if(Tg)return jd.exports;Tg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),jd.exports=K0(),jd.exports}var kg;function X0(){if(kg)return qr;kg=1;var n=Y0(),a=sh(),i=F0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,l=t;;){var u=s.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===s)return p(u),e;if(h===l)return p(u),t;h=h.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=h;else{for(var _=!1,b=u.child;b;){if(b===s){_=!0,s=u,l=h;break}if(b===l){_=!0,l=u,s=h;break}b=b.sibling}if(!_){for(b=h.child;b;){if(b===s){_=!0,s=h,l=u;break}if(b===l){_=!0,l=h,s=u;break}b=b.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),Ie=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ot?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case ae:return"SuspenseList";case Ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case M:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:ft(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return ft(e(t))}catch{}}return null}var mt=Array.isArray,I=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},J=[],F=-1;function w(e){return{current:e}}function R(e){0>F||(e.current=J[F],J[F]=null,F--)}function U(e,t){F++,J[F]=e.current,e.current=t}var K=w(null),ne=w(null),W=w(null),de=w(null);function He(e,t){switch(U(W,t),U(ne,e),U(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pp(t),e=Vp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(K),U(K,e)}function Me(){R(K),R(ne),R(W)}function aa(e){e.memoizedState!==null&&U(de,e);var t=K.current,s=Vp(t,e.type);t!==s&&(U(ne,e),U(K,s))}function ma(e){ne.current===e&&(R(K),R(ne)),de.current===e&&(R(de),Br._currentValue=ce)}var Ha,ka;function Ia(e){if(Ha===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||"",ka=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+e+ka}var pa=!1;function Gi(e,t){if(!e||pa)return"";pa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(H){var L=H}Reflect.construct(e,[],V)}else{try{V.call()}catch(H){L=H}e.call(V.prototype)}}else{try{throw Error()}catch(H){L=H}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],b=h[1];if(_&&b){var T=_.split(`
`),z=b.split(`
`);for(u=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;if(l===T.length||u===z.length)for(l=T.length-1,u=z.length-1;1<=l&&0<=u&&T[l]!==z[u];)u--;for(;1<=l&&0<=u;l--,u--)if(T[l]!==z[u]){if(l!==1||u!==1)do if(l--,u--,0>u||T[l]!==z[u]){var G=`
`+T[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=u);break}}}finally{pa=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ia(s):""}function nc(e,t){switch(e.tag){case 26:case 27:case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return e.child!==t&&t!==null?Ia("Suspense Fallback"):Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Gi(e.type,!1);case 11:return Gi(e.type.render,!1);case 1:return Gi(e.type,!0);case 31:return Ia("Activity");default:return""}}function cl(e){try{var t="",s=null;do t+=nc(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Pi=Object.prototype.hasOwnProperty,Vi=n.unstable_scheduleCallback,Yi=n.unstable_cancelCallback,sc=n.unstable_shouldYield,ic=n.unstable_requestPaint,Wt=n.unstable_now,rc=n.unstable_getCurrentPriorityLevel,ul=n.unstable_ImmediatePriority,dl=n.unstable_UserBlockingPriority,qs=n.unstable_NormalPriority,lc=n.unstable_LowPriority,hl=n.unstable_IdlePriority,Ki=n.log,Fi=n.unstable_setDisableYieldValue,An=null,Y=null;function se(e){if(typeof Ki=="function"&&Fi(e),Y&&typeof Y.setStrictMode=="function")try{Y.setStrictMode(An,e)}catch{}}var fe=Math.clz32?Math.clz32:st,Ne=Math.log,Ge=Math.LN2;function st(e){return e>>>=0,e===0?32:31-(Ne(e)/Ge|0)|0}var pt=256,at=262144,Dt=4194304;function We(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xt(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~h,l!==0?u=We(l):(_&=b,_!==0?u=We(_):s||(s=b&~e,s!==0&&(u=We(s))))):(b=l&~h,b!==0?u=We(b):_!==0?u=We(_):s||(s=l&~e,s!==0&&(u=We(s)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,s=t&-t,h>=s||h===32&&(s&4194048)!==0)?t:u}function ct(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ga(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var e=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),e}function Rn(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ea(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function us(e,t,s,l,u,h){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,T=e.expirationTimes,z=e.hiddenUpdates;for(s=_&~s;0<s;){var G=31-fe(s),V=1<<G;b[G]=0,T[G]=-1;var L=z[G];if(L!==null)for(z[G]=null,G=0;G<L.length;G++){var H=L[G];H!==null&&(H.lane&=-536870913)}s&=~V}l!==0&&Xi(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~t))}function Xi(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-fe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Ga(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-fe(s),u=1<<l;u&t|e[l]&t&&(e[l]|=t),s&=~u}}function Ch(e,t){var s=t&-t;return s=(s&42)!==0?1:oc(s),(s&(e.suspendedLanes|t))!==0?0:s}function oc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Th(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:mg(e.type))}function kh(e,t){var s=ee.p;try{return ee.p=e,t()}finally{ee.p=s}}var Dn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Dn,na="__reactProps$"+Dn,Hs="__reactContainer$"+Dn,uc="__reactEvents$"+Dn,Av="__reactListeners$"+Dn,Rv="__reactHandles$"+Dn,Oh="__reactResources$"+Dn,Qi="__reactMarker$"+Dn;function dc(e){delete e[Ht],delete e[na],delete e[uc],delete e[Av],delete e[Rv]}function Is(e){var t=e[Ht];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Hs]||s[Ht]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Wp(e);e!==null;){if(s=e[Ht])return s;e=Wp(e)}return t}e=s,s=e.parentNode}return null}function Gs(e){if(e=e[Ht]||e[Hs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ps(e){var t=e[Oh];return t||(t=e[Oh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zt(e){e[Qi]=!0}var Ah=new Set,Rh={};function ds(e,t){Vs(e,t),Vs(e+"Capture",t)}function Vs(e,t){for(Rh[e]=t,e=0;e<t.length;e++)Ah.add(t[e])}var Dv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dh={},Mh={};function Mv(e){return Pi.call(Mh,e)?!0:Pi.call(Dh,e)?!1:Dv.test(e)?Mh[e]=!0:(Dh[e]=!0,!1)}function fl(e,t,s){if(Mv(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function ml(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function rn(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function Oa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bv(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(_){s=""+_,h.call(this,_)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hc(e){if(!e._valueTracker){var t=Bh(e)?"checked":"value";e._valueTracker=Bv(e,t,""+e[t])}}function $h(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Bh(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $v=/[\n"\\]/g;function Aa(e){return e.replace($v,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fc(e,t,s,l,u,h,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Oa(t)):e.value!==""+Oa(t)&&(e.value=""+Oa(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?mc(e,_,Oa(t)):s!=null?mc(e,_,Oa(s)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Oa(b):e.removeAttribute("name")}function zh(e,t,s,l,u,h,_,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){hc(e);return}s=s!=null?""+Oa(s):"",t=t!=null?""+Oa(t):s,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),hc(e)}function mc(e,t,s){t==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ys(e,t,s,l){if(e=e.options,t){t={};for(var u=0;u<s.length;u++)t["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=t.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Oa(s),t=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Lh(e,t,s){if(t!=null&&(t=""+Oa(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Oa(s):""}function Uh(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Oa(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),hc(e)}function Ks(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var zv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qh(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||zv.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Hh(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&s[u]!==l&&qh(e,u,l)}else for(var h in t)t.hasOwnProperty(h)&&qh(e,h,t[h])}function pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(e){return Uv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var gc=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,Xs=null;function Ih(e){var t=Gs(e);if(t&&(e=t.stateNode)){var s=e[na]||null;e:switch(e=t.stateNode,t.type){case"input":if(fc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Aa(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var u=l[na]||null;if(!u)throw Error(r(90));fc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&$h(l)}break e;case"textarea":Lh(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Ys(e,!!s.multiple,t,!1)}}}var vc=!1;function Gh(e,t,s){if(vc)return e(t,s);vc=!0;try{var l=e(t);return l}finally{if(vc=!1,(Fs!==null||Xs!==null)&&(no(),Fs&&(t=Fs,e=Xs,Xs=Fs=null,Ih(t),e)))for(t=0;t<e.length;t++)Ih(e[t])}}function Wi(e,t){var s=e.stateNode;if(s===null)return null;var l=s[na]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=!1;if(on)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{yc=!1}var Mn=null,bc=null,_l=null;function Ph(){if(_l)return _l;var e,t=bc,s=t.length,l,u="value"in Mn?Mn.value:Mn.textContent,h=u.length;for(e=0;e<s&&t[e]===u[e];e++);var _=s-e;for(l=1;l<=_&&t[s-l]===u[h-l];l++);return _l=u.slice(e,1<l?1-l:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Vh(){return!1}function sa(e){function t(s,l,u,h,_){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?yl:Vh,this.isPropagationStopped=Vh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=sa(hs),er=y({},hs,{view:0,detail:0}),qv=sa(er),wc,xc,tr,wl=y({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(wc=e.screenX-tr.screenX,xc=e.screenY-tr.screenY):xc=wc=0,tr=e),wc)},movementY:function(e){return"movementY"in e?e.movementY:xc}}),Yh=sa(wl),Hv=y({},wl,{dataTransfer:0}),Iv=sa(Hv),Gv=y({},er,{relatedTarget:0}),Sc=sa(Gv),Pv=y({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Vv=sa(Pv),Yv=y({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kv=sa(Yv),Fv=y({},hs,{data:0}),Kh=sa(Fv),Xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jv[e])?!!t[e]:!1}function jc(){return Wv}var Zv=y({},er,{key:function(e){if(e.key){var t=Xv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ey=sa(Zv),ty=y({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=sa(ty),ay=y({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),ny=sa(ay),sy=y({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=sa(sy),ry=y({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ly=sa(ry),oy=y({},hs,{newState:0,oldState:0}),cy=sa(oy),uy=[9,13,27,32],Nc=on&&"CompositionEvent"in window,ar=null;on&&"documentMode"in document&&(ar=document.documentMode);var dy=on&&"TextEvent"in window&&!ar,Xh=on&&(!Nc||ar&&8<ar&&11>=ar),Qh=" ",Jh=!1;function Wh(e,t){switch(e){case"keyup":return uy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function hy(e,t){switch(e){case"compositionend":return Zh(t);case"keypress":return t.which!==32?null:(Jh=!0,Qh);case"textInput":return e=t.data,e===Qh&&Jh?null:e;default:return null}}function fy(e,t){if(Qs)return e==="compositionend"||!Nc&&Wh(e,t)?(e=Ph(),_l=bc=Mn=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xh&&t.locale!=="ko"?null:t.data;default:return null}}var my={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!my[e.type]:t==="textarea"}function tf(e,t,s,l){Fs?Xs?Xs.push(l):Xs=[l]:Fs=l,t=uo(t,"onChange"),0<t.length&&(s=new bl("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var nr=null,sr=null;function py(e){Lp(e,0)}function xl(e){var t=Ji(e);if($h(t))return e}function af(e,t){if(e==="change")return t}var nf=!1;if(on){var Ec;if(on){var Cc="oninput"in document;if(!Cc){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),Cc=typeof sf.oninput=="function"}Ec=Cc}else Ec=!1;nf=Ec&&(!document.documentMode||9<document.documentMode)}function rf(){nr&&(nr.detachEvent("onpropertychange",lf),sr=nr=null)}function lf(e){if(e.propertyName==="value"&&xl(sr)){var t=[];tf(t,sr,e,_c(e)),Gh(py,t)}}function gy(e,t,s){e==="focusin"?(rf(),nr=t,sr=s,nr.attachEvent("onpropertychange",lf)):e==="focusout"&&rf()}function _y(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(sr)}function vy(e,t){if(e==="click")return xl(t)}function yy(e,t){if(e==="input"||e==="change")return xl(t)}function by(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _a=typeof Object.is=="function"?Object.is:by;function ir(e,t){if(_a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Pi.call(t,u)||!_a(e[u],t[u]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,t){var s=of(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=of(s)}}function uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function df(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pl(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=pl(e.document)}return t}function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wy=on&&"documentMode"in document&&11>=document.documentMode,Js=null,kc=null,rr=null,Oc=!1;function hf(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oc||Js==null||Js!==pl(l)||(l=Js,"selectionStart"in l&&Tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rr&&ir(rr,l)||(rr=l,l=uo(kc,"onSelect"),0<l.length&&(t=new bl("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=Js)))}function fs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ws={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Ac={},ff={};on&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ms(e){if(Ac[e])return Ac[e];if(!Ws[e])return e;var t=Ws[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in ff)return Ac[e]=t[s];return e}var mf=ms("animationend"),pf=ms("animationiteration"),gf=ms("animationstart"),xy=ms("transitionrun"),Sy=ms("transitionstart"),jy=ms("transitioncancel"),_f=ms("transitionend"),vf=new Map,Rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rc.push("scrollEnd");function Pa(e,t){vf.set(e,t),ds(t,[e])}var Sl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ra=[],Zs=0,Dc=0;function jl(){for(var e=Zs,t=Dc=Zs=0;t<e;){var s=Ra[t];Ra[t++]=null;var l=Ra[t];Ra[t++]=null;var u=Ra[t];Ra[t++]=null;var h=Ra[t];if(Ra[t++]=null,l!==null&&u!==null){var _=l.pending;_===null?u.next=u:(u.next=_.next,_.next=u),l.pending=u}h!==0&&yf(s,u,h)}}function Nl(e,t,s,l){Ra[Zs++]=e,Ra[Zs++]=t,Ra[Zs++]=s,Ra[Zs++]=l,Dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Mc(e,t,s,l){return Nl(e,t,s,l),El(e)}function ps(e,t){return Nl(e,null,null,t),El(e)}function yf(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var u=!1,h=e.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-fe(s),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=s|536870912),h):null}function El(e){if(50<Tr)throw Tr=0,Gu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function Ny(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(e,t,s,l){return new Ny(e,t,s,l)}function Bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var s=e.alternate;return s===null?(s=va(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function bf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cl(e,t,s,l,u,h){var _=0;if(l=e,typeof e=="function")Bc(e)&&(_=1);else if(typeof e=="string")_=O0(e,s,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ee:return e=va(31,s,t,u),e.elementType=Ee,e.lanes=h,e;case N:return gs(s.children,u,h,t);case k:_=8,u|=24;break;case O:return e=va(12,s,t,u|2),e.elementType=O,e.lanes=h,e;case q:return e=va(13,s,t,u),e.elementType=q,e.lanes=h,e;case ae:return e=va(19,s,t,u),e.elementType=ae,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:_=10;break e;case D:_=9;break e;case j:_=11;break e;case Z:_=14;break e;case _e:_=16,l=null;break e}_=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=va(_,s,t,u),t.elementType=e,t.type=l,t.lanes=h,t}function gs(e,t,s,l){return e=va(7,e,l,t),e.lanes=s,e}function $c(e,t,s){return e=va(6,e,null,t),e.lanes=s,e}function wf(e){var t=va(18,null,null,0);return t.stateNode=e,t}function zc(e,t,s){return t=va(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xf=new WeakMap;function Da(e,t){if(typeof e=="object"&&e!==null){var s=xf.get(e);return s!==void 0?s:(t={value:e,source:t,stack:cl(t)},xf.set(e,t),t)}return{value:e,source:t,stack:cl(t)}}var ti=[],ai=0,Tl=null,lr=0,Ma=[],Ba=0,Bn=null,Ja=1,Wa="";function un(e,t){ti[ai++]=lr,ti[ai++]=Tl,Tl=e,lr=t}function Sf(e,t,s){Ma[Ba++]=Ja,Ma[Ba++]=Wa,Ma[Ba++]=Bn,Bn=e;var l=Ja;e=Wa;var u=32-fe(l)-1;l&=~(1<<u),s+=1;var h=32-fe(t)+u;if(30<h){var _=u-u%5;h=(l&(1<<_)-1).toString(32),l>>=_,u-=_,Ja=1<<32-fe(t)+u|s<<u|l,Wa=h+e}else Ja=1<<h|s<<u|l,Wa=e}function Lc(e){e.return!==null&&(un(e,1),Sf(e,1,0))}function Uc(e){for(;e===Tl;)Tl=ti[--ai],ti[ai]=null,lr=ti[--ai],ti[ai]=null;for(;e===Bn;)Bn=Ma[--Ba],Ma[Ba]=null,Wa=Ma[--Ba],Ma[Ba]=null,Ja=Ma[--Ba],Ma[Ba]=null}function jf(e,t){Ma[Ba++]=Ja,Ma[Ba++]=Wa,Ma[Ba++]=Bn,Ja=t.id,Wa=t.overflow,Bn=e}var It=null,ut=null,Ue=!1,$n=null,$a=!1,qc=Error(r(519));function zn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(Da(t,e)),qc}function Nf(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[Ht]=e,t[na]=l,s){case"dialog":$e("cancel",t),$e("close",t);break;case"iframe":case"object":case"embed":$e("load",t);break;case"video":case"audio":for(s=0;s<Or.length;s++)$e(Or[s],t);break;case"source":$e("error",t);break;case"img":case"image":case"link":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"input":$e("invalid",t),zh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$e("invalid",t);break;case"textarea":$e("invalid",t),Uh(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||Ip(t.textContent,s)?(l.popover!=null&&($e("beforetoggle",t),$e("toggle",t)),l.onScroll!=null&&$e("scroll",t),l.onScrollEnd!=null&&$e("scrollend",t),l.onClick!=null&&(t.onclick=ln),t=!0):t=!1,t||zn(e,!0)}function Ef(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:It=It.return}}function ni(e){if(e!==It)return!1;if(!Ue)return Ef(e),Ue=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||sd(e.type,e.memoizedProps)),s=!s),s&&ut&&zn(e),Ef(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ut=Jp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ut=Jp(e)}else t===27?(t=ut,Jn(e.type)?(e=cd,cd=null,ut=e):ut=t):ut=It?La(e.stateNode.nextSibling):null;return!0}function _s(){ut=It=null,Ue=!1}function Hc(){var e=$n;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),$n=null),e}function or(e){$n===null?$n=[e]:$n.push(e)}var Ic=w(null),vs=null,dn=null;function Ln(e,t,s){U(Ic,t._currentValue),t._currentValue=s}function hn(e){e._currentValue=Ic.current,R(Ic)}function Gc(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function Pc(e,t,s,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var _=u.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=u;for(var T=0;T<t.length;T++)if(b.context===t[T]){h.lanes|=s,b=h.alternate,b!==null&&(b.lanes|=s),Gc(h.return,s,e),l||(_=null);break e}h=b.next}}else if(u.tag===18){if(_=u.return,_===null)throw Error(r(341));_.lanes|=s,h=_.alternate,h!==null&&(h.lanes|=s),Gc(_,s,e),_=null}else _=u.child;if(_!==null)_.return=u;else for(_=u;_!==null;){if(_===e){_=null;break}if(u=_.sibling,u!==null){u.return=_.return,_=u;break}_=_.return}u=_}}function si(e,t,s,l){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var _=u.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=u.type;_a(u.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(u===de.current){if(_=u.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}u=u.return}e!==null&&Pc(t,e,s,l),t.flags|=262144}function kl(e){for(e=e.firstContext;e!==null;){if(!_a(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){vs=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Cf(vs,e)}function Ol(e,t){return vs===null&&ys(e),Cf(e,t)}function Cf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},dn===null){if(e===null)throw Error(r(308));dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dn=dn.next=t;return s}var Ey=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Cy=n.unstable_scheduleCallback,Ty=n.unstable_NormalPriority,Tt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new Ey,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&Cy(Ty,function(){e.controller.abort()})}var ur=null,Yc=0,ii=0,ri=null;function ky(e,t){if(ur===null){var s=ur=[];Yc=0,ii=Xu(),ri={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yc++,t.then(Tf,Tf),t}function Tf(){if(--Yc===0&&ur!==null){ri!==null&&(ri.status="fulfilled");var e=ur;ur=null,ii=0,ri=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Oy(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<s.length;u++)(0,s[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var kf=I.S;I.S=function(e,t){hp=Wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ky(e,t),kf!==null&&kf(e,t)};var bs=w(null);function Kc(){var e=bs.current;return e!==null?e:nt.pooledCache}function Al(e,t){t===null?U(bs,bs.current):U(bs,t.pool)}function Of(){var e=Kc();return e===null?null:{parent:Tt._currentValue,pool:e}}var li=Error(r(460)),Fc=Error(r(474)),Rl=Error(r(542)),Dl={then:function(){}};function Af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rf(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(ln,ln),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e;default:if(typeof t.status=="string")t.then(ln,ln);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e}throw xs=t,li}}function ws(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xs=s,li):s}}var xs=null;function Df(){if(xs===null)throw Error(r(459));var e=xs;return xs=null,e}function Mf(e){if(e===li||e===Rl)throw Error(r(483))}var oi=null,dr=0;function Ml(e){var t=dr;return dr+=1,oi===null&&(oi=[]),Rf(oi,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bl(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bf(e){function t(B,A){if(e){var $=B.deletions;$===null?(B.deletions=[A],B.flags|=16):$.push(A)}}function s(B,A){if(!e)return null;for(;A!==null;)t(B,A),A=A.sibling;return null}function l(B){for(var A=new Map;B!==null;)B.key!==null?A.set(B.key,B):A.set(B.index,B),B=B.sibling;return A}function u(B,A){return B=cn(B,A),B.index=0,B.sibling=null,B}function h(B,A,$){return B.index=$,e?($=B.alternate,$!==null?($=$.index,$<A?(B.flags|=67108866,A):$):(B.flags|=67108866,A)):(B.flags|=1048576,A)}function _(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function b(B,A,$,P){return A===null||A.tag!==6?(A=$c($,B.mode,P),A.return=B,A):(A=u(A,$),A.return=B,A)}function T(B,A,$,P){var ge=$.type;return ge===N?G(B,A,$.props.children,P,$.key):A!==null&&(A.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===_e&&ws(ge)===A.type)?(A=u(A,$.props),hr(A,$),A.return=B,A):(A=Cl($.type,$.key,$.props,null,B.mode,P),hr(A,$),A.return=B,A)}function z(B,A,$,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==$.containerInfo||A.stateNode.implementation!==$.implementation?(A=zc($,B.mode,P),A.return=B,A):(A=u(A,$.children||[]),A.return=B,A)}function G(B,A,$,P,ge){return A===null||A.tag!==7?(A=gs($,B.mode,P,ge),A.return=B,A):(A=u(A,$),A.return=B,A)}function V(B,A,$){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=$c(""+A,B.mode,$),A.return=B,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return $=Cl(A.type,A.key,A.props,null,B.mode,$),hr($,A),$.return=B,$;case C:return A=zc(A,B.mode,$),A.return=B,A;case _e:return A=ws(A),V(B,A,$)}if(mt(A)||Te(A))return A=gs(A,B.mode,$,null),A.return=B,A;if(typeof A.then=="function")return V(B,Ml(A),$);if(A.$$typeof===M)return V(B,Ol(B,A),$);Bl(B,A)}return null}function L(B,A,$,P){var ge=A!==null?A.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:b(B,A,""+$,P);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===ge?T(B,A,$,P):null;case C:return $.key===ge?z(B,A,$,P):null;case _e:return $=ws($),L(B,A,$,P)}if(mt($)||Te($))return ge!==null?null:G(B,A,$,P,null);if(typeof $.then=="function")return L(B,A,Ml($),P);if($.$$typeof===M)return L(B,A,Ol(B,$),P);Bl(B,$)}return null}function H(B,A,$,P,ge){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return B=B.get($)||null,b(A,B,""+P,ge);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return B=B.get(P.key===null?$:P.key)||null,T(A,B,P,ge);case C:return B=B.get(P.key===null?$:P.key)||null,z(A,B,P,ge);case _e:return P=ws(P),H(B,A,$,P,ge)}if(mt(P)||Te(P))return B=B.get($)||null,G(A,B,P,ge,null);if(typeof P.then=="function")return H(B,A,$,Ml(P),ge);if(P.$$typeof===M)return H(B,A,$,Ol(A,P),ge);Bl(A,P)}return null}function ue(B,A,$,P){for(var ge=null,Pe=null,he=A,Oe=A=0,Le=null;he!==null&&Oe<$.length;Oe++){he.index>Oe?(Le=he,he=null):Le=he.sibling;var Ve=L(B,he,$[Oe],P);if(Ve===null){he===null&&(he=Le);break}e&&he&&Ve.alternate===null&&t(B,he),A=h(Ve,A,Oe),Pe===null?ge=Ve:Pe.sibling=Ve,Pe=Ve,he=Le}if(Oe===$.length)return s(B,he),Ue&&un(B,Oe),ge;if(he===null){for(;Oe<$.length;Oe++)he=V(B,$[Oe],P),he!==null&&(A=h(he,A,Oe),Pe===null?ge=he:Pe.sibling=he,Pe=he);return Ue&&un(B,Oe),ge}for(he=l(he);Oe<$.length;Oe++)Le=H(he,B,Oe,$[Oe],P),Le!==null&&(e&&Le.alternate!==null&&he.delete(Le.key===null?Oe:Le.key),A=h(Le,A,Oe),Pe===null?ge=Le:Pe.sibling=Le,Pe=Le);return e&&he.forEach(function(as){return t(B,as)}),Ue&&un(B,Oe),ge}function ye(B,A,$,P){if($==null)throw Error(r(151));for(var ge=null,Pe=null,he=A,Oe=A=0,Le=null,Ve=$.next();he!==null&&!Ve.done;Oe++,Ve=$.next()){he.index>Oe?(Le=he,he=null):Le=he.sibling;var as=L(B,he,Ve.value,P);if(as===null){he===null&&(he=Le);break}e&&he&&as.alternate===null&&t(B,he),A=h(as,A,Oe),Pe===null?ge=as:Pe.sibling=as,Pe=as,he=Le}if(Ve.done)return s(B,he),Ue&&un(B,Oe),ge;if(he===null){for(;!Ve.done;Oe++,Ve=$.next())Ve=V(B,Ve.value,P),Ve!==null&&(A=h(Ve,A,Oe),Pe===null?ge=Ve:Pe.sibling=Ve,Pe=Ve);return Ue&&un(B,Oe),ge}for(he=l(he);!Ve.done;Oe++,Ve=$.next())Ve=H(he,B,Oe,Ve.value,P),Ve!==null&&(e&&Ve.alternate!==null&&he.delete(Ve.key===null?Oe:Ve.key),A=h(Ve,A,Oe),Pe===null?ge=Ve:Pe.sibling=Ve,Pe=Ve);return e&&he.forEach(function(H0){return t(B,H0)}),Ue&&un(B,Oe),ge}function tt(B,A,$,P){if(typeof $=="object"&&$!==null&&$.type===N&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var ge=$.key;A!==null;){if(A.key===ge){if(ge=$.type,ge===N){if(A.tag===7){s(B,A.sibling),P=u(A,$.props.children),P.return=B,B=P;break e}}else if(A.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===_e&&ws(ge)===A.type){s(B,A.sibling),P=u(A,$.props),hr(P,$),P.return=B,B=P;break e}s(B,A);break}else t(B,A);A=A.sibling}$.type===N?(P=gs($.props.children,B.mode,P,$.key),P.return=B,B=P):(P=Cl($.type,$.key,$.props,null,B.mode,P),hr(P,$),P.return=B,B=P)}return _(B);case C:e:{for(ge=$.key;A!==null;){if(A.key===ge)if(A.tag===4&&A.stateNode.containerInfo===$.containerInfo&&A.stateNode.implementation===$.implementation){s(B,A.sibling),P=u(A,$.children||[]),P.return=B,B=P;break e}else{s(B,A);break}else t(B,A);A=A.sibling}P=zc($,B.mode,P),P.return=B,B=P}return _(B);case _e:return $=ws($),tt(B,A,$,P)}if(mt($))return ue(B,A,$,P);if(Te($)){if(ge=Te($),typeof ge!="function")throw Error(r(150));return $=ge.call($),ye(B,A,$,P)}if(typeof $.then=="function")return tt(B,A,Ml($),P);if($.$$typeof===M)return tt(B,A,Ol(B,$),P);Bl(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,A!==null&&A.tag===6?(s(B,A.sibling),P=u(A,$),P.return=B,B=P):(s(B,A),P=$c($,B.mode,P),P.return=B,B=P),_(B)):s(B,A)}return function(B,A,$,P){try{dr=0;var ge=tt(B,A,$,P);return oi=null,ge}catch(he){if(he===li||he===Rl)throw he;var Pe=va(29,he,null,B.mode);return Pe.lanes=P,Pe.return=B,Pe}}}var Ss=Bf(!0),$f=Bf(!1),Un=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=El(e),yf(e,null,s),t}return Nl(e,l,t,s),El(e)}function fr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Ga(e,s)}}function Jc(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?u=h=_:h=h.next=_,s=s.next}while(s!==null);h===null?u=h=t:h=h.next=t}else u=h=t;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Wc=!1;function mr(){if(Wc){var e=ri;if(e!==null)throw e}}function pr(e,t,s,l){Wc=!1;var u=e.updateQueue;Un=!1;var h=u.firstBaseUpdate,_=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var T=b,z=T.next;T.next=null,_===null?h=z:_.next=z,_=T;var G=e.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==_&&(b===null?G.firstBaseUpdate=z:b.next=z,G.lastBaseUpdate=T))}if(h!==null){var V=u.baseState;_=0,G=z=T=null,b=h;do{var L=b.lane&-536870913,H=L!==b.lane;if(H?(ze&L)===L:(l&L)===L){L!==0&&L===ii&&(Wc=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=e,ye=b;L=t;var tt=s;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){V=ue.call(tt,V,L);break e}V=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,L=typeof ue=="function"?ue.call(tt,V,L):ue,L==null)break e;V=y({},V,L);break e;case 2:Un=!0}}L=b.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=u.callbacks,H===null?u.callbacks=[L]:H.push(L))}else H={lane:L,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(z=G=H,T=V):G=G.next=H,_|=L;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;H=b,b=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);G===null&&(T=V),u.baseState=T,u.firstBaseUpdate=z,u.lastBaseUpdate=G,h===null&&(u.shared.lanes=0),Yn|=_,e.lanes=_,e.memoizedState=V}}function zf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Lf(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zf(s[e],t)}var ci=w(null),$l=w(0);function Uf(e,t){e=wn,U($l,e),U(ci,t),wn=e|t.baseLanes}function Zc(){U($l,wn),U(ci,ci.current)}function eu(){wn=$l.current,R(ci),R($l)}var ya=w(null),za=null;function In(e){var t=e.alternate;U(Nt,Nt.current&1),U(ya,e),za===null&&(t===null||ci.current!==null||t.memoizedState!==null)&&(za=e)}function tu(e){U(Nt,Nt.current),U(ya,e),za===null&&(za=e)}function qf(e){e.tag===22?(U(Nt,Nt.current),U(ya,e),za===null&&(za=e)):Gn()}function Gn(){U(Nt,Nt.current),U(ya,ya.current)}function ba(e){R(ya),za===e&&(za=null),R(Nt)}var Nt=w(0);function zl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ld(s)||od(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fn=0,ke=null,Ze=null,kt=null,Ll=!1,ui=!1,js=!1,Ul=0,gr=0,di=null,Ay=0;function wt(){throw Error(r(321))}function au(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!_a(e[s],t[s]))return!1;return!0}function nu(e,t,s,l,u,h){return fn=h,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Sm:vu,js=!1,h=s(l,u),js=!1,ui&&(h=If(t,s,l,u)),Hf(e),h}function Hf(e){I.H=yr;var t=Ze!==null&&Ze.next!==null;if(fn=0,kt=Ze=ke=null,Ll=!1,gr=0,di=null,t)throw Error(r(300));e===null||Ot||(e=e.dependencies,e!==null&&kl(e)&&(Ot=!0))}function If(e,t,s,l){ke=e;var u=0;do{if(ui&&(di=null),gr=0,ui=!1,25<=u)throw Error(r(301));if(u+=1,kt=Ze=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}I.H=jm,h=t(s,l)}while(ui);return h}function Ry(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?_r(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(ke.flags|=1024),t}function su(){var e=Ul!==0;return Ul=0,e}function iu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function ru(e){if(Ll){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ll=!1}fn=0,kt=Ze=ke=null,ui=!1,gr=Ul=0,di=null}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ke.memoizedState=kt=e:kt=kt.next=e,kt}function Et(){if(Ze===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=kt===null?ke.memoizedState:kt.next;if(t!==null)kt=t,Ze=e;else{if(e===null)throw ke.alternate===null?Error(r(467)):Error(r(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},kt===null?ke.memoizedState=kt=e:kt=kt.next=e}return kt}function ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _r(e){var t=gr;return gr+=1,di===null&&(di=[]),e=Rf(di,e,t),t=ke,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Sm:vu),e}function Hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _r(e);if(e.$$typeof===M)return Gt(e)}throw Error(r(438,String(e)))}function lu(e){var t=null,s=ke.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=ql(),ke.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=Ie;return t.index++,s}function mn(e,t){return typeof t=="function"?t(e):t}function Il(e){var t=Et();return ou(t,Ze,e)}function ou(e,t,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var _=u.next;u.next=h.next,h.next=_}t.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var b=_=null,T=null,z=t,G=!1;do{var V=z.lane&-536870913;if(V!==z.lane?(ze&V)===V:(fn&V)===V){var L=z.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),V===ii&&(G=!0);else if((fn&L)===L){z=z.next,L===ii&&(G=!0);continue}else V={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(b=T=V,_=h):T=T.next=V,ke.lanes|=L,Yn|=L;V=z.action,js&&s(h,V),h=z.hasEagerState?z.eagerState:s(h,V)}else L={lane:V,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(b=T=L,_=h):T=T.next=L,ke.lanes|=V,Yn|=V;z=z.next}while(z!==null&&z!==t);if(T===null?_=h:T.next=b,!_a(h,e.memoizedState)&&(Ot=!0,G&&(s=ri,s!==null)))throw s;e.memoizedState=h,e.baseState=_,e.baseQueue=T,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cu(e){var t=Et(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,h=t.memoizedState;if(u!==null){s.pending=null;var _=u=u.next;do h=e(h,_.action),_=_.next;while(_!==u);_a(h,t.memoizedState)||(Ot=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,l]}function Gf(e,t,s){var l=ke,u=Et(),h=Ue;if(h){if(s===void 0)throw Error(r(407));s=s()}else s=t();var _=!_a((Ze||u).memoizedState,s);if(_&&(u.memoizedState=s,Ot=!0),u=u.queue,hu(Yf.bind(null,l,u,e),[e]),u.getSnapshot!==t||_||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,hi(9,{destroy:void 0},Vf.bind(null,l,u,s,t),null),nt===null)throw Error(r(349));h||(fn&127)!==0||Pf(l,t,s)}return s}function Pf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ke.updateQueue,t===null?(t=ql(),ke.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Vf(e,t,s,l){t.value=s,t.getSnapshot=l,Kf(t)&&Ff(e)}function Yf(e,t,s){return s(function(){Kf(t)&&Ff(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!_a(e,s)}catch{return!0}}function Ff(e){var t=ps(e,2);t!==null&&ca(t,e,2)}function uu(e){var t=ta();if(typeof e=="function"){var s=e;if(e=s(),js){se(!0);try{s()}finally{se(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function Xf(e,t,s,l){return e.baseState=s,ou(e,Ze,typeof l=="function"?l:mn)}function Dy(e,t,s,l,u){if(Vl(e))throw Error(r(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};I.T!==null?s(!0):h.isTransition=!1,l(h),s=t.pending,s===null?(h.next=t.pending=h,Qf(t,h)):(h.next=s.next,t.pending=s.next=h)}}function Qf(e,t){var s=t.action,l=t.payload,u=e.state;if(t.isTransition){var h=I.T,_={};I.T=_;try{var b=s(u,l),T=I.S;T!==null&&T(_,b),Jf(e,t,b)}catch(z){du(e,t,z)}finally{h!==null&&_.types!==null&&(h.types=_.types),I.T=h}}else try{h=s(u,l),Jf(e,t,h)}catch(z){du(e,t,z)}}function Jf(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wf(e,t,l)},function(l){return du(e,t,l)}):Wf(e,t,s)}function Wf(e,t,s){t.status="fulfilled",t.value=s,Zf(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Qf(e,s)))}function du(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,Zf(t),t=t.next;while(t!==l)}e.action=null}function Zf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function em(e,t){return t}function tm(e,t){if(Ue){var s=nt.formState;if(s!==null){e:{var l=ke;if(Ue){if(ut){t:{for(var u=ut,h=$a;u.nodeType!==8;){if(!h){u=null;break t}if(u=La(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){ut=La(u.nextSibling),l=u.data==="F!";break e}}zn(l)}l=!1}l&&(t=s[0])}}return s=ta(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:t},s.queue=l,s=bm.bind(null,ke,l),l.dispatch=s,l=uu(!1),h=_u.bind(null,ke,!1,l.queue),l=ta(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,s=Dy.bind(null,ke,u,h,s),u.dispatch=s,l.memoizedState=e,[t,s,!1]}function am(e){var t=Et();return nm(t,Ze,e)}function nm(e,t,s){if(t=ou(e,t,em)[0],e=Il(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=_r(t)}catch(_){throw _===li?Rl:_}else l=t;t=Et();var u=t.queue,h=u.dispatch;return s!==t.memoizedState&&(ke.flags|=2048,hi(9,{destroy:void 0},My.bind(null,u,s),null)),[l,h,e]}function My(e,t){e.action=t}function sm(e){var t=Et(),s=Ze;if(s!==null)return nm(t,s,e);Et(),t=t.memoizedState,s=Et();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function hi(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=ke.updateQueue,t===null&&(t=ql(),ke.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function im(){return Et().memoizedState}function Gl(e,t,s,l){var u=ta();ke.flags|=e,u.memoizedState=hi(1|t,{destroy:void 0},s,l===void 0?null:l)}function Pl(e,t,s,l){var u=Et();l=l===void 0?null:l;var h=u.memoizedState.inst;Ze!==null&&l!==null&&au(l,Ze.memoizedState.deps)?u.memoizedState=hi(t,h,s,l):(ke.flags|=e,u.memoizedState=hi(1|t,h,s,l))}function rm(e,t){Gl(8390656,8,e,t)}function hu(e,t){Pl(2048,8,e,t)}function By(e){ke.flags|=4;var t=ke.updateQueue;if(t===null)t=ql(),ke.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function lm(e){var t=Et().memoizedState;return By({ref:t,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function om(e,t){return Pl(4,2,e,t)}function cm(e,t){return Pl(4,4,e,t)}function um(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dm(e,t,s){s=s!=null?s.concat([e]):null,Pl(4,4,um.bind(null,t,e),s)}function fu(){}function hm(e,t){var s=Et();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&au(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function fm(e,t){var s=Et();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&au(t,l[1]))return l[0];if(l=e(),js){se(!0);try{e()}finally{se(!1)}}return s.memoizedState=[l,t],l}function mu(e,t,s){return s===void 0||(fn&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=mp(),ke.lanes|=e,Yn|=e,s)}function mm(e,t,s,l){return _a(s,t)?s:ci.current!==null?(e=mu(e,s,l),_a(e,t)||(Ot=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(ze&261930)===0?(Ot=!0,e.memoizedState=s):(e=mp(),ke.lanes|=e,Yn|=e,t)}function pm(e,t,s,l,u){var h=ee.p;ee.p=h!==0&&8>h?h:8;var _=I.T,b={};I.T=b,_u(e,!1,t,s);try{var T=u(),z=I.S;if(z!==null&&z(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var G=Oy(T,l);vr(e,t,G,Sa(e))}else vr(e,t,l,Sa(e))}catch(V){vr(e,t,{then:function(){},status:"rejected",reason:V},Sa())}finally{ee.p=h,_!==null&&b.types!==null&&(_.types=b.types),I.T=_}}function $y(){}function pu(e,t,s,l){if(e.tag!==5)throw Error(r(476));var u=gm(e).queue;pm(e,u,t,ce,s===null?$y:function(){return _m(e),s(l)})}function gm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:ce},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _m(e){var t=gm(e);t.next===null&&(t=e.alternate.memoizedState),vr(e,t.next.queue,{},Sa())}function gu(){return Gt(Br)}function vm(){return Et().memoizedState}function ym(){return Et().memoizedState}function zy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Sa();e=qn(s);var l=Hn(t,e,s);l!==null&&(ca(l,t,s),fr(l,t,s)),t={cache:Vc()},e.payload=t;return}t=t.return}}function Ly(e,t,s){var l=Sa();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vl(e)?wm(t,s):(s=Mc(e,t,s,l),s!==null&&(ca(s,e,l),xm(s,t,l)))}function bm(e,t,s){var l=Sa();vr(e,t,s,l)}function vr(e,t,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vl(e))wm(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var _=t.lastRenderedState,b=h(_,s);if(u.hasEagerState=!0,u.eagerState=b,_a(b,_))return Nl(e,t,u,0),nt===null&&jl(),!1}catch{}if(s=Mc(e,t,u,l),s!==null)return ca(s,e,l),xm(s,t,l),!0}return!1}function _u(e,t,s,l){if(l={lane:2,revertLane:Xu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vl(e)){if(t)throw Error(r(479))}else t=Mc(e,s,l,2),t!==null&&ca(t,e,2)}function Vl(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function wm(e,t){ui=Ll=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xm(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Ga(e,s)}}var yr={readContext:Gt,use:Hl,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};yr.useEffectEvent=wt;var Sm={readContext:Gt,use:Hl,useCallback:function(e,t){return ta().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:rm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Gl(4194308,4,um.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Gl(4194308,4,e,t)},useInsertionEffect:function(e,t){Gl(4,2,e,t)},useMemo:function(e,t){var s=ta();t=t===void 0?null:t;var l=e();if(js){se(!0);try{e()}finally{se(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=ta();if(s!==void 0){var u=s(t);if(js){se(!0);try{s(t)}finally{se(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=Ly.bind(null,ke,e),[l.memoizedState,e]},useRef:function(e){var t=ta();return e={current:e},t.memoizedState=e},useState:function(e){e=uu(e);var t=e.queue,s=bm.bind(null,ke,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:fu,useDeferredValue:function(e,t){var s=ta();return mu(s,e,t)},useTransition:function(){var e=uu(!1);return e=pm.bind(null,ke,e.queue,!0,!1),ta().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=ke,u=ta();if(Ue){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),nt===null)throw Error(r(349));(ze&127)!==0||Pf(l,t,s)}u.memoizedState=s;var h={value:s,getSnapshot:t};return u.queue=h,rm(Yf.bind(null,l,h,e),[e]),l.flags|=2048,hi(9,{destroy:void 0},Vf.bind(null,l,h,s,t),null),s},useId:function(){var e=ta(),t=nt.identifierPrefix;if(Ue){var s=Wa,l=Ja;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Ul++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Ay++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gu,useFormState:tm,useActionState:tm,useOptimistic:function(e){var t=ta();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=_u.bind(null,ke,!0,s),s.dispatch=t,[e,t]},useMemoCache:lu,useCacheRefresh:function(){return ta().memoizedState=zy.bind(null,ke)},useEffectEvent:function(e){var t=ta(),s={impl:e};return t.memoizedState=s,function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},vu={readContext:Gt,use:Hl,useCallback:hm,useContext:Gt,useEffect:hu,useImperativeHandle:dm,useInsertionEffect:om,useLayoutEffect:cm,useMemo:fm,useReducer:Il,useRef:im,useState:function(){return Il(mn)},useDebugValue:fu,useDeferredValue:function(e,t){var s=Et();return mm(s,Ze.memoizedState,e,t)},useTransition:function(){var e=Il(mn)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:_r(e),t]},useSyncExternalStore:Gf,useId:vm,useHostTransitionStatus:gu,useFormState:am,useActionState:am,useOptimistic:function(e,t){var s=Et();return Xf(s,Ze,e,t)},useMemoCache:lu,useCacheRefresh:ym};vu.useEffectEvent=lm;var jm={readContext:Gt,use:Hl,useCallback:hm,useContext:Gt,useEffect:hu,useImperativeHandle:dm,useInsertionEffect:om,useLayoutEffect:cm,useMemo:fm,useReducer:cu,useRef:im,useState:function(){return cu(mn)},useDebugValue:fu,useDeferredValue:function(e,t){var s=Et();return Ze===null?mu(s,e,t):mm(s,Ze.memoizedState,e,t)},useTransition:function(){var e=cu(mn)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:_r(e),t]},useSyncExternalStore:Gf,useId:vm,useHostTransitionStatus:gu,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var s=Et();return Ze!==null?Xf(s,Ze,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:lu,useCacheRefresh:ym};jm.useEffectEvent=lm;function yu(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:y({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bu={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=Sa(),u=qn(l);u.payload=t,s!=null&&(u.callback=s),t=Hn(e,u,l),t!==null&&(ca(t,e,l),fr(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=Sa(),u=qn(l);u.tag=1,u.payload=t,s!=null&&(u.callback=s),t=Hn(e,u,l),t!==null&&(ca(t,e,l),fr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Sa(),l=qn(s);l.tag=2,t!=null&&(l.callback=t),t=Hn(e,l,s),t!==null&&(ca(t,e,s),fr(t,e,s))}};function Nm(e,t,s,l,u,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,_):t.prototype&&t.prototype.isPureReactComponent?!ir(s,l)||!ir(u,h):!0}function Em(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&bu.enqueueReplaceState(t,t.state,null)}function Ns(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=y({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function Cm(e){Sl(e)}function Tm(e){console.error(e)}function km(e){Sl(e)}function Yl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Om(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function wu(e,t,s){return s=qn(s),s.tag=3,s.payload={element:null},s.callback=function(){Yl(e,t)},s}function Am(e){return e=qn(e),e.tag=3,e}function Rm(e,t,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){Om(t,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Om(t,s,l),typeof u!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Uy(e,t,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&si(t,s,u,!0),s=ya.current,s!==null){switch(s.tag){case 31:case 13:return za===null?so():s.alternate===null&&xt===0&&(xt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===Dl?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),Yu(e,l,u)),!1;case 22:return s.flags|=65536,l===Dl?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),Yu(e,l,u)),!1}throw Error(r(435,s.tag))}return Yu(e,l,u),so(),!1}if(Ue)return t=ya.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==qc&&(e=Error(r(422),{cause:l}),or(Da(e,s)))):(l!==qc&&(t=Error(r(423),{cause:l}),or(Da(t,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Da(l,s),u=wu(e.stateNode,l,u),Jc(e,u),xt!==4&&(xt=2)),!1;var h=Error(r(520),{cause:l});if(h=Da(h,s),Cr===null?Cr=[h]:Cr.push(h),xt!==4&&(xt=2),t===null)return!0;l=Da(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=wu(s.stateNode,l,e),Jc(s,e),!1;case 1:if(t=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Kn===null||!Kn.has(h))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Am(u),Rm(u,e,s,l),Jc(s,u),!1}s=s.return}while(s!==null);return!1}var xu=Error(r(461)),Ot=!1;function Pt(e,t,s,l){t.child=e===null?$f(t,null,s,l):Ss(t,e.child,s,l)}function Dm(e,t,s,l,u){s=s.render;var h=t.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ys(t),l=nu(e,t,s,_,h,u),b=su(),e!==null&&!Ot?(iu(e,t,u),pn(e,t,u)):(Ue&&b&&Lc(t),t.flags|=1,Pt(e,t,l,u),t.child)}function Mm(e,t,s,l,u){if(e===null){var h=s.type;return typeof h=="function"&&!Bc(h)&&h.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=h,Bm(e,t,h,l,u)):(e=Cl(s.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Ou(e,u)){var _=h.memoizedProps;if(s=s.compare,s=s!==null?s:ir,s(_,l)&&e.ref===t.ref)return pn(e,t,u)}return t.flags|=1,e=cn(h,l),e.ref=t.ref,e.return=t,t.child=e}function Bm(e,t,s,l,u){if(e!==null){var h=e.memoizedProps;if(ir(h,l)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=l=h,Ou(e,u))(e.flags&131072)!==0&&(Ot=!0);else return t.lanes=e.lanes,pn(e,t,u)}return Su(e,t,s,l,u)}function $m(e,t,s,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,t.child=null;return zm(e,t,h,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Al(t,h!==null?h.cachePool:null),h!==null?Uf(t,h):Zc(),qf(t);else return l=t.lanes=536870912,zm(e,t,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(Al(t,h.cachePool),Uf(t,h),Gn(),t.memoizedState=null):(e!==null&&Al(t,null),Zc(),Gn());return Pt(e,t,u,s),t.child}function br(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zm(e,t,s,l,u){var h=Kc();return h=h===null?null:{parent:Tt._currentValue,pool:h},t.memoizedState={baseLanes:s,cachePool:h},e!==null&&Al(t,null),Zc(),qf(t),e!==null&&si(e,t,l,!0),t.childLanes=u,null}function Kl(e,t){return t=Xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Lm(e,t,s){return Ss(t,e.child,null,s),e=Kl(t,t.pendingProps),e.flags|=2,ba(t),t.memoizedState=null,e}function qy(e,t,s){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=Kl(t,l),t.lanes=536870912,br(null,e);if(tu(t),(e=ut)?(e=Qp(e,$a),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Ja,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},s=wf(e),s.return=t,t.child=s,It=t,ut=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return Kl(t,l)}var h=e.memoizedState;if(h!==null){var _=h.dehydrated;if(tu(t),u)if(t.flags&256)t.flags&=-257,t=Lm(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ot||si(e,t,s,!1),u=(s&e.childLanes)!==0,Ot||u){if(l=nt,l!==null&&(_=Ch(l,s),_!==0&&_!==h.retryLane))throw h.retryLane=_,ps(e,_),ca(l,e,_),xu;so(),t=Lm(e,t,s)}else e=h.treeContext,ut=La(_.nextSibling),It=t,Ue=!0,$n=null,$a=!1,e!==null&&jf(t,e),t=Kl(t,l),t.flags|=4096;return t}return e=cn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Fl(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Su(e,t,s,l,u){return ys(t),s=nu(e,t,s,l,void 0,u),l=su(),e!==null&&!Ot?(iu(e,t,u),pn(e,t,u)):(Ue&&l&&Lc(t),t.flags|=1,Pt(e,t,s,u),t.child)}function Um(e,t,s,l,u,h){return ys(t),t.updateQueue=null,s=If(t,l,s,u),Hf(e),l=su(),e!==null&&!Ot?(iu(e,t,h),pn(e,t,h)):(Ue&&l&&Lc(t),t.flags|=1,Pt(e,t,s,h),t.child)}function qm(e,t,s,l,u){if(ys(t),t.stateNode===null){var h=ei,_=s.contextType;typeof _=="object"&&_!==null&&(h=Gt(_)),h=new s(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=bu,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},Xc(t),_=s.contextType,h.context=typeof _=="object"&&_!==null?Gt(_):ei,h.state=t.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(yu(t,s,_,l),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&bu.enqueueReplaceState(h,h.state,null),pr(t,l,h,u),mr(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var b=t.memoizedProps,T=Ns(s,b);h.props=T;var z=h.context,G=s.contextType;_=ei,typeof G=="object"&&G!==null&&(_=Gt(G));var V=s.getDerivedStateFromProps;G=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||z!==_)&&Em(t,h,l,_),Un=!1;var L=t.memoizedState;h.state=L,pr(t,l,h,u),mr(),z=t.memoizedState,b||L!==z||Un?(typeof V=="function"&&(yu(t,s,V,l),z=t.memoizedState),(T=Un||Nm(t,s,T,l,L,z,_))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=z),h.props=l,h.state=z,h.context=_,l=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Qc(e,t),_=t.memoizedProps,G=Ns(s,_),h.props=G,V=t.pendingProps,L=h.context,z=s.contextType,T=ei,typeof z=="object"&&z!==null&&(T=Gt(z)),b=s.getDerivedStateFromProps,(z=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==V||L!==T)&&Em(t,h,l,T),Un=!1,L=t.memoizedState,h.state=L,pr(t,l,h,u),mr();var H=t.memoizedState;_!==V||L!==H||Un||e!==null&&e.dependencies!==null&&kl(e.dependencies)?(typeof b=="function"&&(yu(t,s,b,l),H=t.memoizedState),(G=Un||Nm(t,s,G,l,L,H,T)||e!==null&&e.dependencies!==null&&kl(e.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=H),h.props=l,h.state=H,h.context=T,l=G):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,Fl(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Ss(t,e.child,null,u),t.child=Ss(t,null,s,u)):Pt(e,t,s,u),t.memoizedState=h.state,e=t.child):e=pn(e,t,u),e}function Hm(e,t,s,l){return _s(),t.flags|=256,Pt(e,t,s,l),t.child}var ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nu(e){return{baseLanes:e,cachePool:Of()}}function Eu(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=xa),e}function Im(e,t,s){var l=t.pendingProps,u=!1,h=(t.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),_&&(u=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(u?In(t):Gn(),(e=ut)?(e=Qp(e,$a),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Ja,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},s=wf(e),s.return=t,t.child=s,It=t,ut=null)):e=null,e===null)throw zn(t);return od(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,u?(Gn(),u=t.mode,b=Xl({mode:"hidden",children:b},u),l=gs(l,u,s,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Nu(s),l.childLanes=Eu(e,_,s),t.memoizedState=ju,br(null,l)):(In(t),Cu(t,b))}var T=e.memoizedState;if(T!==null&&(b=T.dehydrated,b!==null)){if(h)t.flags&256?(In(t),t.flags&=-257,t=Tu(e,t,s)):t.memoizedState!==null?(Gn(),t.child=e.child,t.flags|=128,t=null):(Gn(),b=l.fallback,u=t.mode,l=Xl({mode:"visible",children:l.children},u),b=gs(b,u,s,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,Ss(t,e.child,null,s),l=t.child,l.memoizedState=Nu(s),l.childLanes=Eu(e,_,s),t.memoizedState=ju,t=br(null,l));else if(In(t),od(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,or({value:l,source:null,stack:null}),t=Tu(e,t,s)}else if(Ot||si(e,t,s,!1),_=(s&e.childLanes)!==0,Ot||_){if(_=nt,_!==null&&(l=Ch(_,s),l!==0&&l!==T.retryLane))throw T.retryLane=l,ps(e,l),ca(_,e,l),xu;ld(b)||so(),t=Tu(e,t,s)}else ld(b)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,ut=La(b.nextSibling),It=t,Ue=!0,$n=null,$a=!1,e!==null&&jf(t,e),t=Cu(t,l.children),t.flags|=4096);return t}return u?(Gn(),b=l.fallback,u=t.mode,T=e.child,z=T.sibling,l=cn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,z!==null?b=cn(z,b):(b=gs(b,u,s,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,br(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Nu(s):(u=b.cachePool,u!==null?(T=Tt._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Of(),b={baseLanes:b.baseLanes|s,cachePool:u}),l.memoizedState=b,l.childLanes=Eu(e,_,s),t.memoizedState=ju,br(e.child,l)):(In(t),s=e.child,e=s.sibling,s=cn(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=s,t.memoizedState=null,s)}function Cu(e,t){return t=Xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xl(e,t){return e=va(22,e,null,t),e.lanes=0,e}function Tu(e,t,s){return Ss(t,e.child,null,s),e=Cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gm(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Gc(e.return,t,s)}function ku(e,t,s,l,u,h){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:h}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=u,_.treeForkCount=h)}function Pm(e,t,s){var l=t.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var _=Nt.current,b=(_&2)!==0;if(b?(_=_&1|2,t.flags|=128):_&=1,U(Nt,_),Pt(e,t,l,s),l=Ue?lr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gm(e,s,t);else if(e.tag===19)Gm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=t.child,u=null;s!==null;)e=s.alternate,e!==null&&zl(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=t.child,t.child=null):(u=s.sibling,s.sibling=null),ku(t,!1,u,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&zl(e)===null){t.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}ku(t,!0,s,null,h,l);break;case"together":ku(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function pn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(si(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=cn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=cn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&kl(e)))}function Hy(e,t,s){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Ln(t,Tt,e.memoizedState.cache),_s();break;case 27:case 5:aa(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Ln(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(In(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Im(e,t,s):(In(t),e=pn(e,t,s),e!==null?e.sibling:null);In(t);break;case 19:var u=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(si(e,t,s,!1),l=(s&t.childLanes)!==0),u){if(l)return Pm(e,t,s);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),U(Nt,Nt.current),l)break;return null;case 22:return t.lanes=0,$m(e,t,s,t.pendingProps);case 24:Ln(t,Tt,e.memoizedState.cache)}return pn(e,t,s)}function Vm(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ot=!0;else{if(!Ou(e,s)&&(t.flags&128)===0)return Ot=!1,Hy(e,t,s);Ot=(e.flags&131072)!==0}else Ot=!1,Ue&&(t.flags&1048576)!==0&&Sf(t,lr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ws(t.elementType),t.type=e,typeof e=="function")Bc(e)?(l=Ns(e,l),t.tag=1,t=qm(null,t,e,l,s)):(t.tag=0,t=Su(null,t,e,l,s));else{if(e!=null){var u=e.$$typeof;if(u===j){t.tag=11,t=Dm(null,t,e,l,s);break e}else if(u===Z){t.tag=14,t=Mm(null,t,e,l,s);break e}}throw t=ft(e)||e,Error(r(306,t,""))}}return t;case 0:return Su(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,u=Ns(l,t.pendingProps),qm(e,t,l,u,s);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var h=t.memoizedState;u=h.element,Qc(e,t),pr(t,l,null,s);var _=t.memoizedState;if(l=_.cache,Ln(t,Tt,l),l!==h.cache&&Pc(t,[Tt],s,!0),mr(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Hm(e,t,l,s);break e}else if(l!==u){u=Da(Error(r(424)),t),or(u),t=Hm(e,t,l,s);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ut=La(e.firstChild),It=t,Ue=!0,$n=null,$a=!0,s=$f(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_s(),l===u){t=pn(e,t,s);break e}Pt(e,t,l,s)}t=t.child}return t;case 26:return Fl(e,t),e===null?(s=ag(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ue||(s=t.type,e=t.pendingProps,l=ho(W.current).createElement(s),l[Ht]=t,l[na]=e,Vt(l,s,e),zt(l),t.stateNode=l):t.memoizedState=ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return aa(t),e===null&&Ue&&(l=t.stateNode=Zp(t.type,t.pendingProps,W.current),It=t,$a=!0,u=ut,Jn(t.type)?(cd=u,ut=La(l.firstChild)):ut=u),Pt(e,t,t.pendingProps.children,s),Fl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((u=l=ut)&&(l=_0(l,t.type,t.pendingProps,$a),l!==null?(t.stateNode=l,It=t,ut=La(l.firstChild),$a=!1,u=!0):u=!1),u||zn(t)),aa(t),u=t.type,h=t.pendingProps,_=e!==null?e.memoizedProps:null,l=h.children,sd(u,h)?l=null:_!==null&&sd(u,_)&&(t.flags|=32),t.memoizedState!==null&&(u=nu(e,t,Ry,null,null,s),Br._currentValue=u),Fl(e,t),Pt(e,t,l,s),t.child;case 6:return e===null&&Ue&&((e=s=ut)&&(s=v0(s,t.pendingProps,$a),s!==null?(t.stateNode=s,It=t,ut=null,e=!0):e=!1),e||zn(t)),null;case 13:return Im(e,t,s);case 4:return He(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ss(t,null,l,s):Pt(e,t,l,s),t.child;case 11:return Dm(e,t,t.type,t.pendingProps,s);case 7:return Pt(e,t,t.pendingProps,s),t.child;case 8:return Pt(e,t,t.pendingProps.children,s),t.child;case 12:return Pt(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Ln(t,t.type,l.value),Pt(e,t,l.children,s),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ys(t),u=Gt(u),l=l(u),t.flags|=1,Pt(e,t,l,s),t.child;case 14:return Mm(e,t,t.type,t.pendingProps,s);case 15:return Bm(e,t,t.type,t.pendingProps,s);case 19:return Pm(e,t,s);case 31:return qy(e,t,s);case 22:return $m(e,t,s,t.pendingProps);case 24:return ys(t),l=Gt(Tt),e===null?(u=Kc(),u===null&&(u=nt,h=Vc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=s),u=h),t.memoizedState={parent:l,cache:u},Xc(t),Ln(t,Tt,u)):((e.lanes&s)!==0&&(Qc(e,t),pr(t,null,null,s),mr()),u=e.memoizedState,h=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ln(t,Tt,l)):(l=h.cache,Ln(t,Tt,l),l!==u.cache&&Pc(t,[Tt],s,!0))),Pt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function gn(e){e.flags|=4}function Au(e,t,s,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(vp())e.flags|=8192;else throw xs=Dl,Fc}else e.flags&=-16777217}function Ym(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lg(t))if(vp())e.flags|=8192;else throw xs=Dl,Fc}function Ql(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zt():536870912,e.lanes|=t,gi|=t)}function wr(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function Iy(e,t,s){var l=t.pendingProps;switch(Uc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hn(Tt),Me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ni(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hc())),dt(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(gn(t),h!==null?(dt(t),Ym(t,h)):(dt(t),Au(t,u,null,l,s))):h?h!==e.memoizedState?(gn(t),dt(t),Ym(t,h)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&gn(t),dt(t),Au(t,u,e,l,s)),null;case 27:if(ma(t),s=W.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}e=K.current,ni(t)?Nf(t):(e=Zp(u,l,s),t.stateNode=e,gn(t))}return dt(t),null;case 5:if(ma(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}if(h=K.current,ni(t))Nf(t);else{var _=ho(W.current);switch(h){case 1:h=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=_.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?_.createElement(u,{is:l.is}):_.createElement(u)}}h[Ht]=t,h[na]=l;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)h.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=h;e:switch(Vt(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gn(t)}}return dt(t),Au(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&gn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=W.current,ni(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,u=It,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Ht]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ip(e.nodeValue,s)),e||zn(t,!0)}else e=ho(e).createTextNode(l),e[Ht]=t,t.stateNode=e}return dt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=ni(t),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ht]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else s=Hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(ba(t),t):(ba(t),null);if((t.flags&128)!==0)throw Error(r(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ni(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Ht]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=Hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ba(t),t):(ba(t),null)}return ba(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Ql(t,t.updateQueue),dt(t),null);case 4:return Me(),e===null&&Zu(t.stateNode.containerInfo),dt(t),null;case 10:return hn(t.type),dt(t),null;case 19:if(R(Nt),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,h=l.rendering,h===null)if(u)wr(l,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=zl(e),h!==null){for(t.flags|=128,wr(l,!1),e=h.updateQueue,t.updateQueue=e,Ql(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)bf(s,e),s=s.sibling;return U(Nt,Nt.current&1|2),Ue&&un(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Wt()>to&&(t.flags|=128,u=!0,wr(l,!1),t.lanes=4194304)}else{if(!u)if(e=zl(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Ql(t,e),wr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ue)return dt(t),null}else 2*Wt()-l.renderingStartTime>to&&s!==536870912&&(t.flags|=128,u=!0,wr(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Wt(),e.sibling=null,s=Nt.current,U(Nt,u?s&1|2:s&1),Ue&&un(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return ba(t),eu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),s=t.updateQueue,s!==null&&Ql(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&R(bs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),hn(Tt),dt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Gy(e,t){switch(Uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(Tt),Me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ma(t),null;case 31:if(t.memoizedState!==null){if(ba(t),t.alternate===null)throw Error(r(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ba(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Nt),null;case 4:return Me(),null;case 10:return hn(t.type),null;case 22:case 23:return ba(t),eu(),e!==null&&R(bs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hn(Tt),null;case 25:return null;default:return null}}function Km(e,t){switch(Uc(t),t.tag){case 3:hn(Tt),Me();break;case 26:case 27:case 5:ma(t);break;case 4:Me();break;case 31:t.memoizedState!==null&&ba(t);break;case 13:ba(t);break;case 19:R(Nt);break;case 10:hn(t.type);break;case 22:case 23:ba(t),eu(),e!==null&&R(bs);break;case 24:hn(Tt)}}function xr(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&e)===e){l=void 0;var h=s.create,_=s.inst;l=h(),_.destroy=l}s=s.next}while(s!==u)}}catch(b){Qe(t,t.return,b)}}function Pn(e,t,s){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,u=t;var T=s,z=b;try{z()}catch(G){Qe(u,T,G)}}}l=l.next}while(l!==h)}}catch(G){Qe(t,t.return,G)}}function Fm(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Lf(t,s)}catch(l){Qe(e,e.return,l)}}}function Xm(e,t,s){s.props=Ns(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qe(e,t,l)}}function Sr(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(u){Qe(e,t,u)}}function Za(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Qe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Qe(e,t,u)}else s.current=null}function Qm(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Qe(e,e.return,u)}}function Ru(e,t,s){try{var l=e.stateNode;d0(l,e.type,s,t),l[na]=t}catch(u){Qe(e,e.return,u)}}function Jm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ln));else if(l!==4&&(l===27&&Jn(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Mu(e,t,s),e=e.sibling;e!==null;)Mu(e,t,s),e=e.sibling}function Jl(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&Jn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Jl(e,t,s),e=e.sibling;e!==null;)Jl(e,t,s),e=e.sibling}function Wm(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Vt(t,l,s),t[Ht]=e,t[na]=s}catch(h){Qe(e,e.return,h)}}var _n=!1,At=!1,Bu=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Py(e,t){if(e=e.containerInfo,ad=yo,e=df(e),Tc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var _=0,b=-1,T=-1,z=0,G=0,V=e,L=null;t:for(;;){for(var H;V!==s||u!==0&&V.nodeType!==3||(b=_+u),V!==h||l!==0&&V.nodeType!==3||(T=_+l),V.nodeType===3&&(_+=V.nodeValue.length),(H=V.firstChild)!==null;)L=V,V=H;for(;;){if(V===e)break t;if(L===s&&++z===u&&(b=_),L===h&&++G===l&&(T=_),(H=V.nextSibling)!==null)break;V=L,L=V.parentNode}V=H}s=b===-1||T===-1?null:{start:b,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},yo=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=t,u=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var ue=Ns(s.type,u);e=l.getSnapshotBeforeUpdate(ue,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Qe(s,s.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function ep(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:yn(e,s),l&4&&xr(5,s);break;case 1:if(yn(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(_){Qe(s,s.return,_)}else{var u=Ns(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(s,s.return,_)}}l&64&&Fm(s),l&512&&Sr(s,s.return);break;case 3:if(yn(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Lf(e,t)}catch(_){Qe(s,s.return,_)}}break;case 27:t===null&&l&4&&Wm(s);case 26:case 5:yn(e,s),t===null&&l&4&&Qm(s),l&512&&Sr(s,s.return);break;case 12:yn(e,s);break;case 31:yn(e,s),l&4&&np(e,s);break;case 13:yn(e,s),l&4&&sp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Zy.bind(null,s),y0(e,s))));break;case 22:if(l=s.memoizedState!==null||_n,!l){t=t!==null&&t.memoizedState!==null||At,u=_n;var h=At;_n=l,(At=t)&&!h?bn(e,s,(s.subtreeFlags&8772)!==0):yn(e,s),_n=u,At=h}break;case 30:break;default:yn(e,s)}}function tp(e){var t=e.alternate;t!==null&&(e.alternate=null,tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,ia=!1;function vn(e,t,s){for(s=s.child;s!==null;)ap(e,t,s),s=s.sibling}function ap(e,t,s){if(Y&&typeof Y.onCommitFiberUnmount=="function")try{Y.onCommitFiberUnmount(An,s)}catch{}switch(s.tag){case 26:At||Za(s,t),vn(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Za(s,t);var l=gt,u=ia;Jn(s.type)&&(gt=s.stateNode,ia=!1),vn(e,t,s),Rr(s.stateNode),gt=l,ia=u;break;case 5:At||Za(s,t);case 6:if(l=gt,u=ia,gt=null,vn(e,t,s),gt=l,ia=u,gt!==null)if(ia)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(s.stateNode)}catch(h){Qe(s,t,h)}else try{gt.removeChild(s.stateNode)}catch(h){Qe(s,t,h)}break;case 18:gt!==null&&(ia?(e=gt,Fp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ji(e)):Fp(gt,s.stateNode));break;case 4:l=gt,u=ia,gt=s.stateNode.containerInfo,ia=!0,vn(e,t,s),gt=l,ia=u;break;case 0:case 11:case 14:case 15:Pn(2,s,t),At||Pn(4,s,t),vn(e,t,s);break;case 1:At||(Za(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Xm(s,t,l)),vn(e,t,s);break;case 21:vn(e,t,s);break;case 22:At=(l=At)||s.memoizedState!==null,vn(e,t,s),At=l;break;default:vn(e,t,s)}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(s){Qe(t,t.return,s)}}}function sp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(s){Qe(t,t.return,s)}}function Vy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zm),t;default:throw Error(r(435,e.tag))}}function Wl(e,t){var s=Vy(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var u=e0.bind(null,e,l);l.then(u,u)}})}function ra(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],h=e,_=t,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Jn(b.type)){gt=b.stateNode,ia=!1;break e}break;case 5:gt=b.stateNode,ia=!1;break e;case 3:case 4:gt=b.stateNode.containerInfo,ia=!0;break e}b=b.return}if(gt===null)throw Error(r(160));ap(h,_,u),gt=null,ia=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}var Va=null;function ip(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ra(t,e),la(e),l&4&&(Pn(3,e,e.return),xr(3,e),Pn(5,e,e.return));break;case 1:ra(t,e),la(e),l&512&&(At||s===null||Za(s,s.return)),l&64&&_n&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=Va;if(ra(t,e),la(e),l&512&&(At||s===null||Za(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Qi]||h[Ht]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),Vt(h,l,s),h[Ht]=e,zt(h),l=h;break e;case"link":var _=ig("link","href",u).get(l+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(h=_[b],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}h=u.createElement(l),Vt(h,l,s),u.head.appendChild(h);break;case"meta":if(_=ig("meta","content",u).get(l+(s.content||""))){for(b=0;b<_.length;b++)if(h=_[b],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}h=u.createElement(l),Vt(h,l,s),u.head.appendChild(h);break;default:throw Error(r(468,l))}h[Ht]=e,zt(h),l=h}e.stateNode=l}else rg(u,e.type,e.stateNode);else e.stateNode=sg(u,l,e.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?rg(u,e.type,e.stateNode):sg(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ru(e,e.memoizedProps,s.memoizedProps)}break;case 27:ra(t,e),la(e),l&512&&(At||s===null||Za(s,s.return)),s!==null&&l&4&&Ru(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ra(t,e),la(e),l&512&&(At||s===null||Za(s,s.return)),e.flags&32){u=e.stateNode;try{Ks(u,"")}catch(ue){Qe(e,e.return,ue)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Ru(e,u,s!==null?s.memoizedProps:u)),l&1024&&(Bu=!0);break;case 6:if(ra(t,e),la(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ue){Qe(e,e.return,ue)}}break;case 3:if(po=null,u=Va,Va=fo(t.containerInfo),ra(t,e),Va=u,la(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(ue){Qe(e,e.return,ue)}Bu&&(Bu=!1,rp(e));break;case 4:l=Va,Va=fo(e.stateNode.containerInfo),ra(t,e),la(e),Va=l;break;case 12:ra(t,e),la(e);break;case 31:ra(t,e),la(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wl(e,l)));break;case 13:ra(t,e),la(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(eo=Wt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wl(e,l)));break;case 22:u=e.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,z=_n,G=At;if(_n=z||u,At=G||T,ra(t,e),At=G,_n=z,la(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(s===null||T||_n||At||Es(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){T=s=t;try{if(h=T.stateNode,u)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=T.stateNode;var V=T.memoizedProps.style,L=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ue){Qe(T,T.return,ue)}}}else if(t.tag===6){if(s===null){T=t;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(ue){Qe(T,T.return,ue)}}}else if(t.tag===18){if(s===null){T=t;try{var H=T.stateNode;u?Xp(H,!0):Xp(T.stateNode,!1)}catch(ue){Qe(T,T.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Wl(e,s))));break;case 19:ra(t,e),la(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wl(e,l)));break;case 30:break;case 21:break;default:ra(t,e),la(e)}}function la(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(Jm(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var u=s.stateNode,h=Du(e);Jl(e,h,u);break;case 5:var _=s.stateNode;s.flags&32&&(Ks(_,""),s.flags&=-33);var b=Du(e);Jl(e,b,_);break;case 3:case 4:var T=s.stateNode.containerInfo,z=Du(e);Mu(e,z,T);break;default:throw Error(r(161))}}catch(G){Qe(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ep(e,t.alternate,t),t=t.sibling}function Es(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pn(4,t,t.return),Es(t);break;case 1:Za(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Xm(t,t.return,s),Es(t);break;case 27:Rr(t.stateNode);case 26:case 5:Za(t,t.return),Es(t);break;case 22:t.memoizedState===null&&Es(t);break;case 30:Es(t);break;default:Es(t)}e=e.sibling}}function bn(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,h=t,_=h.flags;switch(h.tag){case 0:case 11:case 15:bn(u,h,s),xr(4,h);break;case 1:if(bn(u,h,s),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(z){Qe(l,l.return,z)}if(l=h,u=l.updateQueue,u!==null){var b=l.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)zf(T[u],b)}catch(z){Qe(l,l.return,z)}}s&&_&64&&Fm(h),Sr(h,h.return);break;case 27:Wm(h);case 26:case 5:bn(u,h,s),s&&l===null&&_&4&&Qm(h),Sr(h,h.return);break;case 12:bn(u,h,s);break;case 31:bn(u,h,s),s&&_&4&&np(u,h);break;case 13:bn(u,h,s),s&&_&4&&sp(u,h);break;case 22:h.memoizedState===null&&bn(u,h,s),Sr(h,h.return);break;case 30:break;default:bn(u,h,s)}t=t.sibling}}function $u(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&cr(s))}function zu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function Ya(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(e,t,s,l),t=t.sibling}function lp(e,t,s,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ya(e,t,s,l),u&2048&&xr(9,t);break;case 1:Ya(e,t,s,l);break;case 3:Ya(e,t,s,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(u&2048){Ya(e,t,s,l),e=t.stateNode;try{var h=t.memoizedProps,_=h.id,b=h.onPostCommit;typeof b=="function"&&b(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Qe(t,t.return,T)}}else Ya(e,t,s,l);break;case 31:Ya(e,t,s,l);break;case 13:Ya(e,t,s,l);break;case 23:break;case 22:h=t.stateNode,_=t.alternate,t.memoizedState!==null?h._visibility&2?Ya(e,t,s,l):jr(e,t):h._visibility&2?Ya(e,t,s,l):(h._visibility|=2,fi(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&$u(_,t);break;case 24:Ya(e,t,s,l),u&2048&&zu(t.alternate,t);break;default:Ya(e,t,s,l)}}function fi(e,t,s,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,_=t,b=s,T=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:fi(h,_,b,T,u),xr(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?fi(h,_,b,T,u):jr(h,_):(G._visibility|=2,fi(h,_,b,T,u)),u&&z&2048&&$u(_.alternate,_);break;case 24:fi(h,_,b,T,u),u&&z&2048&&zu(_.alternate,_);break;default:fi(h,_,b,T,u)}t=t.sibling}}function jr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,u=l.flags;switch(l.tag){case 22:jr(s,l),u&2048&&$u(l.alternate,l);break;case 24:jr(s,l),u&2048&&zu(l.alternate,l);break;default:jr(s,l)}t=t.sibling}}var Nr=8192;function mi(e,t,s){if(e.subtreeFlags&Nr)for(e=e.child;e!==null;)op(e,t,s),e=e.sibling}function op(e,t,s){switch(e.tag){case 26:mi(e,t,s),e.flags&Nr&&e.memoizedState!==null&&A0(s,Va,e.memoizedState,e.memoizedProps);break;case 5:mi(e,t,s);break;case 3:case 4:var l=Va;Va=fo(e.stateNode.containerInfo),mi(e,t,s),Va=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Nr,Nr=16777216,mi(e,t,s),Nr=l):mi(e,t,s));break;default:mi(e,t,s)}}function cp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Lt=l,dp(l,e)}cp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)up(e),e=e.sibling}function up(e){switch(e.tag){case 0:case 11:case 15:Er(e),e.flags&2048&&Pn(9,e,e.return);break;case 3:Er(e);break;case 12:Er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zl(e)):Er(e);break;default:Er(e)}}function Zl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Lt=l,dp(l,e)}cp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pn(8,t,t.return),Zl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function dp(e,t){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Pn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cr(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Lt=l;else e:for(s=e;Lt!==null;){l=Lt;var u=l.sibling,h=l.return;if(tp(l),l===s){Lt=null;break e}if(u!==null){u.return=h,Lt=u;break e}Lt=h}}}var Yy={getCacheForType:function(e){var t=Gt(Tt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Gt(Tt).controller.signal}},Ky=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Be=null,ze=0,Xe=0,wa=null,Vn=!1,pi=!1,Lu=!1,wn=0,xt=0,Yn=0,Cs=0,Uu=0,xa=0,gi=0,Cr=null,oa=null,qu=!1,eo=0,hp=0,to=1/0,ao=null,Kn=null,Mt=0,Fn=null,_i=null,xn=0,Hu=0,Iu=null,fp=null,Tr=0,Gu=null;function Sa(){return(Ke&2)!==0&&ze!==0?ze&-ze:I.T!==null?Xu():Th()}function mp(){if(xa===0)if((ze&536870912)===0||Ue){var e=at;at<<=1,(at&3932160)===0&&(at=262144),xa=e}else xa=536870912;return e=ya.current,e!==null&&(e.flags|=32),xa}function ca(e,t,s){(e===nt&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(vi(e,0),Xn(e,ze,xa,!1)),ea(e,s),((Ke&2)===0||e!==nt)&&(e===nt&&((Ke&2)===0&&(Cs|=s),xt===4&&Xn(e,ze,xa,!1)),en(e))}function pp(e,t,s){if((Ke&6)!==0)throw Error(r(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||ct(e,t),u=l?Qy(e,t):Vu(e,t,!0),h=l;do{if(u===0){pi&&!l&&Xn(e,t,0,!1);break}else{if(s=e.current.alternate,h&&!Fy(s)){u=Vu(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var b=e;u=Cr;var T=b.current.memoizedState.isDehydrated;if(T&&(vi(b,_).flags|=256),_=Vu(b,_,!1),_!==2){if(Lu&&!T){b.errorRecoveryDisabledLanes|=h,Cs|=h,u=4;break e}h=oa,oa=u,h!==null&&(oa===null?oa=h:oa.push.apply(oa,h))}u=_}if(h=!1,u!==2)continue}}if(u===1){vi(e,0),Xn(e,t,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Xn(l,t,xa,!Vn);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=eo+300-Wt(),10<u)){if(Xn(l,t,xa,!Vn),Xt(l,0,!0)!==0)break e;xn=t,l.timeoutHandle=Yp(gp.bind(null,l,s,oa,ao,qu,t,xa,Cs,gi,Vn,h,"Throttled",-0,0),u);break e}gp(l,s,oa,ao,qu,t,xa,Cs,gi,Vn,h,null,-0,0)}}break}while(!0);en(e)}function gp(e,t,s,l,u,h,_,b,T,z,G,V,L,H){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},op(t,h,V);var ue=(h&62914560)===h?eo-Wt():(h&4194048)===h?hp-Wt():0;if(ue=R0(V,ue),ue!==null){xn=h,e.cancelPendingCommit=ue(jp.bind(null,e,t,h,s,l,u,_,b,T,G,V,null,L,H)),Xn(e,h,_,!z);return}}jp(e,t,h,s,l,u,_,b,T)}function Fy(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],h=u.getSnapshot;u=u.value;try{if(!_a(h(),u))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,s,l){t&=~Uu,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var h=31-fe(u),_=1<<h;l[h]=-1,u&=~_}s!==0&&Xi(e,s,t)}function no(){return(Ke&6)===0?(kr(0),!1):!0}function Pu(){if(Be!==null){if(Xe===0)var e=Be.return;else e=Be,dn=vs=null,ru(e),oi=null,dr=0,e=Be;for(;e!==null;)Km(e.alternate,e),e=e.return;Be=null}}function vi(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,m0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),xn=0,Pu(),nt=e,Be=s=cn(e.current,null),ze=t,Xe=0,wa=null,Vn=!1,pi=ct(e,t),Lu=!1,gi=xa=Uu=Cs=Yn=xt=0,oa=Cr=null,qu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-fe(l),h=1<<u;t|=e[u],l&=~h}return wn=t,jl(),s}function _p(e,t){ke=null,I.H=yr,t===li||t===Rl?(t=Df(),Xe=3):t===Fc?(t=Df(),Xe=4):Xe=t===xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wa=t,Be===null&&(xt=1,Yl(e,Da(t,e.current)))}function vp(){var e=ya.current;return e===null?!0:(ze&4194048)===ze?za===null:(ze&62914560)===ze||(ze&536870912)!==0?e===za:!1}function yp(){var e=I.H;return I.H=yr,e===null?yr:e}function bp(){var e=I.A;return I.A=Yy,e}function so(){xt=4,Vn||(ze&4194048)!==ze&&ya.current!==null||(pi=!0),(Yn&134217727)===0&&(Cs&134217727)===0||nt===null||Xn(nt,ze,xa,!1)}function Vu(e,t,s){var l=Ke;Ke|=2;var u=yp(),h=bp();(nt!==e||ze!==t)&&(ao=null,vi(e,t)),t=!1;var _=xt;e:do try{if(Xe!==0&&Be!==null){var b=Be,T=wa;switch(Xe){case 8:Pu(),_=6;break e;case 3:case 2:case 9:case 6:ya.current===null&&(t=!0);var z=Xe;if(Xe=0,wa=null,yi(e,b,T,z),s&&pi){_=0;break e}break;default:z=Xe,Xe=0,wa=null,yi(e,b,T,z)}}Xy(),_=xt;break}catch(G){_p(e,G)}while(!0);return t&&e.shellSuspendCounter++,dn=vs=null,Ke=l,I.H=u,I.A=h,Be===null&&(nt=null,ze=0,jl()),_}function Xy(){for(;Be!==null;)wp(Be)}function Qy(e,t){var s=Ke;Ke|=2;var l=yp(),u=bp();nt!==e||ze!==t?(ao=null,to=Wt()+500,vi(e,t)):pi=ct(e,t);e:do try{if(Xe!==0&&Be!==null){t=Be;var h=wa;t:switch(Xe){case 1:Xe=0,wa=null,yi(e,t,h,1);break;case 2:case 9:if(Af(h)){Xe=0,wa=null,xp(t);break}t=function(){Xe!==2&&Xe!==9||nt!==e||(Xe=7),en(e)},h.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Af(h)?(Xe=0,wa=null,xp(t)):(Xe=0,wa=null,yi(e,t,h,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var b=Be;if(_?lg(_):b.stateNode.complete){Xe=0,wa=null;var T=b.sibling;if(T!==null)Be=T;else{var z=b.return;z!==null?(Be=z,io(z)):Be=null}break t}}Xe=0,wa=null,yi(e,t,h,5);break;case 6:Xe=0,wa=null,yi(e,t,h,6);break;case 8:Pu(),xt=6;break e;default:throw Error(r(462))}}Jy();break}catch(G){_p(e,G)}while(!0);return dn=vs=null,I.H=l,I.A=u,Ke=s,Be!==null?0:(nt=null,ze=0,jl(),xt)}function Jy(){for(;Be!==null&&!sc();)wp(Be)}function wp(e){var t=Vm(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?io(e):Be=t}function xp(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Um(s,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=Um(s,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:ru(t);default:Km(s,t),t=Be=bf(t,wn),t=Vm(s,t,wn)}e.memoizedProps=e.pendingProps,t===null?io(e):Be=t}function yi(e,t,s,l){dn=vs=null,ru(t),oi=null,dr=0;var u=t.return;try{if(Uy(e,u,t,s,ze)){xt=1,Yl(e,Da(s,e.current)),Be=null;return}}catch(h){if(u!==null)throw Be=u,h;xt=1,Yl(e,Da(s,e.current)),Be=null;return}t.flags&32768?(Ue||l===1?e=!0:pi||(ze&536870912)!==0?e=!1:(Vn=e=!0,(l===2||l===9||l===3||l===6)&&(l=ya.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(t,e)):io(t)}function io(e){var t=e;do{if((t.flags&32768)!==0){Sp(t,Vn);return}e=t.return;var s=Iy(t.alternate,t,wn);if(s!==null){Be=s;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);xt===0&&(xt=5)}function Sp(e,t){do{var s=Gy(e.alternate,e);if(s!==null){s.flags&=32767,Be=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=s}while(e!==null);xt=6,Be=null}function jp(e,t,s,l,u,h,_,b,T){e.cancelPendingCommit=null;do ro();while(Mt!==0);if((Ke&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(h=t.lanes|t.childLanes,h|=Dc,us(e,s,h,_,b,T),e===nt&&(Be=nt=null,ze=0),_i=t,Fn=e,xn=s,Hu=h,Iu=u,fp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,t0(qs,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=I.T,I.T=null,u=ee.p,ee.p=2,_=Ke,Ke|=4;try{Py(e,t,s)}finally{Ke=_,ee.p=u,I.T=l}}Mt=1,Np(),Ep(),Cp()}}function Np(){if(Mt===1){Mt=0;var e=Fn,t=_i,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null;var l=ee.p;ee.p=2;var u=Ke;Ke|=4;try{ip(t,e);var h=nd,_=df(e.containerInfo),b=h.focusedElem,T=h.selectionRange;if(_!==b&&b&&b.ownerDocument&&uf(b.ownerDocument.documentElement,b)){if(T!==null&&Tc(b)){var z=T.start,G=T.end;if(G===void 0&&(G=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(G,b.value.length);else{var V=b.ownerDocument||document,L=V&&V.defaultView||window;if(L.getSelection){var H=L.getSelection(),ue=b.textContent.length,ye=Math.min(T.start,ue),tt=T.end===void 0?ye:Math.min(T.end,ue);!H.extend&&ye>tt&&(_=tt,tt=ye,ye=_);var B=cf(b,ye),A=cf(b,tt);if(B&&A&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==A.node||H.focusOffset!==A.offset)){var $=V.createRange();$.setStart(B.node,B.offset),H.removeAllRanges(),ye>tt?(H.addRange($),H.extend(A.node,A.offset)):($.setEnd(A.node,A.offset),H.addRange($))}}}}for(V=[],H=b;H=H.parentNode;)H.nodeType===1&&V.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var P=V[b];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}yo=!!ad,nd=ad=null}finally{Ke=u,ee.p=l,I.T=s}}e.current=t,Mt=2}}function Ep(){if(Mt===2){Mt=0;var e=Fn,t=_i,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=I.T,I.T=null;var l=ee.p;ee.p=2;var u=Ke;Ke|=4;try{ep(e,t.alternate,t)}finally{Ke=u,ee.p=l,I.T=s}}Mt=3}}function Cp(){if(Mt===4||Mt===3){Mt=0,ic();var e=Fn,t=_i,s=xn,l=fp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Mt=5:(Mt=0,_i=Fn=null,Tp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Kn=null),cc(s),t=t.stateNode,Y&&typeof Y.onCommitFiberRoot=="function")try{Y.onCommitFiberRoot(An,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=I.T,u=ee.p,ee.p=2,I.T=null;try{for(var h=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];h(b.value,{componentStack:b.stack})}}finally{I.T=t,ee.p=u}}(xn&3)!==0&&ro(),en(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===Gu?Tr++:(Tr=0,Gu=e):Tr=0,kr(0)}}function Tp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function ro(){return Np(),Ep(),Cp(),kp()}function kp(){if(Mt!==5)return!1;var e=Fn,t=Hu;Hu=0;var s=cc(xn),l=I.T,u=ee.p;try{ee.p=32>s?32:s,I.T=null,s=Iu,Iu=null;var h=Fn,_=xn;if(Mt=0,_i=Fn=null,xn=0,(Ke&6)!==0)throw Error(r(331));var b=Ke;if(Ke|=4,up(h.current),lp(h,h.current,_,s),Ke=b,kr(0,!1),Y&&typeof Y.onPostCommitFiberRoot=="function")try{Y.onPostCommitFiberRoot(An,h)}catch{}return!0}finally{ee.p=u,I.T=l,Tp(e,t)}}function Op(e,t,s){t=Da(s,t),t=wu(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(ea(e,2),en(e))}function Qe(e,t,s){if(e.tag===3)Op(e,e,s);else for(;t!==null;){if(t.tag===3){Op(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kn===null||!Kn.has(l))){e=Da(s,e),s=Am(2),l=Hn(t,s,2),l!==null&&(Rm(s,l,t,e),ea(l,2),en(l));break}}t=t.return}}function Yu(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Ky;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(s)||(Lu=!0,u.add(s),e=Wy.bind(null,e,t,s),t.then(e,e))}function Wy(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,nt===e&&(ze&s)===s&&(xt===4||xt===3&&(ze&62914560)===ze&&300>Wt()-eo?(Ke&2)===0&&vi(e,0):Uu|=s,gi===ze&&(gi=0)),en(e)}function Ap(e,t){t===0&&(t=Zt()),e=ps(e,t),e!==null&&(ea(e,t),en(e))}function Zy(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ap(e,s)}function e0(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Ap(e,s)}function t0(e,t){return Vi(e,t)}var lo=null,bi=null,Ku=!1,oo=!1,Fu=!1,Qn=0;function en(e){e!==bi&&e.next===null&&(bi===null?lo=bi=e:bi=bi.next=e),oo=!0,Ku||(Ku=!0,n0())}function kr(e,t){if(!Fu&&oo){Fu=!0;do for(var s=!1,l=lo;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var _=l.suspendedLanes,b=l.pingedLanes;h=(1<<31-fe(42|e)+1)-1,h&=u&~(_&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Bp(l,h))}else h=ze,h=Xt(l,l===nt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ct(l,h)||(s=!0,Bp(l,h));l=l.next}while(s);Fu=!1}}function a0(){Rp()}function Rp(){oo=Ku=!1;var e=0;Qn!==0&&f0()&&(e=Qn);for(var t=Wt(),s=null,l=lo;l!==null;){var u=l.next,h=Dp(l,t);h===0?(l.next=null,s===null?lo=u:s.next=u,u===null&&(bi=s)):(s=l,(e!==0||(h&3)!==0)&&(oo=!0)),l=u}Mt!==0&&Mt!==5||kr(e),Qn!==0&&(Qn=0)}function Dp(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-fe(h),b=1<<_,T=u[_];T===-1?((b&s)===0||(b&l)!==0)&&(u[_]=ga(b,t)):T<=t&&(e.expiredLanes|=b),h&=~b}if(t=nt,s=ze,s=Xt(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yi(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ct(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&Yi(l),cc(s)){case 2:case 8:s=dl;break;case 32:s=qs;break;case 268435456:s=hl;break;default:s=qs}return l=Mp.bind(null,e),s=Vi(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&Yi(l),e.callbackPriority=2,e.callbackNode=null,2}function Mp(e,t){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ro()&&e.callbackNode!==s)return null;var l=ze;return l=Xt(e,e===nt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pp(e,l,t),Dp(e,Wt()),e.callbackNode!=null&&e.callbackNode===s?Mp.bind(null,e):null)}function Bp(e,t){if(ro())return null;pp(e,t,!0)}function n0(){p0(function(){(Ke&6)!==0?Vi(ul,a0):Rp()})}function Xu(){if(Qn===0){var e=ii;e===0&&(e=pt,pt<<=1,(pt&261888)===0&&(pt=256)),Qn=e}return Qn}function $p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gl(""+e)}function zp(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function s0(e,t,s,l,u){if(t==="submit"&&s&&s.stateNode===u){var h=$p((u[na]||null).action),_=l.submitter;_&&(t=(t=_[na]||null)?$p(t.formAction):_.getAttribute("formAction"),t!==null&&(h=t,_=null));var b=new bl("action","action",null,l,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qn!==0){var T=_?zp(u,_):new FormData(u);pu(s,{pending:!0,data:T,method:u.method,action:h},null,T)}}else typeof h=="function"&&(b.preventDefault(),T=_?zp(u,_):new FormData(u),pu(s,{pending:!0,data:T,method:u.method,action:h},h,T))},currentTarget:u}]})}}for(var Qu=0;Qu<Rc.length;Qu++){var Ju=Rc[Qu],i0=Ju.toLowerCase(),r0=Ju[0].toUpperCase()+Ju.slice(1);Pa(i0,"on"+r0)}Pa(mf,"onAnimationEnd"),Pa(pf,"onAnimationIteration"),Pa(gf,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(xy,"onTransitionRun"),Pa(Sy,"onTransitionStart"),Pa(jy,"onTransitionCancel"),Pa(_f,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function Lp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var _=l.length-1;0<=_;_--){var b=l[_],T=b.instance,z=b.currentTarget;if(b=b.listener,T!==h&&u.isPropagationStopped())break e;h=b,u.currentTarget=z;try{h(u)}catch(G){Sl(G)}u.currentTarget=null,h=T}else for(_=0;_<l.length;_++){if(b=l[_],T=b.instance,z=b.currentTarget,b=b.listener,T!==h&&u.isPropagationStopped())break e;h=b,u.currentTarget=z;try{h(u)}catch(G){Sl(G)}u.currentTarget=null,h=T}}}}function $e(e,t){var s=t[uc];s===void 0&&(s=t[uc]=new Set);var l=e+"__bubble";s.has(l)||(Up(t,e,2,!1),s.add(l))}function Wu(e,t,s){var l=0;t&&(l|=4),Up(s,e,l,t)}var co="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[co]){e[co]=!0,Ah.forEach(function(s){s!=="selectionchange"&&(l0.has(s)||Wu(s,!1,e),Wu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[co]||(t[co]=!0,Wu("selectionchange",!1,t))}}function Up(e,t,s,l){switch(mg(t)){case 2:var u=B0;break;case 8:u=$0;break;default:u=md}s=u.bind(null,t,s,e),u=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,s,{capture:!0,passive:u}):e.addEventListener(t,s,!0):u!==void 0?e.addEventListener(t,s,{passive:u}):e.addEventListener(t,s,!1)}function ed(e,t,s,l,u){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===u)break;if(_===4)for(_=l.return;_!==null;){var T=_.tag;if((T===3||T===4)&&_.stateNode.containerInfo===u)return;_=_.return}for(;b!==null;){if(_=Is(b),_===null)return;if(T=_.tag,T===5||T===6||T===26||T===27){l=h=_;continue e}b=b.parentNode}}l=l.return}Gh(function(){var z=h,G=_c(s),V=[];e:{var L=vf.get(e);if(L!==void 0){var H=bl,ue=e;switch(e){case"keypress":if(vl(s)===0)break e;case"keydown":case"keyup":H=ey;break;case"focusin":ue="focus",H=Sc;break;case"focusout":ue="blur",H=Sc;break;case"beforeblur":case"afterblur":H=Sc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=ny;break;case mf:case pf:case gf:H=Vv;break;case _f:H=iy;break;case"scroll":case"scrollend":H=qv;break;case"wheel":H=ly;break;case"copy":case"cut":case"paste":H=Kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fh;break;case"toggle":case"beforetoggle":H=cy}var ye=(t&4)!==0,tt=!ye&&(e==="scroll"||e==="scrollend"),B=ye?L!==null?L+"Capture":null:L;ye=[];for(var A=z,$;A!==null;){var P=A;if($=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||$===null||B===null||(P=Wi(A,B),P!=null&&ye.push(Ar(A,P,$))),tt)break;A=A.return}0<ye.length&&(L=new H(L,ue,null,s,G),V.push({event:L,listeners:ye}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&s!==gc&&(ue=s.relatedTarget||s.fromElement)&&(Is(ue)||ue[Hs]))break e;if((H||L)&&(L=G.window===G?G:(L=G.ownerDocument)?L.defaultView||L.parentWindow:window,H?(ue=s.relatedTarget||s.toElement,H=z,ue=ue?Is(ue):null,ue!==null&&(tt=d(ue),ye=ue.tag,ue!==tt||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(ye=Yh,P="onMouseLeave",B="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Fh,P="onPointerLeave",B="onPointerEnter",A="pointer"),tt=H==null?L:Ji(H),$=ue==null?L:Ji(ue),L=new ye(P,A+"leave",H,s,G),L.target=tt,L.relatedTarget=$,P=null,Is(G)===z&&(ye=new ye(B,A+"enter",ue,s,G),ye.target=$,ye.relatedTarget=tt,P=ye),tt=P,H&&ue)t:{for(ye=o0,B=H,A=ue,$=0,P=B;P;P=ye(P))$++;P=0;for(var ge=A;ge;ge=ye(ge))P++;for(;0<$-P;)B=ye(B),$--;for(;0<P-$;)A=ye(A),P--;for(;$--;){if(B===A||A!==null&&B===A.alternate){ye=B;break t}B=ye(B),A=ye(A)}ye=null}else ye=null;H!==null&&qp(V,L,H,ye,!1),ue!==null&&tt!==null&&qp(V,tt,ue,ye,!0)}}e:{if(L=z?Ji(z):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Pe=af;else if(ef(L))if(nf)Pe=yy;else{Pe=_y;var he=gy}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?z&&pc(z.elementType)&&(Pe=af):Pe=vy;if(Pe&&(Pe=Pe(e,z))){tf(V,Pe,s,G);break e}he&&he(e,L,z),e==="focusout"&&z&&L.type==="number"&&z.memoizedProps.value!=null&&mc(L,"number",L.value)}switch(he=z?Ji(z):window,e){case"focusin":(ef(he)||he.contentEditable==="true")&&(Js=he,kc=z,rr=null);break;case"focusout":rr=kc=Js=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,hf(V,s,G);break;case"selectionchange":if(wy)break;case"keydown":case"keyup":hf(V,s,G)}var Oe;if(Nc)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Qs?Wh(e,s)&&(Le="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(Xh&&s.locale!=="ko"&&(Qs||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Qs&&(Oe=Ph()):(Mn=G,bc="value"in Mn?Mn.value:Mn.textContent,Qs=!0)),he=uo(z,Le),0<he.length&&(Le=new Kh(Le,e,null,s,G),V.push({event:Le,listeners:he}),Oe?Le.data=Oe:(Oe=Zh(s),Oe!==null&&(Le.data=Oe)))),(Oe=dy?hy(e,s):fy(e,s))&&(Le=uo(z,"onBeforeInput"),0<Le.length&&(he=new Kh("onBeforeInput","beforeinput",null,s,G),V.push({event:he,listeners:Le}),he.data=Oe)),s0(V,e,z,s,G)}Lp(V,t)})}function Ar(e,t,s){return{instance:e,listener:t,currentTarget:s}}function uo(e,t){for(var s=t+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Wi(e,s),u!=null&&l.unshift(Ar(e,u,h)),u=Wi(e,t),u!=null&&l.push(Ar(e,u,h))),e.tag===3)return l;e=e.return}return[]}function o0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qp(e,t,s,l,u){for(var h=t._reactName,_=[];s!==null&&s!==l;){var b=s,T=b.alternate,z=b.stateNode;if(b=b.tag,T!==null&&T===l)break;b!==5&&b!==26&&b!==27||z===null||(T=z,u?(z=Wi(s,h),z!=null&&_.unshift(Ar(s,z,T))):u||(z=Wi(s,h),z!=null&&_.push(Ar(s,z,T)))),s=s.return}_.length!==0&&e.push({event:t,listeners:_})}var c0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(u0,"")}function Ip(e,t){return t=Hp(t),Hp(e)===t}function et(e,t,s,l,u,h){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ks(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ks(e,""+l);break;case"className":ml(e,"class",l);break;case"tabIndex":ml(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(e,s,l);break;case"style":Hh(e,l,h);break;case"data":if(t!=="object"){ml(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=gl(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(t!=="input"&&et(e,t,"name",u.name,u,null),et(e,t,"formEncType",u.formEncType,u,null),et(e,t,"formMethod",u.formMethod,u,null),et(e,t,"formTarget",u.formTarget,u,null)):(et(e,t,"encType",u.encType,u,null),et(e,t,"method",u.method,u,null),et(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=gl(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ln);break;case"onScroll":l!=null&&$e("scroll",e);break;case"onScrollEnd":l!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=gl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":$e("beforetoggle",e),$e("toggle",e),fl(e,"popover",l);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Lv.get(s)||s,fl(e,s,l))}}function td(e,t,s,l,u,h){switch(s){case"style":Hh(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Ks(e,l):(typeof l=="number"||typeof l=="bigint")&&Ks(e,""+l);break;case"onScroll":l!=null&&$e("scroll",e);break;case"onScrollEnd":l!=null&&$e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),t=s.slice(2,u?s.length-7:void 0),h=e[na]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,u);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):fl(e,s,l)}}}function Vt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var l=!1,u=!1,h;for(h in s)if(s.hasOwnProperty(h)){var _=s[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:et(e,t,h,_,s,null)}}u&&et(e,t,"srcSet",s.srcSet,s,null),l&&et(e,t,"src",s.src,s,null);return;case"input":$e("invalid",e);var b=h=_=u=null,T=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":u=G;break;case"type":_=G;break;case"checked":T=G;break;case"defaultChecked":z=G;break;case"value":h=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:et(e,t,l,G,s,null)}}zh(e,h,b,T,z,_,u,!1);return;case"select":$e("invalid",e),l=_=h=null;for(u in s)if(s.hasOwnProperty(u)&&(b=s[u],b!=null))switch(u){case"value":h=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:et(e,t,u,b,s,null)}t=h,s=_,e.multiple=!!l,t!=null?Ys(e,!!l,t,!1):s!=null&&Ys(e,!!l,s,!0);return;case"textarea":$e("invalid",e),h=u=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":u=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:et(e,t,_,b,s,null)}Uh(e,l,u,h);return;case"option":for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null)&&(T==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":et(e,t,T,l,s,null));return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(l=0;l<Or.length;l++)$e(Or[l],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:et(e,t,z,l,s,null)}return;default:if(pc(t)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&td(e,t,G,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&et(e,t,b,l,s,null))}function d0(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,_=null,b=null,T=null,z=null,G=null;for(H in s){var V=s[H];if(s.hasOwnProperty(H)&&V!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":T=V;default:l.hasOwnProperty(H)||et(e,t,H,null,l,V)}}for(var L in l){var H=l[L];if(V=s[L],l.hasOwnProperty(L)&&(H!=null||V!=null))switch(L){case"type":h=H;break;case"name":u=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:H!==V&&et(e,t,L,H,l,V)}}fc(e,_,b,T,z,G,h,u);return;case"select":H=_=b=L=null;for(h in s)if(T=s[h],s.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":H=T;default:l.hasOwnProperty(h)||et(e,t,h,null,l,T)}for(u in l)if(h=l[u],T=s[u],l.hasOwnProperty(u)&&(h!=null||T!=null))switch(u){case"value":L=h;break;case"defaultValue":b=h;break;case"multiple":_=h;default:h!==T&&et(e,t,u,h,l,T)}t=b,s=_,l=H,L!=null?Ys(e,!!s,L,!1):!!l!=!!s&&(t!=null?Ys(e,!!s,t,!0):Ys(e,!!s,s?[]:"",!1));return;case"textarea":H=L=null;for(b in s)if(u=s[b],s.hasOwnProperty(b)&&u!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(e,t,b,null,l,u)}for(_ in l)if(u=l[_],h=s[_],l.hasOwnProperty(_)&&(u!=null||h!=null))switch(_){case"value":L=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&et(e,t,_,u,l,h)}Lh(e,L,H);return;case"option":for(var ue in s)L=s[ue],s.hasOwnProperty(ue)&&L!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?e.selected=!1:et(e,t,ue,null,l,L));for(T in l)L=l[T],H=s[T],l.hasOwnProperty(T)&&L!==H&&(L!=null||H!=null)&&(T==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":et(e,t,T,L,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)L=s[ye],s.hasOwnProperty(ye)&&L!=null&&!l.hasOwnProperty(ye)&&et(e,t,ye,null,l,L);for(z in l)if(L=l[z],H=s[z],l.hasOwnProperty(z)&&L!==H&&(L!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:et(e,t,z,L,l,H)}return;default:if(pc(t)){for(var tt in s)L=s[tt],s.hasOwnProperty(tt)&&L!==void 0&&!l.hasOwnProperty(tt)&&td(e,t,tt,void 0,l,L);for(G in l)L=l[G],H=s[G],!l.hasOwnProperty(G)||L===H||L===void 0&&H===void 0||td(e,t,G,L,l,H);return}}for(var B in s)L=s[B],s.hasOwnProperty(B)&&L!=null&&!l.hasOwnProperty(B)&&et(e,t,B,null,l,L);for(V in l)L=l[V],H=s[V],!l.hasOwnProperty(V)||L===H||L==null&&H==null||et(e,t,V,L,l,H)}function Gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],h=u.transferSize,_=u.initiatorType,b=u.duration;if(h&&b&&Gp(_)){for(_=0,b=u.responseEnd,l+=1;l<s.length;l++){var T=s[l],z=T.startTime;if(z>b)break;var G=T.transferSize,V=T.initiatorType;G&&Gp(V)&&(T=T.responseEnd,_+=G*(T<b?1:(b-z)/(T-z)))}if(--l,t+=8*(h+_)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,nd=null;function ho(e){return e.nodeType===9?e:e.ownerDocument}function Pp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var id=null;function f0(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,p0=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch(g0)}:Yp;function g0(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Fp(e,t){var s=t,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(u),ji(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Rr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Rr(s);for(var h=s.firstChild;h;){var _=h.nextSibling,b=h.nodeName;h[Qi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=_}}else s==="body"&&Rr(e.ownerDocument.body);s=u}while(s);ji(t)}function Xp(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function rd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),dc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function _0(e,t,s,l){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=La(e.nextSibling),e===null)break}return null}function v0(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=La(e.nextSibling),e===null))return null;return e}function Qp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=La(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function y0(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cd=null;function Jp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return La(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Zp(e,t,s){switch(t=ho(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dc(e)}var Ua=new Map,eg=new Set;function fo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=ee.d;ee.d={f:b0,r:w0,D:x0,C:S0,L:j0,m:N0,X:C0,S:E0,M:T0};function b0(){var e=Sn.f(),t=no();return e||t}function w0(e){var t=Gs(e);t!==null&&t.tag===5&&t.type==="form"?_m(t):Sn.r(e)}var wi=typeof document>"u"?null:document;function tg(e,t,s){var l=wi;if(l&&typeof t=="string"&&t){var u=Aa(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),eg.has(u)||(eg.add(u),e={rel:e,crossOrigin:s,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Vt(t,"link",e),zt(t),l.head.appendChild(t)))}}function x0(e){Sn.D(e),tg("dns-prefetch",e,null)}function S0(e,t){Sn.C(e,t),tg("preconnect",e,t)}function j0(e,t,s){Sn.L(e,t,s);var l=wi;if(l&&e&&t){var u='link[rel="preload"][as="'+Aa(t)+'"]';t==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Aa(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Aa(s.imageSizes)+'"]')):u+='[href="'+Aa(e)+'"]';var h=u;switch(t){case"style":h=xi(e);break;case"script":h=Si(e)}Ua.has(h)||(e=y({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Ua.set(h,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Dr(h))||t==="script"&&l.querySelector(Mr(h))||(t=l.createElement("link"),Vt(t,"link",e),zt(t),l.head.appendChild(t)))}}function N0(e,t){Sn.m(e,t);var s=wi;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Aa(l)+'"][href="'+Aa(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Si(e)}if(!Ua.has(h)&&(e=y({rel:"modulepreload",href:e},t),Ua.set(h,e),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Mr(h)))return}l=s.createElement("link"),Vt(l,"link",e),zt(l),s.head.appendChild(l)}}}function E0(e,t,s){Sn.S(e,t,s);var l=wi;if(l&&e){var u=Ps(l).hoistableStyles,h=xi(e);t=t||"default";var _=u.get(h);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Dr(h)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Ua.get(h))&&ud(e,s);var T=_=l.createElement("link");zt(T),Vt(T,"link",e),T._p=new Promise(function(z,G){T.onload=z,T.onerror=G}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,mo(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:b},u.set(h,_)}}}function C0(e,t){Sn.X(e,t);var s=wi;if(s&&e){var l=Ps(s).hoistableScripts,u=Si(e),h=l.get(u);h||(h=s.querySelector(Mr(u)),h||(e=y({src:e,async:!0},t),(t=Ua.get(u))&&dd(e,t),h=s.createElement("script"),zt(h),Vt(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function T0(e,t){Sn.M(e,t);var s=wi;if(s&&e){var l=Ps(s).hoistableScripts,u=Si(e),h=l.get(u);h||(h=s.querySelector(Mr(u)),h||(e=y({src:e,async:!0,type:"module"},t),(t=Ua.get(u))&&dd(e,t),h=s.createElement("script"),zt(h),Vt(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function ag(e,t,s,l){var u=(u=W.current)?fo(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=xi(s.href),s=Ps(u).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xi(s.href);var h=Ps(u).hoistableStyles,_=h.get(e);if(_||(u=u.ownerDocument||u,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=u.querySelector(Dr(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Ua.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ua.set(e,s),h||k0(u,e,s,_.state))),t&&l===null)throw Error(r(528,""));return _}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Si(s),s=Ps(u).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function xi(e){return'href="'+Aa(e)+'"'}function Dr(e){return'link[rel="stylesheet"]['+e+"]"}function ng(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function k0(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Vt(t,"link",s),zt(t),e.head.appendChild(t))}function Si(e){return'[src="'+Aa(e)+'"]'}function Mr(e){return"script[async]"+e}function sg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Aa(s.href)+'"]');if(l)return t.instance=l,zt(l),l;var u=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),zt(l),Vt(l,"style",u),mo(l,s.precedence,e),t.instance=l;case"stylesheet":u=xi(s.href);var h=e.querySelector(Dr(u));if(h)return t.state.loading|=4,t.instance=h,zt(h),h;l=ng(s),(u=Ua.get(u))&&ud(l,u),h=(e.ownerDocument||e).createElement("link"),zt(h);var _=h;return _._p=new Promise(function(b,T){_.onload=b,_.onerror=T}),Vt(h,"link",l),t.state.loading|=4,mo(h,s.precedence,e),t.instance=h;case"script":return h=Si(s.src),(u=e.querySelector(Mr(h)))?(t.instance=u,zt(u),u):(l=s,(u=Ua.get(h))&&(l=y({},s),dd(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),zt(u),Vt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,mo(l,s.precedence,e));return t.instance}function mo(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===t)h=b;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var po=null;function ig(e,t,s){if(po===null){var l=new Map,u=po=new Map;u.set(s,l)}else u=po,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var h=s[u];if(!(h[Qi]||h[Ht]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(t)||"";_=e+_;var b=l.get(_);b?b.push(h):l.set(_,[h])}}return l}function rg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function O0(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function A0(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=xi(l.href),h=t.querySelector(Dr(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=go.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=h,zt(h);return}h=t.ownerDocument||t,l=ng(l),(u=Ua.get(u))&&ud(l,u),h=h.createElement("link"),zt(h);var _=h;_._p=new Promise(function(b,T){_.onload=b,_.onerror=T}),Vt(h,"link",l),s.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=go.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var hd=0;function R0(e,t){return e.stylesheets&&e.count===0&&vo(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&hd===0&&(hd=62500*h0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>hd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function go(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _o=null;function vo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_o=new Map,t.forEach(D0,e),_o=null,go.call(e))}function D0(e,t){if(!(t.state.loading&4)){var s=_o.get(e);if(s)var l=s.get(null);else{s=new Map,_o.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var _=u[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}u=t.instance,_=u.getAttribute("data-precedence"),h=s.get(_)||l,h===l&&s.set(null,u),s.set(_,u),this.count++,l=go.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:M,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function M0(e,t,s,l,u,h,_,b,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function og(e,t,s,l,u,h,_,b,T,z,G,V){return e=new M0(e,t,s,_,T,z,G,V,b),t=1,h===!0&&(t|=24),h=va(3,null,null,t),e.current=h,h.stateNode=e,t=Vc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:t},Xc(h),e}function cg(e){return e?(e=ei,e):ei}function ug(e,t,s,l,u,h){u=cg(u),l.context===null?l.context=u:l.pendingContext=u,l=qn(t),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Hn(e,l,t),s!==null&&(ca(s,e,t),fr(s,e,t))}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function fd(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function hg(e){if(e.tag===13||e.tag===31){var t=ps(e,67108864);t!==null&&ca(t,e,67108864),fd(e,67108864)}}function fg(e){if(e.tag===13||e.tag===31){var t=Sa();t=oc(t);var s=ps(e,t);s!==null&&ca(s,e,t),fd(e,t)}}var yo=!0;function B0(e,t,s,l){var u=I.T;I.T=null;var h=ee.p;try{ee.p=2,md(e,t,s,l)}finally{ee.p=h,I.T=u}}function $0(e,t,s,l){var u=I.T;I.T=null;var h=ee.p;try{ee.p=8,md(e,t,s,l)}finally{ee.p=h,I.T=u}}function md(e,t,s,l){if(yo){var u=pd(l);if(u===null)ed(e,t,l,bo,s),pg(e,l);else if(L0(u,e,t,s,l))l.stopPropagation();else if(pg(e,l),t&4&&-1<z0.indexOf(e)){for(;u!==null;){var h=Gs(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=We(h.pendingLanes);if(_!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var T=1<<31-fe(_);b.entanglements[1]|=T,_&=~T}en(h),(Ke&6)===0&&(to=Wt()+500,kr(0))}}break;case 31:case 13:b=ps(h,2),b!==null&&ca(b,h,2),no(),fd(h,2)}if(h=pd(l),h===null&&ed(e,t,l,bo,s),h===u)break;u=h}u!==null&&l.stopPropagation()}else ed(e,t,l,null,s)}}function pd(e){return e=_c(e),gd(e)}var bo=null;function gd(e){if(bo=null,e=Is(e),e!==null){var t=d(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=f(t),e!==null)return e;e=null}else if(s===31){if(e=m(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bo=e,null}function mg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case ul:return 2;case dl:return 8;case qs:case lc:return 32;case hl:return 268435456;default:return 32}default:return 32}}var _d=!1,Wn=null,Zn=null,es=null,$r=new Map,zr=new Map,ts=[],z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pg(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":$r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function Lr(e,t,s,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Gs(t),t!==null&&hg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function L0(e,t,s,l,u){switch(t){case"focusin":return Wn=Lr(Wn,e,t,s,l,u),!0;case"dragenter":return Zn=Lr(Zn,e,t,s,l,u),!0;case"mouseover":return es=Lr(es,e,t,s,l,u),!0;case"pointerover":var h=u.pointerId;return $r.set(h,Lr($r.get(h)||null,e,t,s,l,u)),!0;case"gotpointercapture":return h=u.pointerId,zr.set(h,Lr(zr.get(h)||null,e,t,s,l,u)),!0}return!1}function gg(e){var t=Is(e.target);if(t!==null){var s=d(t);if(s!==null){if(t=s.tag,t===13){if(t=f(s),t!==null){e.blockedOn=t,kh(e.priority,function(){fg(s)});return}}else if(t===31){if(t=m(s),t!==null){e.blockedOn=t,kh(e.priority,function(){fg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=pd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);gc=l,s.target.dispatchEvent(l),gc=null}else return t=Gs(s),t!==null&&hg(t),e.blockedOn=s,!1;t.shift()}return!0}function _g(e,t,s){wo(e)&&s.delete(t)}function U0(){_d=!1,Wn!==null&&wo(Wn)&&(Wn=null),Zn!==null&&wo(Zn)&&(Zn=null),es!==null&&wo(es)&&(es=null),$r.forEach(_g),zr.forEach(_g)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,U0)))}var So=null;function vg(e){So!==e&&(So=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){So===e&&(So=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(gd(l||s)===null)continue;break}var h=Gs(s);h!==null&&(e.splice(t,3),t-=3,pu(h,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function ji(e){function t(T){return xo(T,e)}Wn!==null&&xo(Wn,e),Zn!==null&&xo(Zn,e),es!==null&&xo(es,e),$r.forEach(t),zr.forEach(t);for(var s=0;s<ts.length;s++){var l=ts[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ts.length&&(s=ts[0],s.blockedOn===null);)gg(s),s.blockedOn===null&&ts.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],h=s[l+1],_=u[na]||null;if(typeof h=="function")_||vg(s);else if(_){var b=null;if(h&&h.hasAttribute("formAction")){if(u=h,_=h[na]||null)b=_.formAction;else if(gd(u)!==null)continue}else b=_.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),vg(s)}}}function yg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(_){return u=_})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function vd(e){this._internalRoot=e}jo.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,l=Sa();ug(s,l,e,t,null,null)},jo.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ug(e.current,2,null,e,null,null),no(),t[Hs]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Th();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ts.length&&t!==0&&t<ts[s].priority;s++);ts.splice(s,0,e),s===0&&gg(e)}};var bg=a.version;if(bg!=="19.2.3")throw Error(r(527,bg,"19.2.3"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var q0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{An=No.inject(q0),Y=No}catch{}}return qr.createRoot=function(e,t){if(!c(e))throw Error(r(299));var s=!1,l="",u=Cm,h=Tm,_=km;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=og(e,1,!1,null,null,s,l,null,u,h,_,yg),e[Hs]=t.current,Zu(e),new vd(t)},qr.hydrateRoot=function(e,t,s){if(!c(e))throw Error(r(299));var l=!1,u="",h=Cm,_=Tm,b=km,T=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(T=s.formState)),t=og(e,1,!0,t,s??null,l,u,T,h,_,b,yg),t.context=cg(null),s=t.current,l=Sa(),l=oc(l),u=qn(l),u.callback=null,Hn(s,u,l),s=l,t.current.lanes=s,ea(t,s),en(t),e[Hs]=t.current,Zu(e),new jo(t)},qr.version="19.2.3",qr}var Og;function Q0(){if(Og)return wd.exports;Og=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),wd.exports=X0(),wd.exports}var J0=Q0();const W0=w_(J0);var Ag="popstate";function Z0(n={}){function a(c,d){let{pathname:f="/",search:m="",hash:p=""}=Us(c.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qd("",{pathname:f,search:m,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(c,d){let f=c.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=c.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof d=="string"?d:Fr(d))}function r(c,d){Ca(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return tb(a,i,r,n)}function _t(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Ca(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function eb(){return Math.random().toString(36).substring(2,10)}function Rg(n,a){return{usr:n.state,key:n.key,idx:a}}function qd(n,a,i=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?Us(a):a,state:i,key:a&&a.key||r||eb()}}function Fr({pathname:n="/",search:a="",hash:i=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Us(n){let a={};if(n){let i=n.indexOf("#");i>=0&&(a.hash=n.substring(i),n=n.substring(0,i));let r=n.indexOf("?");r>=0&&(a.search=n.substring(r),n=n.substring(0,r)),n&&(a.pathname=n)}return a}function tb(n,a,i,r={}){let{window:c=document.defaultView,v5Compat:d=!1}=r,f=c.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function y(){m="POP";let k=v(),O=k==null?null:k-g;g=k,p&&p({action:m,location:N.location,delta:O})}function x(k,O){m="PUSH";let D=qd(N.location,k,O);i&&i(D,k),g=v()+1;let M=Rg(D,g),j=N.createHref(D);try{f.pushState(M,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;c.location.assign(j)}d&&p&&p({action:m,location:N.location,delta:1})}function E(k,O){m="REPLACE";let D=qd(N.location,k,O);i&&i(D,k),g=v();let M=Rg(D,g),j=N.createHref(D);f.replaceState(M,"",j),d&&p&&p({action:m,location:N.location,delta:0})}function C(k){return ab(k)}let N={get action(){return m},get location(){return n(c,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Ag,y),p=k,()=>{c.removeEventListener(Ag,y),p=null}},createHref(k){return a(c,k)},createURL:C,encodeLocation(k){let O=C(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:E,go(k){return f.go(k)}};return N}function ab(n,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),_t(i,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Fr(n);return r=r.replace(/ $/,"%20"),!a&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function x_(n,a,i="/"){return nb(n,a,i,!1)}function nb(n,a,i,r){let c=typeof a=="string"?Us(a):a,d=Cn(c.pathname||"/",i);if(d==null)return null;let f=S_(n);sb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=pb(d);m=fb(f[p],g,r)}return m}function S_(n,a=[],i=[],r="",c=!1){let d=(f,m,p=c,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;_t(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let y=En([r,v.relativePath]),x=i.concat(v);f.children&&f.children.length>0&&(_t(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),S_(f.children,a,x,y,p)),!(f.path==null&&!f.index)&&a.push({path:y,score:db(y,f.index),routesMeta:x})};return n.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))d(f,m);else for(let p of j_(f.path))d(f,m,!0,p)}),a}function j_(n){let a=n.split("/");if(a.length===0)return[];let[i,...r]=a,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(r.length===0)return c?[d,""]:[d];let f=j_(r.join("/")),m=[];return m.push(...f.map(p=>p===""?d:[d,p].join("/"))),c&&m.push(...f),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function sb(n){n.sort((a,i)=>a.score!==i.score?i.score-a.score:hb(a.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var ib=/^:[\w-]+$/,rb=3,lb=2,ob=1,cb=10,ub=-2,Dg=n=>n==="*";function db(n,a){let i=n.split("/"),r=i.length;return i.some(Dg)&&(r+=ub),a&&(r+=lb),i.filter(c=>!Dg(c)).reduce((c,d)=>c+(ib.test(d)?rb:d===""?ob:cb),r)}function hb(n,a){return n.length===a.length&&n.slice(0,-1).every((r,c)=>r===a[c])?n[n.length-1]-a[a.length-1]:0}function fb(n,a,i=!1){let{routesMeta:r}=n,c={},d="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,v=d==="/"?a:a.slice(d.length)||"/",y=$o({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!y&&g&&i&&!r[r.length-1].route.index&&(y=$o({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(c,y.params),f.push({params:c,pathname:En([d,y.pathname]),pathnameBase:yb(En([d,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(d=En([d,y.pathnameBase]))}return f}function $o(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=mb(n.path,n.caseSensitive,n.end),c=a.match(i);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:y},x)=>{if(v==="*"){let C=m[x]||"";f=d.slice(0,d.length-C.length).replace(/(.)\/+$/,"$1")}const E=m[x];return y&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:f,pattern:n}}function mb(n,a=!1,i=!0){Ca(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),r]}function pb(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ca(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function Cn(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}var N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gb=n=>N_.test(n);function _b(n,a="/"){let{pathname:i,search:r="",hash:c=""}=typeof n=="string"?Us(n):n,d;if(i)if(gb(i))d=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Ca(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?d=Mg(i.substring(1),"/"):d=Mg(i,a)}else d=a;return{pathname:d,search:bb(r),hash:wb(c)}}function Mg(n,a){let i=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Nd(n,a,i,r){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vb(n){return n.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function ih(n){let a=vb(n);return a.map((i,r)=>r===a.length-1?i.pathname:i.pathnameBase)}function rh(n,a,i,r=!1){let c;typeof n=="string"?c=Us(n):(c={...n},_t(!c.pathname||!c.pathname.includes("?"),Nd("?","pathname","search",c)),_t(!c.pathname||!c.pathname.includes("#"),Nd("#","pathname","hash",c)),_t(!c.search||!c.search.includes("#"),Nd("#","search","hash",c)));let d=n===""||c.pathname==="",f=d?"/":c.pathname,m;if(f==null)m=i;else{let y=a.length-1;if(!r&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),y-=1;c.pathname=x.join("/")}m=y>=0?a[y]:"/"}let p=_b(c,m),g=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var En=n=>n.join("/").replace(/\/\/+/g,"/"),yb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,xb=class{constructor(n,a,i,r=!1){this.status=n,this.statusText=a||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Sb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function jb(n){return n.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function C_(n,a){let i=n;if(typeof i!="string"||!N_.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,c=!1;if(E_)try{let d=new URL(window.location.href),f=i.startsWith("//")?new URL(d.protocol+i):new URL(i),m=Cn(f.pathname,a);f.origin===d.origin&&m!=null?i=m+f.search+f.hash:c=!0}catch{Ca(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T_=["POST","PUT","PATCH","DELETE"];new Set(T_);var Nb=["GET",...T_];new Set(Nb);var Hi=S.createContext(null);Hi.displayName="DataRouter";var Po=S.createContext(null);Po.displayName="DataRouterState";var Eb=S.createContext(!1),k_=S.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var Cb=S.createContext(new Map);Cb.displayName="Fetchers";var Tb=S.createContext(null);Tb.displayName="Await";var Ta=S.createContext(null);Ta.displayName="Navigation";var nl=S.createContext(null);nl.displayName="Location";var Qa=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var lh=S.createContext(null);lh.displayName="RouteError";var O_="REACT_ROUTER_ERROR",kb="REDIRECT",Ob="ROUTE_ERROR_RESPONSE";function Ab(n){if(n.startsWith(`${O_}:${kb}:{`))try{let a=JSON.parse(n.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Rb(n){if(n.startsWith(`${O_}:${Ob}:{`))try{let a=JSON.parse(n.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new xb(a.status,a.statusText,a.data)}catch{}}function Db(n,{relative:a}={}){_t(Ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=S.useContext(Ta),{hash:c,pathname:d,search:f}=sl(n,{relative:a}),m=d;return i!=="/"&&(m=d==="/"?i:En([i,d])),r.createHref({pathname:m,search:f,hash:c})}function Ii(){return S.useContext(nl)!=null}function kn(){return _t(Ii(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(nl).location}var A_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R_(n){S.useContext(Ta).static||S.useLayoutEffect(n)}function os(){let{isDataRoute:n}=S.useContext(Qa);return n?Fb():Mb()}function Mb(){_t(Ii(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Hi),{basename:a,navigator:i}=S.useContext(Ta),{matches:r}=S.useContext(Qa),{pathname:c}=kn(),d=JSON.stringify(ih(r)),f=S.useRef(!1);return R_(()=>{f.current=!0}),S.useCallback((p,g={})=>{if(Ca(f.current,A_),!f.current)return;if(typeof p=="number"){i.go(p);return}let v=rh(p,JSON.parse(d),c,g.relative==="path");n==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:En([a,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[a,i,d,c,n])}var Bb=S.createContext(null);function $b(n){let a=S.useContext(Qa).outlet;return S.useMemo(()=>a&&S.createElement(Bb.Provider,{value:n},a),[a,n])}function sl(n,{relative:a}={}){let{matches:i}=S.useContext(Qa),{pathname:r}=kn(),c=JSON.stringify(ih(i));return S.useMemo(()=>rh(n,JSON.parse(c),r,a==="path"),[n,c,r,a])}function zb(n,a){return D_(n,a)}function D_(n,a,i,r,c){_t(Ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=S.useContext(Ta),{matches:f}=S.useContext(Qa),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",y=m&&m.route;{let D=y&&y.path||"";B_(g,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=kn(),E;if(a){let D=typeof a=="string"?Us(a):a;_t(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),E=D}else E=x;let C=E.pathname||"/",N=C;if(v!=="/"){let D=v.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=x_(n,{pathname:N});Ca(y||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ca(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Ib(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:En([v,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:En([v,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,i,r,c);return a&&O?S.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function Lb(){let n=Kb(),a=Sb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:d},"ErrorBoundary")," or"," ",S.createElement("code",{style:d},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},a),i?S.createElement("pre",{style:c},i):null,f)}var Ub=S.createElement(Lb,null),M_=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){this.props.onError?this.props.onError(n,a):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=Rb(n.digest);i&&(n=i)}let a=n!==void 0?S.createElement(Qa.Provider,{value:this.props.routeContext},S.createElement(lh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?S.createElement(qb,{error:n},a):a}};M_.contextType=Eb;var Ed=new WeakMap;function qb({children:n,error:a}){let{basename:i}=S.useContext(Ta);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let r=Ab(a.digest);if(r){let c=Ed.get(a);if(c)throw c;let d=C_(r.location,i);if(E_&&!Ed.get(a))if(d.isExternal||r.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:r.replace}));throw Ed.set(a,f),f}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return n}function Hb({routeContext:n,match:a,children:i}){let r=S.useContext(Hi);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),S.createElement(Qa.Provider,{value:n},i)}function Ib(n,a=[],i=null,r=null,c=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let d=n,f=i?.errors;if(f!=null){let v=d.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);_t(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,v+1))}let m=!1,p=-1;if(i)for(let v=0;v<d.length;v++){let y=d[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=v),y.route.id){let{loaderData:x,errors:E}=i,C=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||C){m=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let g=i&&r?(v,y)=>{r(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:jb(i.matches),errorInfo:y})}:void 0;return d.reduceRight((v,y,x)=>{let E,C=!1,N=null,k=null;i&&(E=f&&y.route.id?f[y.route.id]:void 0,N=y.route.errorElement||Ub,m&&(p<0&&x===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):p===x&&(C=!0,k=y.route.hydrateFallbackElement||null)));let O=a.concat(d.slice(0,x+1)),D=()=>{let M;return E?M=N:C?M=k:y.route.Component?M=S.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=v,S.createElement(Hb,{match:y,routeContext:{outlet:v,matches:O,isDataRoute:i!=null},children:M})};return i&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?S.createElement(M_,{location:i.location,revalidation:i.revalidation,component:N,error:E,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):D()},null)}function oh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(n){let a=S.useContext(Hi);return _t(a,oh(n)),a}function Pb(n){let a=S.useContext(Po);return _t(a,oh(n)),a}function Vb(n){let a=S.useContext(Qa);return _t(a,oh(n)),a}function ch(n){let a=Vb(n),i=a.matches[a.matches.length-1];return _t(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Yb(){return ch("useRouteId")}function Kb(){let n=S.useContext(lh),a=Pb("useRouteError"),i=ch("useRouteError");return n!==void 0?n:a.errors?.[i]}function Fb(){let{router:n}=Gb("useNavigate"),a=ch("useNavigate"),i=S.useRef(!1);return R_(()=>{i.current=!0}),S.useCallback(async(c,d={})=>{Ca(i.current,A_),i.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:a,...d}))},[n,a])}var Bg={};function B_(n,a,i){!a&&!Bg[n]&&(Bg[n]=!0,Ca(!1,i))}S.memo(Xb);function Xb({routes:n,future:a,state:i,onError:r}){return D_(n,void 0,i,r,a)}function Qb({to:n,replace:a,state:i,relative:r}){_t(Ii(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=S.useContext(Ta);Ca(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=S.useContext(Qa),{pathname:f}=kn(),m=os(),p=rh(n,ih(d),f,r==="path"),g=JSON.stringify(p);return S.useEffect(()=>{m(JSON.parse(g),{replace:a,state:i,relative:r})},[m,g,r,a,i]),null}function Jb(n){return $b(n.context)}function Ut(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wb({basename:n="/",children:a=null,location:i,navigationType:r="POP",navigator:c,static:d=!1,unstable_useTransitions:f}){_t(!Ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:m,navigator:c,static:d,unstable_useTransitions:f,future:{}}),[m,c,d,f]);typeof i=="string"&&(i=Us(i));let{pathname:g="/",search:v="",hash:y="",state:x=null,key:E="default"}=i,C=S.useMemo(()=>{let N=Cn(g,m);return N==null?null:{location:{pathname:N,search:v,hash:y,state:x,key:E},navigationType:r}},[m,g,v,y,x,E,r]);return Ca(C!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:S.createElement(Ta.Provider,{value:p},S.createElement(nl.Provider,{children:a,value:C}))}function Zb({children:n,location:a}){return zb(Hd(n),a)}function Hd(n,a=[]){let i=[];return S.Children.forEach(n,(r,c)=>{if(!S.isValidElement(r))return;let d=[...a,c];if(r.type===S.Fragment){i.push.apply(i,Hd(r.props.children,d));return}_t(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Hd(r.props.children,d)),i.push(f)}),i}var Mo="get",Bo="application/x-www-form-urlencoded";function Vo(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function e1(n){return Vo(n)&&n.tagName.toLowerCase()==="button"}function t1(n){return Vo(n)&&n.tagName.toLowerCase()==="form"}function a1(n){return Vo(n)&&n.tagName.toLowerCase()==="input"}function n1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function s1(n,a){return n.button===0&&(!a||a==="_self")&&!n1(n)}var Eo=null;function i1(){if(Eo===null)try{new FormData(document.createElement("form"),0),Eo=!1}catch{Eo=!0}return Eo}var r1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(n){return n!=null&&!r1.has(n)?(Ca(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bo}"`),null):n}function l1(n,a){let i,r,c,d,f;if(t1(n)){let m=n.getAttribute("action");r=m?Cn(m,a):null,i=n.getAttribute("method")||Mo,c=Cd(n.getAttribute("enctype"))||Bo,d=new FormData(n)}else if(e1(n)||a1(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(r=p?Cn(p,a):null,i=n.getAttribute("formmethod")||m.getAttribute("method")||Mo,c=Cd(n.getAttribute("formenctype"))||Cd(m.getAttribute("enctype"))||Bo,d=new FormData(m,n),!i1()){let{name:g,type:v,value:y}=n;if(v==="image"){let x=g?`${g}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else g&&d.append(g,y)}}else{if(Vo(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Mo,r=null,c=Bo,f=n}return d&&c==="text/plain"&&(f=d,d=void 0),{action:r,method:i.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uh(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function o1(n,a,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${i}`:a&&Cn(r.pathname,a)==="/"?r.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function c1(n,a){if(n.id in a)return a[n.id];try{let i=await import(n.module);return a[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function d1(n,a,i){let r=await Promise.all(n.map(async c=>{let d=a.routes[c.route.id];if(d){let f=await c1(d,i);return f.links?f.links():[]}return[]}));return p1(r.flat(1).filter(u1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function $g(n,a,i,r,c,d){let f=(p,g)=>i[g]?p.route.id!==i[g].route.id:!0,m=(p,g)=>i[g].pathname!==p.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==p.params["*"];return d==="assets"?a.filter((p,g)=>f(p,g)||m(p,g)):d==="data"?a.filter((p,g)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function h1(n,a,{includeHydrateFallback:i}={}){return f1(n.map(r=>{let c=a.routes[r.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function f1(n){return[...new Set(n)]}function m1(n){let a={},i=Object.keys(n).sort();for(let r of i)a[r]=n[r];return a}function p1(n,a){let i=new Set;return new Set(a),n.reduce((r,c)=>{let d=JSON.stringify(m1(c));return i.has(d)||(i.add(d),r.push({key:d,link:c})),r},[])}function $_(){let n=S.useContext(Hi);return uh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g1(){let n=S.useContext(Po);return uh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dh=S.createContext(void 0);dh.displayName="FrameworkContext";function z_(){let n=S.useContext(dh);return uh(n,"You must render this element inside a <HydratedRouter> element"),n}function _1(n,a){let i=S.useContext(dh),[r,c]=S.useState(!1),[d,f]=S.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:y}=a,x=S.useRef(null);S.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let N=O=>{O.forEach(D=>{f(D.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[n]),S.useEffect(()=>{if(r){let N=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(N)}}},[r]);let E=()=>{c(!0)},C=()=>{c(!1),f(!1)};return i?n!=="intent"?[d,x,{}]:[d,x,{onFocus:Hr(m,E),onBlur:Hr(p,C),onMouseEnter:Hr(g,E),onMouseLeave:Hr(v,C),onTouchStart:Hr(y,E)}]:[!1,x,{}]}function Hr(n,a){return i=>{n&&n(i),i.defaultPrevented||a(i)}}function v1({page:n,...a}){let{router:i}=$_(),r=S.useMemo(()=>x_(i.routes,n,i.basename),[i.routes,n,i.basename]);return r?S.createElement(b1,{page:n,matches:r,...a}):null}function y1(n){let{manifest:a,routeModules:i}=z_(),[r,c]=S.useState([]);return S.useEffect(()=>{let d=!1;return d1(n,a,i).then(f=>{d||c(f)}),()=>{d=!0}},[n,a,i]),r}function b1({page:n,matches:a,...i}){let r=kn(),{manifest:c,routeModules:d}=z_(),{basename:f}=$_(),{loaderData:m,matches:p}=g1(),g=S.useMemo(()=>$g(n,a,p,c,r,"data"),[n,a,p,c,r]),v=S.useMemo(()=>$g(n,a,p,c,r,"assets"),[n,a,p,c,r]),y=S.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,N=!1;if(a.forEach(O=>{let D=c.routes[O.route.id];!D||!D.hasLoader||(!g.some(M=>M.route.id===O.route.id)&&O.route.id in m&&d[O.route.id]?.shouldRevalidate||D.hasClientLoader?N=!0:C.add(O.route.id))}),C.size===0)return[];let k=o1(n,f,"data");return N&&C.size>0&&k.searchParams.set("_routes",a.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[f,m,r,c,g,a,n,d]),x=S.useMemo(()=>h1(v,c),[v,c]),E=y1(v);return S.createElement(S.Fragment,null,y.map(C=>S.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),x.map(C=>S.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),E.map(({key:C,link:N})=>S.createElement("link",{key:C,nonce:i.nonce,...N})))}function w1(...n){return a=>{n.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var x1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x1&&(window.__reactRouterVersion="7.11.0")}catch{}function S1({basename:n,children:a,unstable_useTransitions:i,window:r}){let c=S.useRef();c.current==null&&(c.current=Z0({window:r,v5Compat:!0}));let d=c.current,[f,m]=S.useState({action:d.action,location:d.location}),p=S.useCallback(g=>{i===!1?m(g):S.startTransition(()=>m(g))},[i]);return S.useLayoutEffect(()=>d.listen(p),[d,p]),S.createElement(Wb,{basename:n,children:a,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:i})}var L_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hh=S.forwardRef(function({onClick:a,discover:i="render",prefetch:r="none",relative:c,reloadDocument:d,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:x,...E},C){let{basename:N,unstable_useTransitions:k}=S.useContext(Ta),O=typeof g=="string"&&L_.test(g),D=C_(g,N);g=D.to;let M=Db(g,{relative:c}),[j,q,ae]=_1(r,E),Z=E1(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:c,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function _e(Ie){a&&a(Ie),Ie.defaultPrevented||Z(Ie)}let Ee=S.createElement("a",{...E,...ae,href:D.absoluteURL||M,onClick:D.isExternal||d?a:_e,ref:w1(C,q),target:p,"data-discover":!O&&i==="render"?"true":void 0});return j&&!O?S.createElement(S.Fragment,null,Ee,S.createElement(v1,{page:M})):Ee});hh.displayName="Link";var lt=S.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:r="",end:c=!1,style:d,to:f,viewTransition:m,children:p,...g},v){let y=sl(f,{relative:g.relative}),x=kn(),E=S.useContext(Po),{navigator:C,basename:N}=S.useContext(Ta),k=E!=null&&A1(y)&&m===!0,O=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,D=x.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(D=D.toLowerCase(),M=M?M.toLowerCase():null,O=O.toLowerCase()),M&&N&&(M=Cn(M,N)||M);const j=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=D===O||!c&&D.startsWith(O)&&D.charAt(j)==="/",ae=M!=null&&(M===O||!c&&M.startsWith(O)&&M.charAt(O.length)==="/"),Z={isActive:q,isPending:ae,isTransitioning:k},_e=q?a:void 0,Ee;typeof r=="function"?Ee=r(Z):Ee=[r,q?"active":null,ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof d=="function"?d(Z):d;return S.createElement(hh,{...g,"aria-current":_e,className:Ee,ref:v,style:Ie,to:f,viewTransition:m},typeof p=="function"?p(Z):p)});lt.displayName="NavLink";var j1=S.forwardRef(({discover:n="render",fetcherKey:a,navigate:i,reloadDocument:r,replace:c,state:d,method:f=Mo,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:x,...E},C)=>{let{unstable_useTransitions:N}=S.useContext(Ta),k=k1(),O=O1(m,{relative:g}),D=f.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&L_.test(m),j=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let ae=q.nativeEvent.submitter,Z=ae?.getAttribute("formmethod")||f,_e=()=>k(ae||q.currentTarget,{fetcherKey:a,method:Z,navigate:i,replace:c,state:d,relative:g,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:x});N&&i!==!1?S.startTransition(()=>_e()):_e()};return S.createElement("form",{ref:C,method:D,action:O,onSubmit:r?p:j,...E,"data-discover":!M&&n==="render"?"true":void 0})});j1.displayName="Form";function N1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U_(n){let a=S.useContext(Hi);return _t(a,N1(n)),a}function E1(n,{target:a,replace:i,state:r,preventScrollReset:c,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=os(),v=kn(),y=sl(n,{relative:d});return S.useCallback(x=>{if(s1(x,a)){x.preventDefault();let E=i!==void 0?i:Fr(v)===Fr(y),C=()=>g(n,{replace:E,state:r,preventScrollReset:c,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:m});p?S.startTransition(()=>C()):C()}},[v,g,y,i,r,a,n,c,d,f,m,p])}var C1=0,T1=()=>`__${String(++C1)}__`;function k1(){let{router:n}=U_("useSubmit"),{basename:a}=S.useContext(Ta),i=Yb(),r=n.fetch,c=n.navigate;return S.useCallback(async(d,f={})=>{let{action:m,method:p,encType:g,formData:v,body:y}=l1(d,a);if(f.navigate===!1){let x=f.fetcherKey||T1();await r(x,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:y,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await c(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:y,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,c,a,i])}function O1(n,{relative:a}={}){let{basename:i}=S.useContext(Ta),r=S.useContext(Qa);_t(r,"useFormAction must be used inside a RouteContext");let[c]=r.matches.slice(-1),d={...sl(n||".",{relative:a})},f=kn();if(n==null){d.search=f.search;let m=new URLSearchParams(d.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let v=m.toString();d.search=v?`?${v}`:""}}return(!n||n===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:En([i,d.pathname])),Fr(d)}function A1(n,{relative:a}={}){let i=S.useContext(k_);_t(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U_("useViewTransitionState"),c=sl(n,{relative:a});if(!i.isTransitioning)return!1;let d=Cn(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=Cn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return $o(c.pathname,f)!=null||$o(c.pathname,d)!=null}const R1={nurse:["view_schedule","request_leave"],deputy:["view_schedule","request_leave","view_settings","approve_leave","manage_schedule","switch_unit"],manager:["view_schedule","request_leave","view_settings","manage_shifts","manage_rules","approve_leave","manage_schedule","switch_unit"]},Xr={nurse:"",deputy:"",manager:""},Td=[{id:"U001",name:"",code:"ICU"},{id:"U002",name:" 5A",code:"GW-5A"},{id:"U003",name:"",code:"ER"}],D1=[{id:"N-1001",name:"",level:"N4",departmentId:"U001",role:"manager",managedUnits:[Td[0],Td[1]]},{id:"N-1002",name:"",level:"N3",departmentId:"U001",role:"deputy",managedUnits:[Td[0]]},{id:"N-1003",name:"",level:"N3",departmentId:"U001",role:"nurse"},{id:"N-1004",name:"",level:"N2",departmentId:"U001",role:"nurse"},{id:"N-1005",name:"",level:"N2",departmentId:"U001",role:"nurse"},{id:"N-1006",name:"",level:"N1",departmentId:"U001",role:"nurse"},{id:"N-1007",name:"",level:"N1",departmentId:"U001",role:"nurse"},{id:"N-1008",name:"",level:"N0",departmentId:"U001",role:"nurse"}],M1=n=>{const a=[],i=["D","D","D","D","OFF","OFF","E","E","E","E","OFF","OFF","N","N","N","N","OFF"],r=new Date;return[{year:r.getFullYear(),month:r.getMonth()+1},{year:r.getMonth()===11?r.getFullYear()+1:r.getFullYear(),month:r.getMonth()===11?1:r.getMonth()+2}].forEach(({year:d,month:f})=>{const m=new Date(d,f,0).getDate();n.forEach((p,g)=>{for(let v=1;v<=m;v++){const y=`${d}-${f.toString().padStart(2,"0")}-${v.toString().padStart(2,"0")}`,x=(v+g*3)%i.length;a.push({date:y,staffId:p.id,shiftCode:i[x]})}})}),a};M1(D1);function Yo(n,a){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&a.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(n);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(n,r[c])&&(i[r[c]]=n[r[c]]);return i}function B1(n,a,i,r){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(v){try{g(r.next(v))}catch(y){f(y)}}function p(v){try{g(r.throw(v))}catch(y){f(y)}}function g(v){v.done?d(v.value):c(v.value).then(m,p)}g((r=r.apply(n,a||[])).next())})}const $1=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class fh extends Error{constructor(a,i="FunctionsError",r){super(a),this.name=i,this.context=r}}class z1 extends fh{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class zg extends fh{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Lg extends fh{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Id;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Id||(Id={}));class L1{constructor(a,{headers:i={},customFetch:r,region:c=Id.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=$1(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return B1(this,arguments,void 0,function*(i,r={}){var c;let d,f;try{const{headers:m,method:p,body:g,signal:v,timeout:y}=r;let x={},{region:E}=r;E||(E=this.region);const C=new URL(`${this.url}/${i}`);E&&E!=="any"&&(x["x-region"]=E,C.searchParams.set("forceFunctionRegion",E));let N;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(x["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(x["Content-Type"]="application/json",N=JSON.stringify(g)):N=g;let k=v;y&&(f=new AbortController,d=setTimeout(()=>f.abort(),y),v?(k=f.signal,v.addEventListener("abort",()=>f.abort())):k=f.signal);const O=yield this.fetch(C.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:N,signal:k}).catch(q=>{throw new z1(q)}),D=O.headers.get("x-relay-error");if(D&&D==="true")throw new zg(O);if(!O.ok)throw new Lg(O);let M=((c=O.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),j;return M==="application/json"?j=yield O.json():M==="application/octet-stream"||M==="application/pdf"?j=yield O.blob():M==="text/event-stream"?j=O:M==="multipart/form-data"?j=yield O.formData():j=yield O.text(),{data:j,error:null,response:O}}catch(m){return{data:null,error:m,response:m instanceof Lg||m instanceof zg?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var U1=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},q1=class{constructor(n){var a,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,p=null,g=d.status,v=d.statusText;if(d.ok){var y,x;if(i.method!=="HEAD"){var E;const O=await d.text();O===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((E=i.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?m=O:m=JSON.parse(O))}const N=(y=i.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),k=(x=d.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&k&&k.length>1&&(p=parseInt(k[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var C;const N=await d.text();try{f=JSON.parse(N),Array.isArray(f)&&d.status===404&&(m=[],f=null,g=200,v="OK")}catch{d.status===404&&N===""?(g=204,v="No Content"):f={message:N}}if(f&&i.isMaybeSingle&&(!(f==null||(C=f.details)===null||C===void 0)&&C.includes("0 rows"))&&(f=null,g=200,v="OK"),f&&i.shouldThrowOnError)throw new U1(f)}return{error:f,data:m,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let m="";const p=d?.cause;if(p){var g,v,y,x;const C=(g=p?.message)!==null&&g!==void 0?g:"",N=(v=p?.code)!==null&&v!==void 0?v:"";m=`${(y=d?.name)!==null&&y!==void 0?y:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(x=p?.name)!==null&&x!==void 0?x:"Error"}: ${C}`,N&&(m+=` (${N})`),p?.stack&&(m+=`
${p.stack}`)}else{var E;m=(E=d?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(n,a)}returns(){return this}overrideTypes(){return this}},H1=class extends q1{select(n){let a=!1;const i=(n??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:i,foreignTable:r,referencedTable:c=r}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${n}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:i=a}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,a,{foreignTable:i,referencedTable:r=i}={}){const c=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:i=!1,buffers:r=!1,wal:c=!1,format:d="text"}={}){var f;const m=[n?"analyze":null,a?"verbose":null,i?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Ug=new RegExp("[,()]");var Ri=class extends H1{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const i=Array.from(new Set(a)).map(r=>typeof r=="string"&&Ug.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}notIn(n,a){const i=Array.from(new Set(a)).map(r=>typeof r=="string"&&Ug.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${i})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:i,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${c}fts${d}.${a}`),this}match(n){return Object.entries(n).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(n,a,i){return this.url.searchParams.append(n,`not.${a}.${i}`),this}or(n,{foreignTable:a,referencedTable:i=a}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,a,i){return this.url.searchParams.append(n,`${a}.${i}`),this}},I1=class{constructor(n,{headers:a={},schema:i,fetch:r}){this.url=n,this.headers=new Headers(a),this.schema=i,this.fetch=r}select(n,a){const{head:i=!1,count:r}=a??{},c=i?"HEAD":"GET";let d=!1;const f=(n??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),r&&this.headers.append("Prefer",`count=${r}`),new Ri({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:a,defaultToNull:i=!0}={}){var r;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new Ri({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:a,ignoreDuplicates:i=!1,count:r,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),r&&this.headers.append("Prefer",`count=${r}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Ri({method:f,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:a}={}){var i;const r="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Ri({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:n}={}){var a;const i="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Ri({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},G1=class q_{constructor(a,{headers:i={},schema:r,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=r,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new I1(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new q_(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:r=!1,get:c=!1,count:d}={}){var f;let m;const p=new URL(`${this.url}/rpc/${a}`);let g;r||c?(m=r?"HEAD":"GET",Object.entries(i).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{p.searchParams.append(y,x)})):(m="POST",g=i);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new Ri({method:m,url:p,headers:v,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class P1{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,c=parseInt(r.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const r=this.getWebSocketConstructor();return new r(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const V1="2.89.0",Y1=`realtime-js/${V1}`,H_="1.0.0",K1="2.0.0",qg=H_,Gd=1e4,F1=1e3,X1=100;var ss;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ss||(ss={}));var Bt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Bt||(Bt={}));var Xa;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Xa||(Xa={}));var Pd;(function(n){n.websocket="websocket"})(Pd||(Pd={}));var Ms;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ms||(Ms={}));class Q1{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,r;const c=(r=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var i,r;const c=(r=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,i,r){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",p=(d=a.join_ref)!==null&&d!==void 0?d:"",g=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+g.length+y.length,E=new ArrayBuffer(this.HEADER_LENGTH+x);let C=new DataView(E),N=0;C.setUint8(N++,this.KINDS.userBroadcastPush),C.setUint8(N++,p.length),C.setUint8(N++,m.length),C.setUint8(N++,f.length),C.setUint8(N++,g.length),C.setUint8(N++,y.length),C.setUint8(N++,i),Array.from(p,O=>C.setUint8(N++,O.charCodeAt(0))),Array.from(m,O=>C.setUint8(N++,O.charCodeAt(0))),Array.from(f,O=>C.setUint8(N++,O.charCodeAt(0))),Array.from(g,O=>C.setUint8(N++,O.charCodeAt(0))),Array.from(y,O=>C.setUint8(N++,O.charCodeAt(0)));var k=new Uint8Array(E.byteLength+r.byteLength);return k.set(new Uint8Array(E),0),k.set(new Uint8Array(r),E.byteLength),k.buffer}decode(a,i){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return i(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,d,f,m,p]=r;return i({join_ref:c,ref:d,topic:f,event:m,payload:p})}return i({})}_binaryDecode(a){const i=new DataView(a),r=i.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,i,c)}_decodeUserBroadcast(a,i,r){const c=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let p=this.HEADER_LENGTH+4;const g=r.decode(a.slice(p,p+c));p=p+c;const v=r.decode(a.slice(p,p+d));p=p+d;const y=r.decode(a.slice(p,p+f));p=p+f;const x=a.slice(p,a.byteLength),E=m===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,C={type:this.BROADCAST_EVENT,event:v,payload:E};return f>0&&(C.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>i.includes(r)))}}class I_{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(rt||(rt={}));const Hg=(n,a,i={})=>{var r;const c=(r=i.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=J1(f,n,a,c),d),{}):{}},J1=(n,a,i,r)=>{const c=a.find(m=>m.name===n),d=c?.type,f=i[n];return d&&!r.includes(d)?G_(d,f):Vd(f)},G_=(n,a)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return tw(a,i)}switch(n){case rt.bool:return W1(a);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return Z1(a);case rt.json:case rt.jsonb:return ew(a);case rt.timestamp:return aw(a);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Vd(a);default:return Vd(a)}},Vd=n=>n,W1=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Z1=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},ew=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},tw=(n,a)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let d;const f=n.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>G_(a,m))}return n},aw=n=>typeof n=="string"?n.replace(" ","T"):n,P_=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class kd{constructor(a,i,r={},c=Gd){this.channel=a,this.event=i,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var r;return this._hasReceived(a)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Ig;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ig||(Ig={}));class Yr{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=Yr.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Yr.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,r,c){const d=this.cloneDeep(a),f=this.transformState(i),m={},p={};return this.map(d,(g,v)=>{f[g]||(p[g]=v)}),this.map(f,(g,v)=>{const y=d[g];if(y){const x=v.map(k=>k.presence_ref),E=y.map(k=>k.presence_ref),C=v.filter(k=>E.indexOf(k.presence_ref)<0),N=y.filter(k=>x.indexOf(k.presence_ref)<0);C.length>0&&(m[g]=C),N.length>0&&(p[g]=N)}else m[g]=v}),this.syncDiff(d,{joins:m,leaves:p},r,c)}static syncDiff(a,i,r,c){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(m,p)=>{var g;const v=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(p),v.length>0){const y=a[m].map(E=>E.presence_ref),x=v.filter(E=>y.indexOf(E.presence_ref)<0);a[m].unshift(...x)}r(m,v,p)}),this.map(f,(m,p)=>{let g=a[m];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),a[m]=g,c(m,g,p),g.length===0&&delete a[m]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(r=>i(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,r)=>{const c=a[r];return"metas"in c?i[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[r]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Gg||(Gg={}));var Kr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Kr||(Kr={}));var jn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Bi{constructor(a,i={config:{}},r){var c,d;if(this.topic=a,this.params=i,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new kd(this,Xa.join,this.params,this.timeout),this.rejoinTimer=new I_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xa.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Yr(this),this.broadcastEndpointURL=P_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Kr.PRESENCE]&&this.bindings[Kr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,y={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(E=>a?.(jn.CHANNEL_ERROR,E)),this._onClose(()=>a?.(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){a?.(jn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(C=N?.length)!==null&&C!==void 0?C:0,O=[];for(let D=0;D<k;D++){const M=N[D],{filter:{event:j,schema:q,table:ae,filter:Z}}=M,_e=E&&E[D];if(_e&&_e.event===j&&Bi.isFilterValueEqual(_e.schema,q)&&Bi.isFilterValueEqual(_e.table,ae)&&Bi.isFilterValueEqual(_e.filter,Z))O.push(Object.assign(Object.assign({},M),{id:_e.id}));else{this.unsubscribe(),this.state=Bt.errored,a?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,a&&a(jn.SUBSCRIBED);return}}).receive("error",E=>{this.state=Bt.errored,a?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{a?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,r){return this.state===Bt.joined&&a===Kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,r)}async httpSend(a,i,r={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(a,i={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,p;const g=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Bt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new kd(this,Xa.leave,{},a),r.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(a,i,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),f}_push(a,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new kd(this,a,i,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>X1){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,r){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,r){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:p,leave:g,join:v}=Xa;if(r&&[m,p,g,v].indexOf(f)>=0&&r!==this._joinRef())return;let x=this._onMessage(f,i,r);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var C,N,k;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((k=(N=E.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(E=>E.callback(x,r)):(d=this.bindings[f])===null||d===void 0||d.filter(E=>{var C,N,k,O,D,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const j=E.id,q=(C=E.filter)===null||C===void 0?void 0:C.event;return j&&((N=i.ids)===null||N===void 0?void 0:N.includes(j))&&(q==="*"||q?.toLocaleLowerCase()===((k=i.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const j=(D=(O=E?.filter)===null||O===void 0?void 0:O.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return j==="*"||j===((M=i?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:N,table:k,commit_timestamp:O,type:D,errors:M}=C;x=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:O,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(C))}E.callback(x,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,r){const c=a.toLocaleLowerCase(),d={type:c,filter:i,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,i){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&Bi.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const r in a)if(a[r]!==i[r])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Xa.close,{},a)}_onError(a){this._on(Xa.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=Hg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=Hg(a.columns,a.old_record)),i}}const Od=()=>{},Co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nw=[1e3,2e3,5e3,1e4],sw=1e4,iw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rw{constructor(a,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gd,this.transport=null,this.heartbeatIntervalMs=Co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Od,this.ref=0,this.reconnectTimer=null,this.vsn=qg,this.logger=Od,this.conn=null,this.sendBuffer=[],this.serializer=new Q1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=i?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Pd.websocket}`,this.httpEndpoint=P_(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P1.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,r){this.logger(a,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return Ms.Connecting;case ss.open:return Ms.Open;case ss.closing:return Ms.Closing;default:return Ms.Closed}}isConnected(){return this.connectionState()===Ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new Bi(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:r,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${i} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(F1,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Co.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:c,payload:d,ref:f}=i,m=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${r} ${c} ${m}`.trim(),d),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(c,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===ss.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ss.open||this.conn.readyState===ss.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Xa.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${r}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const r=new Blob([iw],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,r=!1;if(a)i=a,r=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const d={access_token:i,version:Y1};i&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Xa.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new I_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,r,c,d,f,m,p,g,v,y,x,E;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(r=a?.timeout)!==null&&r!==void 0?r:Gd,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Co.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Od,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:qg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>nw[C-1]||sw),this.vsn){case H_:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((C,N)=>N(JSON.stringify(C))),this.decode=(y=a?.decode)!==null&&y!==void 0?y:((C,N)=>N(JSON.parse(C)));break;case K1:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(E=a?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Qr=class extends Error{constructor(n,a){super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lw(n,a,i){const r=new URL(a,n);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function ow(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function cw(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:c,body:d,headers:f}){const m=lw(n.baseUrl,r,c),p=await ow(n.auth),g=await a(m,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),v=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),x=y&&v?JSON.parse(v):v;if(!g.ok){const E=y?x:void 0,C=E?.error;throw new Qr(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:E})}return{status:g.status,headers:g.headers,data:x}}}}function To(n){return n.join("")}var uw=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:To(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,a){const i={namespace:n.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${To(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${To(n.namespace)}`}),!0}catch(a){if(a instanceof Qr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(i){if(i instanceof Qr&&i.status===409)return;throw i}}};function Ni(n){return n.join("")}var dw=class{constructor(n,a="",i){this.client=n,this.prefix=a,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ni(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ni(n.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(n,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ni(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ni(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ni(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ni(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(i){if(i instanceof Qr&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(i){if(i instanceof Qr&&i.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw i}}},hw=class{constructor(n){let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=cw({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new uw(this.client,a),this.tableOps=new dw(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},Ko=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function bt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var fw=class extends Ko{constructor(n,a,i){super(n),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yd=class extends Ko{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}};const mh=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),mw=()=>Response,Kd=n=>{if(Array.isArray(n))return n.map(i=>Kd(i));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([i,r])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Kd(r)}),a},pw=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},gw=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Jr(n){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Jr(n)}function _w(n,a){if(Jr(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,a);if(Jr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function vw(n){var a=_w(n,"string");return Jr(a)=="symbol"?a:a+""}function yw(n,a,i){return(a=vw(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}function Pg(n,a){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,r)}return i}function xe(n){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Pg(Object(i),!0).forEach(function(r){yw(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Pg(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}const Ad=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},bw=async(n,a,i)=>{n instanceof await mw()&&!i?.noResolveJson?n.json().then(r=>{const c=n.status||500,d=r?.statusCode||c+"";a(new fw(Ad(r),c,d))}).catch(r=>{a(new Yd(Ad(r),r))}):a(new Yd(Ad(n),n))},ww=(n,a,i,r)=>{const c={method:n,headers:a?.headers||{}};return n==="GET"||!r?c:(pw(r)?(c.headers=xe({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,a?.duplex&&(c.duplex=a.duplex),xe(xe({},c),i))};async function il(n,a,i,r,c,d){return new Promise((f,m)=>{n(i,ww(a,r,c,d)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>bw(p,m,r))})}async function Wr(n,a,i,r){return il(n,"GET",a,i,r)}async function Fa(n,a,i,r,c){return il(n,"POST",a,r,c,i)}async function Fd(n,a,i,r,c){return il(n,"PUT",a,r,c,i)}async function xw(n,a,i,r){return il(n,"HEAD",a,xe(xe({},i),{},{noResolveJson:!0}),r)}async function ph(n,a,i,r,c){return il(n,"DELETE",a,r,c,i)}var Sw=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}}};let V_;V_=Symbol.toStringTag;var jw=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[V_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sw(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}}};const Nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ew=class{constructor(n,a={},i,r){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.bucketId=i,this.fetch=mh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,a,i,r){var c=this;try{let d;const f=xe(xe({},Vg),r);let m=xe(xe({},c.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(m=xe(xe({},m),r.headers));const g=c._removeEmptyFolders(a),v=c._getFinalPath(g),y=await(n=="PUT"?Fd:Fa)(c.fetch,`${c.url}/object/${v}`,d,xe({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(bt(d))return{data:null,error:d};throw d}}async upload(n,a,i){return this.uploadOrUpdate("POST",n,a,i)}async uploadToSignedUrl(n,a,i,r){var c=this;const d=c._removeEmptyFolders(n),f=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let p;const g=xe({upsert:Vg.upsert},r),v=xe(xe({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:d,fullPath:(await Fd(c.fetch,m.toString(),p,{headers:v})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(bt(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(n,a){var i=this;try{let r=i._getFinalPath(n);const c=xe({},i.headers);a?.upsert&&(c["x-upsert"]="true");const d=await Fa(i.fetch,`${i.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(i.url+d.url),m=f.searchParams.get("token");if(!m)throw new Ko("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}}async update(n,a,i){return this.uploadOrUpdate("PUT",n,a,i)}async move(n,a,i){var r=this;try{return{data:await Fa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:r.headers}),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(bt(c))return{data:null,error:c};throw c}}async copy(n,a,i){var r=this;try{return{data:{path:(await Fa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(bt(c))return{data:null,error:c};throw c}}async createSignedUrl(n,a,i){var r=this;try{let c=r._getFinalPath(n),d=await Fa(r.fetch,`${r.url}/object/sign/${c}`,xe({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:r.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(bt(c))return{data:null,error:c};throw c}}async createSignedUrls(n,a,i){var r=this;try{const c=await Fa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:n},{headers:r.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>xe(xe({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(bt(c))return{data:null,error:c};throw c}}download(n,a){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(a?.transform||{}),c=r?`?${r}`:"",d=this._getFinalPath(n),f=()=>Wr(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new jw(f,this.shouldThrowOnError)}async info(n){var a=this;const i=a._getFinalPath(n);try{return{data:Kd(await Wr(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}}async exists(n){var a=this;const i=a._getFinalPath(n);try{return await xw(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(bt(r)&&r instanceof Yd){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,a){const i=this._getFinalPath(n),r=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const d=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&r.push(f);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}async remove(n){var a=this;try{return{data:await ph(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}async list(n,a,i){var r=this;try{const c=xe(xe(xe({},Nw),a),{},{prefix:n||""});return{data:await Fa(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},i),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(bt(c))return{data:null,error:c};throw c}}async listV2(n,a){var i=this;try{const r=xe({},n);return{data:await Fa(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,r,{headers:i.headers},a),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const Y_="2.89.0",K_={"X-Client-Info":`storage-js/${Y_}`};var Cw=class{constructor(n,a={},i,r){this.shouldThrowOnError=!1;const c=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=xe(xe({},K_),a),this.fetch=mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var a=this;try{const i=a.listBucketOptionsToQueryString(n);return{data:await Wr(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}async getBucket(n){var a=this;try{return{data:await Wr(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}async createBucket(n,a={public:!1}){var i=this;try{return{data:await Fa(i.fetch,`${i.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}}async updateBucket(n,a){var i=this;try{return{data:await Fd(i.fetch,`${i.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}}async emptyBucket(n){var a=this;try{return{data:await Fa(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}async deleteBucket(n){var a=this;try{return{data:await ph(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Tw=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xe(xe({},K_),a),this.fetch=mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await Fa(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}async listBuckets(n){var a=this;try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const r=i.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return{data:await Wr(a.fetch,c,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}async deleteBucket(n){var a=this;try{return{data:await ph(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}}from(n){var a=this;if(!gw(n))throw new Ko("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new hw({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(i,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}};const gh={"X-Client-Info":`storage-js/${Y_}`,"Content-Type":"application/json"};var F_=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Na(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Rd=class extends F_{constructor(n,a,i){super(n),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kw=class extends F_{constructor(n,a){super(n),this.name="StorageVectorsUnknownError",this.originalError=a}};const _h=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),Ow=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Yg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Aw=async(n,a,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const r=n.status||500,c=n;if(typeof c.json=="function")c.json().then(d=>{const f=d?.statusCode||d?.code||r+"";a(new Rd(Yg(d),r,f))}).catch(()=>{const d=r+"";a(new Rd(c.statusText||`HTTP ${r} error`,r,d))});else{const d=r+"";a(new Rd(c.statusText||`HTTP ${r} error`,r,d))}}else a(new kw(Yg(n),n))},Rw=(n,a,i,r)=>{const c={method:n,headers:a?.headers||{}};return r?(Ow(r)?(c.headers=xe({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,xe(xe({},c),i)):c};async function Dw(n,a,i,r,c,d){return new Promise((f,m)=>{n(i,Rw(a,r,c,d)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>Aw(p,m,r))})}async function Ea(n,a,i,r,c){return Dw(n,"POST",a,r,c,i)}var Mw=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xe(xe({},gh),a),this.fetch=_h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async getIndex(n,a){var i=this;try{return{data:await Ea(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Na(r))return{data:null,error:r};throw r}}async listIndexes(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async deleteIndex(n,a){var i=this;try{return{data:await Ea(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:i.headers})||{},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Na(r))return{data:null,error:r};throw r}}},Bw=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xe(xe({},gh),a),this.fetch=_h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var a=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ea(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async getVectors(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async listVectors(n){var a=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Ea(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async queryVectors(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async deleteVectors(n){var a=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ea(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}},$w=class{constructor(n,a={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xe(xe({},gh),a),this.fetch=_h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async getBucket(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async listBuckets(n={}){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}async deleteBucket(n){var a=this;try{return{data:await Ea(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Na(i))return{data:null,error:i};throw i}}},zw=class extends $w{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new Lw(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,i=this;return a().call(i,n)}async getBucket(n){var a=()=>super.getBucket,i=this;return a().call(i,n)}async listBuckets(n={}){var a=()=>super.listBuckets,i=this;return a().call(i,n)}async deleteBucket(n){var a=()=>super.deleteBucket,i=this;return a().call(i,n)}},Lw=class extends Mw{constructor(n,a,i,r){super(n,a,r),this.vectorBucketName=i}async createIndex(n){var a=()=>super.createIndex,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,n)}index(n){return new Uw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Uw=class extends Bw{constructor(n,a,i,r,c){super(n,a,c),this.vectorBucketName=i,this.indexName=r}async putVectors(n){var a=()=>super.putVectors,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(n){var a=()=>super.getVectors,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,i=this;return a().call(i,xe(xe({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},qw=class extends Cw{constructor(n,a={},i,r){super(n,a,i,r)}from(n){return new Ew(this.url,this.headers,n,this.fetch)}get vectors(){return new zw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Tw(this.url+"/iceberg",this.headers,this.fetch)}};const X_="2.89.0",Di=30*1e3,Xd=3,Dd=Xd*Di,Hw="http://localhost:9999",Iw="supabase.auth.token",Gw={"X-Client-Info":`gotrue-js/${X_}`},Qd="X-Supabase-Api-Version",Q_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vw=600*1e3;class Zr extends Error{constructor(a,i,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Yw extends Zr{constructor(a,i,r){super(a,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function Kw(n){return pe(n)&&n.name==="AuthApiError"}class Bs extends Zr{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class On extends Zr{constructor(a,i,r,c){super(a,r,c),this.name=i,this.status=r}}class ja extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fw(n){return pe(n)&&n.name==="AuthSessionMissingError"}class Ei extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ko extends On{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Oo extends On{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xw(n){return pe(n)&&n.name==="AuthImplicitGrantRedirectError"}class Kg extends On{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qw extends On{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jd extends On{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function Md(n){return pe(n)&&n.name==="AuthRetryableFetchError"}class Fg extends On{constructor(a,i,r){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class Wd extends On{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xg=` 	
\r=`.split(""),Jw=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<Xg.length;a+=1)n[Xg[a].charCodeAt(0)]=-2;for(let a=0;a<zo.length;a+=1)n[zo[a].charCodeAt(0)]=a;return n})();function Qg(n,a,i){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;i(zo[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;i(zo[r]),a.queuedBits-=6}}function J_(n,a,i){const r=Jw[n];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Jg(n){const a=[],i=f=>{a.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{ex(f,r,i)};for(let f=0;f<n.length;f+=1)J_(n.charCodeAt(f),c,d);return a.join("")}function Ww(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Zw(n,a){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}Ww(r,a)}}function ex(n,a,i){if(a.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Li(n){const a=[],i={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<n.length;c+=1)J_(n.charCodeAt(c),i,r);return new Uint8Array(a)}function tx(n){const a=[];return Zw(n,i=>a.push(i)),new Uint8Array(a)}function $s(n){const a=[],i={queue:0,queuedBits:0},r=c=>{a.push(c)};return n.forEach(c=>Qg(c,i,r)),Qg(null,i,r),a.join("")}function ax(n){return Math.round(Date.now()/1e3)+n}function nx(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},W_=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function sx(n){const a={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return i.searchParams.forEach((r,c)=>{a[c]=r}),a}const Z_=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),ix=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Mi=async(n,a,i)=>{await n.setItem(a,JSON.stringify(i))},ks=async(n,a)=>{const i=await n.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Yt=async(n,a)=>{await n.removeItem(a)};class Fo{constructor(){this.promise=new Fo.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}Fo.promiseConstructor=Promise;function Bd(n){const a=n.split(".");if(a.length!==3)throw new Wd("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!Pw.test(a[r]))throw new Wd("JWT not in base64url format");return{header:JSON.parse(Jg(a[0])),payload:JSON.parse(Jg(a[1])),signature:Li(a[2]),raw:{header:a[0],payload:a[1]}}}async function rx(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function lx(n,a){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await n(d);if(!a(d,null,f)){r(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function ox(n){return("0"+n.toString(16)).substr(-2)}function cx(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,ox).join("")}async function ux(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function dx(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await ux(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(n,a,i=!1){const r=cx();let c=r;i&&(c+="/PASSWORD_RECOVERY"),await Mi(n,`${a}-code-verifier`,c);const d=await dx(r);return[d,r===d?"plain":"s256"]}const hx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fx(n){const a=n.headers.get(Qd);if(!a||!a.match(hx))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function mx(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function px(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ti(n){if(!gx.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $d(){const n={};return new Proxy(n,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _x(n,a){return new Proxy(n,{get:(i,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,r,c)}})}function Wg(n){return JSON.parse(JSON.stringify(n))}const Rs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),vx=[502,503,504];async function Zg(n){var a;if(!ix(n))throw new Jd(Rs(n),0);if(vx.includes(n.status))throw new Jd(Rs(n),n.status);let i;try{i=await n.json()}catch(d){throw new Bs(Rs(d),d)}let r;const c=fx(n);if(c&&c.getTime()>=Q_["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Fg(Rs(i),n.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new ja}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Fg(Rs(i),n.status,i.weak_password.reasons);throw new Yw(Rs(i),n.status||500,r)}const yx=(n,a,i,r)=>{const c={method:n,headers:a?.headers||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),i))};async function we(n,a,i,r){var c;const d=Object.assign({},r?.headers);d[Qd]||(d[Qd]=Q_["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await bx(n,a,i+m,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function bx(n,a,i,r,c,d){const f=yx(a,r,c,d);let m;try{m=await n(i,Object.assign({},f))}catch(p){throw console.error(p),new Jd(Rs(p),0)}if(m.ok||await Zg(m),r?.noResolveJson)return m;try{return await m.json()}catch(p){await Zg(p)}}function Ka(n){var a;let i=null;Sx(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=ax(n.expires_in)));const r=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:i,user:r},error:null}}function e_(n){const a=Ka(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(a.data.weak_password=n.weak_password),a}function is(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function wx(n){return{data:n,error:null}}function xx(n){const{action_link:a,email_otp:i,hashed_token:r,redirect_to:c,verification_type:d}=n,f=Yo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:i,hashed_token:r,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function t_(n){return n}function Sx(n){return n.access_token&&n.refresh_token&&n.expires_in}const zd=["global","local","others"];class jx{constructor({url:a="",headers:i={},fetch:r}){this.url=a,this.headers=i,this.fetch=Z_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=zd[0]){if(zd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zd.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,i={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:is})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:i}=a,r=Yo(a,["options"]),c=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:xx,redirectTo:i?.redirectTo})}catch(i){if(pe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:is})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,r,c,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:t_});if(v.error)throw v.error;const y=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);g[`${k}Page`]=N}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(pe(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Ti(a);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:is})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){Ti(a);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:is})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,i=!1){Ti(a);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:is})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){Ti(a.userId);try{const{data:i,error:r}=await we(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:r}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteFactor(a){Ti(a.userId),Ti(a.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,r,c,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:t_});if(v.error)throw v.error;const y=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);g[`${k}Page`]=N}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(pe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}}function a_(n={}){return{getItem:a=>n[a]||null,setItem:(a,i)=>{n[a]=i},removeItem:a=>{delete n[a]}}}const ki={debug:!!(globalThis&&W_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ev extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Nx extends ev{}async function Ex(n,a,i){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await i()}finally{ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(a===0)throw ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Nx(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ki.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Tx(n){return parseInt(n,16)}function kx(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function Ox(n){var a;const{chainId:i,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:v,uri:y,version:x}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=tv(n.address),C=v?`${v}://${r}`:r,N=n.statement?`${n.statement}
`:"",k=`${C} wants you to sign in with your Ethereum account:
${E}

${N}`;let O=`URI: ${y}
Version: ${x}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(O+=`
Expiration Time: ${c.toISOString()}`),m&&(O+=`
Not Before: ${m.toISOString()}`),p&&(O+=`
Request ID: ${p}`),g){let D=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);D+=`
- ${M}`}O+=D}return`${k}
${O}`}class Rt extends Error{constructor({message:a,code:i,cause:r,name:c}){var d;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Lo extends Rt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function Ax({error:n,options:a}){var i,r,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(av(f)){if(d.rp.id!==f)return new Rt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Rx({error:n,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(av(r)){if(i.rpId!==r)return new Rt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Dx{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Mx=new Dx;function Bx(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:i,excludeCredentials:r}=n,c=Yo(n,["challenge","user","excludeCredentials"]),d=Li(a).buffer,f=Object.assign(Object.assign({},i),{id:Li(i.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const g=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Li(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function $x(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:i}=n,r=Yo(n,["challenge","allowCredentials"]),c=Li(a).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Li(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function zx(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:$s(new Uint8Array(n.response.attestationObject)),clientDataJSON:$s(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Lx(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,r=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:$s(new Uint8Array(c.authenticatorData)),clientDataJSON:$s(new Uint8Array(c.clientDataJSON)),signature:$s(new Uint8Array(c.signature)),userHandle:c.userHandle?$s(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function av(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function n_(){var n,a;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Ux(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",a)}:{data:null,error:new Lo("Empty credential response",a)}}catch(a){return{data:null,error:Ax({error:a,options:n})}}}async function qx(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",a)}:{data:null,error:new Lo("Empty credential response",a)}}catch(a){return{data:null,error:Rx({error:a,options:n})}}}const Hx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ix={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Uo(...n){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of n)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(i(f))r[d]=f;else if(a(f)){const m=r[d];a(m)?r[d]=Uo(m,f):r[d]=Uo(f)}else r[d]=f}return r}function Gx(n,a){return Uo(Hx,n,a||{})}function Px(n,a){return Uo(Ix,n,a||{})}class Vx{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:r,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!f)return{data:null,error:m};const p=c??Mx.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${r}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=Gx(f.webauthn.credential_options.publicKey,d?.create),{data:v,error:y}=await Ux({publicKey:g,signal:p});return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=Px(f.webauthn.credential_options.publicKey,d?.request),{data:v,error:y}=await qx(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(f){return pe(f)?{data:null,error:f}:{data:null,error:new Bs("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!n_())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:r,credential_response:p.credential_response}})}catch(f){return pe(f)?{data:null,error:f}:{data:null,error:new Bs("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!n_())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return pe(f)?{data:null,error:f}:{data:null,error:new Bs("Unexpected error in register",f)}}}}Cx();const Yx={url:Hw,storageKey:Iw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function s_(n,a,i){return await i()}const Oi={};class el{get jwks(){var a,i;return(i=(a=Oi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=Oi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{cachedAt:a})}constructor(a){var i,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Yx),a);if(this.storageKey=d.storageKey,this.instanceID=(i=el.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,el.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new jx({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Z_(d.fetch),this.lock=d.lock||s_,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&Ft()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ex:this.lock=s_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:W_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a_(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=a_(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${X_}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},r="none";if(Ft()&&(i=sx(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Xw(d)){const p=(a=d.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pe(i)?this._returnResult({error:i}):this._returnResult({error:new Bs("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,r,c;try{const d=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ka}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var i,r,c;try{let d;if("email"in a){const{email:v,password:y,options:x}=a;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await Ci(this.storage,this.storageKey)),d=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:y,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:E,code_challenge_method:C},xform:Ka})}else if("phone"in a){const{phone:v,password:y,options:x}=a;d=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ka})}else throw new ko("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await Yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:f,options:m}=a;i=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:e_})}else if("phone"in a){const{phone:d,password:f,options:m}=a;i=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:e_})}else throw new ko("You must provide either an email or phone number and a password");const{data:r,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new Ei;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,r,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,r,c,d,f,m,p,g,v,y,x;let E,C;if("message"in a)E=a.message,C=a.signature;else{const{chain:N,wallet:k,statement:O,options:D}=a;let M;if(Ft())if(typeof k=="object")M=k;else{const Ee=window;if("ethereum"in Ee&&typeof Ee.ethereum=="object"&&"request"in Ee.ethereum&&typeof Ee.ethereum.request=="function")M=Ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const j=new URL((i=D?.url)!==null&&i!==void 0?i:window.location.href),q=await M.request({method:"eth_requestAccounts"}).then(Ee=>Ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=tv(q[0]);let Z=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Z){const Ee=await M.request({method:"eth_chainId"});Z=Tx(Ee)}const _e={domain:j.host,address:ae,statement:O,uri:j.href,version:"1",chainId:Z,nonce:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=D?.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=Ox(_e),C=await M.request({method:"personal_sign",params:[kx(E),ae]})}try{const{data:N,error:k}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((y=a.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ka});if(k)throw k;if(!N||!N.session||!N.user){const O=new Ei;return this._returnResult({data:{user:null,session:null},error:O})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(pe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var i,r,c,d,f,m,p,g,v,y,x,E;let C,N;if("message"in a)C=a.message,N=a.signature;else{const{chain:k,wallet:O,statement:D,options:M}=a;let j;if(Ft())if(typeof O=="object")j=O;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))j=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=O}const q=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in j&&j.signIn){const ae=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),D?{statement:D}:null));let Z;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")Z=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)Z=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)C=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),N=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${q.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(c=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=M?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((y=(v=M?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...M.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const ae=await j.signMessage(new TextEncoder().encode(C),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ae}}try{const{data:k,error:O}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:$s(N)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ka});if(O)throw O;if(!k||!k.session||!k.user){const D=new Ei;return this._returnResult({data:{user:null,session:null},error:D})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:O})}catch(k){if(pe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(a){const i=await ks(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(i??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Qw;const{data:d,error:f}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:Ka});if(await Yt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:i,provider:r,token:c,access_token:d,nonce:f}=a,m=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ka}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new Ei;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,r,c,d,f;try{if("email"in a){const{email:m,options:p}=a;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Ci(this.storage,this.storageKey));const{error:y}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in a){const{phone:m,options:p}=a,{data:g,error:v}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new ko("You must provide either an email or phone number.")}catch(m){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var i,r;try{let c,d;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Ka});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(pe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var i,r,c,d,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Ci(this.storage,this.storageKey));const g=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:wx});return!((d=g.data)===null||d===void 0)&&d.url&&Ft()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)throw r;if(!i)throw new ja;const{error:c}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:d}=a,{error:f}=await we(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:r,type:c,options:d}=a,{data:f,error:m}=await we(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new ko("You must provide either an email or phone number and a type")}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Dd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const f=await ks(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=$d()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=_x(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:is}):await this._useSession(async i=>{var r,c,d;const{data:f,error:m}=i;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ja}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:is})})}catch(i){if(pe(i))return Fw(i)&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new ja;const f=c.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await Ci(this.storage,this.storageKey));const{data:g,error:v}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:is});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ja;const i=Date.now()/1e3;let r=i,c=!0,d=null;const{payload:f}=Bd(a.access_token);if(f.exp&&(r=f.exp,c=r<=i),c){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var r;if(!a){const{data:f,error:m}=i;if(m)throw m;a=(r=f.session)!==null&&r!==void 0?r:void 0}if(!a?.refresh_token)throw new ja;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!Ft())throw new Oo("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Oo(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Kg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Kg("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(a.code);if(M)throw M;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=a;if(!d||!m||!f||!g)throw new Oo("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(m);let x=v+y;p&&(x=parseInt(p));const E=x-v;E*1e3<=Di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${y}s`);const C=x-y;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,v);const{data:N,error:k}=await this._getUser(d);if(k)throw k;const O={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:y,expires_at:x,refresh_token:f,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:a.type},error:null})}catch(r){if(pe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await ks(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Kw(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=nx(),r={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async i=>{var r,c;try{const{data:{session:d},error:f}=i;if(f)throw f;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Ci(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:r,error:c}=await this._useSession(async d=>{var f,m,p,g,v;const{data:y,error:x}=d;if(x)throw x;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return Ft()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:a.provider,url:r?.url},error:null})}catch(r){if(pe(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var r;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:f,provider:m,token:p,access_token:g,nonce:v}=a,y=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ka}),{data:x,error:E}=y;return E?this._returnResult({data:{user:null,session:null},error:E}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ei}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:E}))}catch(c){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),pe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var r,c;const{data:d,error:f}=i;if(f)throw f;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await lx(async c=>(c>0&&await rx(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Ka})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Md(d)&&Date.now()+f-r<Di})}catch(r){if(this._debug(i,"error",r),pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",r),Ft()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await ks(this.storage,this.storageKey);if(c&&this.userStorage){let f=await ks(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Mi(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:$d()}else if(c&&!c.user&&!c.user){const f=await ks(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await Yt(this.storage,this.storageKey+"-user"),await Mi(this.storage,this.storageKey,c)):c.user=$d()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Dd;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Dd}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Md(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var i,r;if(!a)throw new ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Fo;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new ja;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),pe(d)){const f={data:null,error:d};return Md(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,i)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Yt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await Mi(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=Wg(c);await Mi(this.storage,this.storageKey,d)}else{const c=Wg(i);await Mi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Yt(this.storage,this.storageKey),await Yt(this.storage,this.storageKey+"-code-verifier"),await Yt(this.storage,this.storageKey+"-user"),this.userStorage&&await Yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Di);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/Di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Di}ms, refresh threshold is ${Xd} ticks`),c<=Xd&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ev)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,r){const c=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await Ci(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await we(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var r,c;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:g}=await we(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?zx(a.webauthn.credential_response):Lx(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await we(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await we(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Bx(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:$x(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Bd(r.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((i=(a=r.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:r},error:c}=i;return c?this._returnResult({data:null,error:c}):r?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new ja})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new ja});const f=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Ft()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,i){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new ja});const f=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Ft()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;return r?this._returnResult({data:null,error:r}):i?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new ja})})}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:r},error:c}=i;return c?this._returnResult({data:null,error:c}):r?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ja})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let r=i.keys.find(m=>m.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===a),r&&this.jwks_cached_at+Vw>c)return r;const{data:d,error:f}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(m=>m.kid===a),!r)?null:r}async getClaims(a,i={}){try{let r=a;if(!r){const{data:E,error:C}=await this.getSession();if(C||!E.session)return this._returnResult({data:null,error:C});r=E.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:p}}=Bd(r);i?.allowExpired||mx(d.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:d,header:c,signature:f},error:null}}const v=px(c.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,f,tx(`${m}.${p}`)))throw new Wd("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}}el.nextInstanceID={};const Kx=el,Fx="2.89.0";let Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";const Xx={"X-Client-Info":`supabase-js-${Pr}/${Fx}`},Qx={headers:Xx},Jx={schema:"public"},Wx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zx={};function tl(n){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},tl(n)}function eS(n,a){if(tl(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,a);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function tS(n){var a=eS(n,"string");return tl(a)=="symbol"?a:a+""}function aS(n,a,i){return(a=tS(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}function i_(n,a){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,r)}return i}function jt(n){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?i_(Object(i),!0).forEach(function(r){aS(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):i_(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}const nS=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),sS=()=>Headers,iS=(n,a,i)=>{const r=nS(i),c=sS();return async(d,f)=>{var m;const p=(m=await a())!==null&&m!==void 0?m:n;let g=new c(f?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(d,jt(jt({},f),{},{headers:g}))}};function rS(n){return n.endsWith("/")?n:n+"/"}function lS(n,a){var i,r;const{db:c,auth:d,realtime:f,global:m}=n,{db:p,auth:g,realtime:v,global:y}=a,x={db:jt(jt({},p),c),auth:jt(jt({},g),d),realtime:jt(jt({},v),f),storage:{},global:jt(jt(jt({},y),m),{},{headers:jt(jt({},(i=y?.headers)!==null&&i!==void 0?i:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function oS(n){const a=n?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rS(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var cS=class extends Kx{constructor(n){super(n)}},uS=class{constructor(n,a,i){var r,c;this.supabaseUrl=n,this.supabaseKey=a;const d=oS(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Jx,realtime:Zx,auth:jt(jt({},Wx),{},{storageKey:f}),global:Qx},p=lS(i??{},m);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=iS(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(jt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new G1(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new qw(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new L1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,i)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,i;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(a=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:r,userStorage:c,storageKey:d,flowType:f,lock:m,debug:p,throwOnError:g},v,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cS({url:this.authUrl.href,headers:jt(jt({},x),v),storageKey:d,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:r,userStorage:c,flowType:f,lock:m,debug:p,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new rw(this.realtimeUrl.href,jt(jt({},n),{},{params:jt(jt({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(n,a,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dS=(n,a,i)=>new uS(n,a,i);function hS(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const a=n.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}hS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fS="https://zenlhcujxziqzsbylnbf.supabase.co",mS="sb_publishable_HP8KGSQSqCZmecNcYpfDYQ_eJkqlT2Q",ve=dS(fS,mS),nv=()=>Math.random().toString(36).substr(2,9),$i={getAll:async()=>{const{data:n,error:a}=await ve.from("shift_types").select("*").order("code");return a?(console.error("Error fetching shifts:",a),{success:!1,message:a.message,data:[]}):{success:!0,message:"",data:n.map(r=>({id:r.id,code:r.code,name:r.name,type:r.type,startTime:r.start_time,endTime:r.end_time,hours:Number(r.hours),color:r.color}))}},add:async n=>{const a=nv(),i={id:a,code:n.code,name:n.name,type:n.type,start_time:n.startTime,end_time:n.endTime,hours:n.hours,color:n.color},{data:r,error:c}=await ve.from("shift_types").insert(i).select().single();return c?{success:!1,message:c.message,data:{...n,id:a}}:{success:!0,message:"",data:{id:r.id,code:r.code,name:r.name,type:r.type,startTime:r.start_time,endTime:r.end_time,hours:Number(r.hours),color:r.color}}},update:async(n,a)=>{const i={code:a.code,name:a.name,type:a.type,start_time:a.startTime,end_time:a.endTime,hours:a.hours,color:a.color},{data:r,error:c}=await ve.from("shift_types").update(i).eq("id",n).select().single();return c?{success:!1,message:c.message,data:{...a,id:n}}:{success:!0,message:"",data:{id:r.id,code:r.code,name:r.name,type:r.type,startTime:r.start_time,endTime:r.end_time,hours:Number(r.hours),color:r.color}}},delete:async n=>{const{error:a}=await ve.from("shift_types").delete().eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}}},sv={getAll:async()=>{const{data:n,error:a}=await ve.from("units").select("*").order("id");return a?{success:!1,message:a.message,data:[]}:{success:!0,message:"",data:n.map(r=>({id:r.id,code:r.code,name:r.name}))}}},qo={get:async n=>{const{data:a,error:i}=await ve.from("manager_units").select("unit_id").eq("manager_id",n);return i?{success:!1,message:i.message,data:[]}:{success:!0,message:"",data:a.map(c=>c.unit_id)}},update:async(n,a)=>{if(await ve.from("manager_units").delete().eq("manager_id",n),a.length>0){const i=a.map(c=>({manager_id:n,unit_id:c})),{error:r}=await ve.from("manager_units").insert(i);if(r)return{success:!1,message:r.message,data:void 0}}return{success:!0,message:"",data:void 0}}},Ho={get:async(n="U001")=>{const{data:a,error:i}=await ve.from("unit_rules").select("*").eq("unit_id",n).single();return i?(console.error("Error fetching rules:",i),{success:!1,message:i.message,data:{maxLeavePerMonth:0,maxLeavePerDay:0,conflictStrategy:"Score"}}):{success:!0,message:"",data:{maxLeavePerMonth:a.max_leave_per_month,maxLeavePerDay:a.max_leave_per_day,conflictStrategy:a.conflict_strategy,preleaveOpenMonth:a.preleave_open_month,preleaveDeadline:a.preleave_deadline,monthlyPreLeaveLimits:a.monthly_preleave_limits,periodStartDay:a.period_start_day||1}}},update:async(n,a="U001")=>{const i={unit_id:a,max_leave_per_month:n.maxLeavePerMonth,max_leave_per_day:n.maxLeavePerDay,conflict_strategy:n.conflictStrategy,preleave_open_month:n.preleaveOpenMonth,preleave_deadline:n.preleaveDeadline,monthly_preleave_limits:n.monthlyPreLeaveLimits,period_start_day:n.periodStartDay},{error:r}=await ve.from("unit_rules").upsert(i,{onConflict:"unit_id"}).select();return r?(console.error("ruleApi.update - error:",r),{success:!1,message:r.message,data:n}):{success:!0,message:"",data:n}}},Ct={getAll:async()=>{const{data:n,error:a}=await ve.from("leave_requests").select("*, staff:staff_id(name)").order("created_at",{ascending:!1});return a?{success:!1,message:a.message,data:[]}:{success:!0,message:"",data:n.map(r=>({id:r.id,staffId:r.staff_id,staffName:r.staff?.name||"",date:r.date,type:r.type,leaveType:r.leave_type,shiftCode:r.shift_code,reason:r.reason,status:r.status,createdAt:r.created_at}))}},getByStaff:async n=>{const{data:a,error:i}=await ve.from("leave_requests").select("*").eq("staff_id",n).order("date",{ascending:!1});return i?{success:!1,message:i.message,data:[]}:{success:!0,message:"",data:a.map(c=>({id:c.id,staffId:c.staff_id,staffName:c.staff_name||"Unknown",date:c.date,type:c.type,leaveType:c.leave_type,shiftCode:c.shift_code,reason:c.reason,status:c.status,createdAt:c.created_at}))}},getByMonth:async(n,a)=>{const i=`${n}-${String(a).padStart(2,"0")}-01`,r=`${n}-${String(a).padStart(2,"0")}-${new Date(n,a,0).getDate()}`,{data:c,error:d}=await ve.from("leave_requests").select("*").gte("date",i).lte("date",r).order("date",{ascending:!0});return d?{success:!1,message:d.message,data:[]}:{success:!0,message:"",data:c&&c.length>0?c.map(m=>({id:m.id,staffId:m.staff_id,staffName:m.staff_name||"Unknown",date:m.date,type:m.type,leaveType:m.leave_type,shiftCode:m.shift_code,reason:m.reason,status:m.status,createdAt:m.created_at})):[]}},getByRange:async(n,a)=>{const{data:i,error:r}=await ve.from("leave_requests").select("*").gte("date",n).lte("date",a).order("date",{ascending:!0});return r?{success:!1,message:r.message,data:[]}:{success:!0,message:"",data:i&&i.length>0?i.map(d=>({id:d.id,staffId:d.staff_id,staffName:d.staff_name||"Unknown",date:d.date,type:d.type,leaveType:d.leave_type,shiftCode:d.shift_code,reason:d.reason,status:d.status,createdAt:d.created_at})):[]}},add:async n=>{const a=nv(),{data:i,error:r}=await ve.from("leave_requests").insert({id:a,staff_id:n.staffId,date:n.date,type:n.type,leave_type:n.leaveType,shift_code:n.shiftCode,reason:n.reason,status:n.status}).select().single();return r?{success:!1,message:r.message,data:void 0}:{success:!0,message:"",data:{id:i.id,staffId:i.staff_id,staffName:i.staff_name,date:i.date,type:i.type,leaveType:i.leave_type,shiftCode:i.shift_code,reason:i.reason,status:i.status,createdAt:i.created_at}}},update:async(n,a)=>{const i={};a.status&&(i.status=a.status),a.leaveType&&(i.leave_type=a.leaveType),a.reason&&(i.reason=a.reason),a.date&&(i.date=a.date);const{error:r}=await ve.from("leave_requests").update(i).eq("id",n);return r?{success:!1,message:r.message,data:void 0}:{success:!0,message:"",data:void 0}},cancel:async n=>{const{error:a}=await ve.from("leave_requests").delete().eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}},approve:async n=>{const{data:a,error:i}=await ve.from("leave_requests").update({status:"approved"}).eq("id",n).select().single();return i?{success:!1,message:i.message,data:void 0}:{success:!0,message:"",data:a}},reject:async n=>{const{data:a,error:i}=await ve.from("leave_requests").update({status:"rejected"}).eq("id",n).select().single();return i?{success:!1,message:i.message,data:void 0}:{success:!0,message:"",data:a}}},rs={getByMonth:async(n,a)=>{const i=`${n}-${a.toString().padStart(2,"0")}-01`,r=a===12?1:a+1,d=`${a===12?n+1:n}-${r.toString().padStart(2,"0")}-01`,{data:f,error:m}=await ve.from("schedules").select("*").gte("date",i).lt("date",d);return m?(console.error("Error fetching schedule:",m),{success:!1,message:m.message,data:[]}):{success:!0,message:"",data:f.map(g=>({date:g.date,staffId:g.staff_id,shiftCode:g.shift_code}))}},getByRange:async(n,a)=>{const{data:i,error:r}=await ve.from("schedules").select("*").gte("date",n).lte("date",a);return r?(console.error("Error fetching schedule by range:",r),{success:!1,message:r.message,data:[]}):{success:!0,message:"",data:i.map(d=>({date:d.date,staffId:d.staff_id,shiftCode:d.shift_code}))}},getByStaff:async(n,a,i)=>{const r=`${a}-${i.toString().padStart(2,"0")}-01`,c=i===12?1:i+1,f=`${i===12?a+1:a}-${c.toString().padStart(2,"0")}-01`,{data:m,error:p}=await ve.from("schedules").select("*").eq("staff_id",n).gte("date",r).lt("date",f);return p?{success:!1,message:p.message,data:[]}:{success:!0,message:"",data:m.map(v=>({date:v.date,staffId:v.staff_id,shiftCode:v.shift_code}))}},save:async n=>{if(n.length===0)return{success:!0,message:"",data:void 0};const a=n.map(r=>({staff_id:r.staffId,date:r.date,shift_code:r.shiftCode})),{error:i}=await ve.from("schedules").upsert(a,{onConflict:"staff_id,date",ignoreDuplicates:!1});return i?(console.error("Bulk save error:",i),{success:!1,message:": "+i.message,data:void 0}):{success:!0,message:"",data:void 0}}},$t={getAll:async(n="U001")=>{const{data:a,error:i}=await ve.from("staff").select("*").eq("department_id",n).order("id");return i?{success:!1,message:i.message,data:[]}:{success:!0,message:"",data:a.map(c=>({id:c.id,name:c.name,level:c.level,departmentId:c.department_id,role:c.role}))}},getById:async n=>{const{data:a,error:i}=await ve.from("staff").select("*").eq("id",n).maybeSingle();return i?{success:!1,message:i.message,data:null}:a?{success:!0,message:"",data:{id:a.id,name:a.name,level:a.level,departmentId:a.department_id,role:a.role,passwordHash:a.password_hash,mustChangePassword:a.must_change_password}}:{success:!1,message:"",data:null}},getCurrent:async()=>{const{data:n,error:a}=await ve.from("staff").select("*").eq("department_id","U001").eq("role","nurse").order("id").limit(1).single();if(a){const i=await ve.from("staff").select("*").eq("department_id","U001").order("id").limit(1).single();return i.error?{success:!1,message:i.error.message,data:{}}:{success:!0,message:"",data:{id:i.data.id,name:i.data.name,level:i.data.level,departmentId:i.data.department_id,role:i.data.role}}}return{success:!0,message:"",data:{id:n.id,name:n.name,level:n.level,departmentId:n.department_id,role:n.role}}},getExternal:async(n="U001")=>{const{data:a,error:i}=await ve.from("staff").select("*").neq("department_id",n);return i?{success:!1,message:i.message,data:[]}:{success:!0,message:"",data:a.map(c=>({id:c.id,name:c.name,level:c.level,departmentId:c.department_id,role:c.role}))}},create:async n=>{const{data:a,error:i}=await ve.from("staff").insert({id:n.id,name:n.name,level:n.level,department_id:n.departmentId,role:n.role}).select().single();return i?{success:!1,message:i.message,data:n}:{success:!0,message:"",data:{id:a.id,name:a.name,level:a.level,departmentId:a.department_id,role:a.role}}},update:async(n,a)=>{const i={};a.name!==void 0&&(i.name=a.name),a.level!==void 0&&(i.level=a.level),a.departmentId!==void 0&&(i.department_id=a.departmentId),a.role!==void 0&&(i.role=a.role);const{data:r,error:c}=await ve.from("staff").update(i).eq("id",n).select().single();return c?{success:!1,message:c.message,data:{}}:{success:!0,message:"",data:{id:r.id,name:r.name,level:r.level,departmentId:r.department_id,role:r.role}}},delete:async n=>{const{error:a}=await ve.from("staff").delete().eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}},setPassword:async(n,a)=>{const r=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",r),f=Array.from(new Uint8Array(c)).map(p=>p.toString(16).padStart(2,"0")).join(""),{error:m}=await ve.from("staff").update({password_hash:f,must_change_password:!1}).eq("id",n);return m?{success:!1,message:m.message,data:void 0}:{success:!0,message:"",data:void 0}},resetPassword:async n=>{const{error:a}=await ve.from("staff").update({password_hash:null,must_change_password:!0}).eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}},verifyPassword:async(n,a)=>{const r=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",r),f=Array.from(new Uint8Array(c)).map(v=>v.toString(16).padStart(2,"0")).join(""),{data:m,error:p}=await ve.from("staff").select("password_hash").eq("id",n).single();return p?{success:!1,message:p.message,data:!1}:{success:!0,message:"",data:m.password_hash===f}}},rl={get:async n=>{const a={annualLeaveRemaining:8,annualLeaveTotal:8,compensatoryHours:0,debtHours:0},{data:i,error:r}=await ve.from("staff_balances").select("*").eq("staff_id",n).maybeSingle();return r||!i?{success:!0,message:"",data:a}:{success:!0,message:"",data:{annualLeaveRemaining:Number(i.annual_leave_remaining)||a.annualLeaveRemaining,annualLeaveTotal:Number(i.annual_leave_total)||a.annualLeaveTotal,compensatoryHours:Number(i.compensatory_hours)||0,debtHours:Number(i.debt_hours)||0}}}},zi={confirm:async(n,a)=>{const{error:i}=await ve.from("schedule_confirmations").upsert({staff_id:n,period_id:a,confirmed_at:new Date().toISOString()},{onConflict:"period_id,staff_id"});return i?{success:!1,message:i.message,data:void 0}:{success:!0,message:"",data:void 0}},isConfirmed:async(n,a)=>{const{data:i,error:r}=await ve.from("schedule_confirmations").select("confirmed_at").eq("staff_id",n).eq("period_id",a).maybeSingle();return r?{success:!1,message:r.message,data:!1}:{success:!0,message:"",data:!!i}},getByPeriod:async n=>{if(n.startsWith("new-"))return{success:!0,message:"",data:[]};const{data:a,error:i}=await ve.from("schedule_confirmations").select("staff_id").eq("period_id",n);return i?{success:!1,message:i.message,data:[]}:{success:!0,message:"",data:a.map(r=>r.staff_id)}},reset:async n=>{const{error:a}=await ve.from("schedule_confirmations").delete().eq("period_id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}}},Ao={getPeriodByDate:async(n,a)=>{const{data:i,error:r}=await ve.from("schedule_periods").select("*").eq("unit_id",n).lte("start_date",a).gte("end_date",a).maybeSingle();return r?{success:!1,message:r.message,data:null}:i?{success:!0,message:"",data:{id:i.id,unitId:i.unit_id,name:i.name,startDate:i.start_date,endDate:i.end_date,status:i.status,createdAt:i.created_at}}:{success:!0,message:"",data:null}},upsert:async n=>{const{data:a,error:i}=await ve.from("schedule_periods").upsert({unit_id:n.unitId,name:n.name,start_date:n.startDate,end_date:n.endDate,status:n.status||"planning"},{onConflict:"unit_id,start_date"}).select().single();return i?{success:!1,message:i.message,data:null}:{success:!0,message:"",data:{id:a.id,unitId:a.unit_id,name:a.name,startDate:a.start_date,endDate:a.end_date,status:a.status,createdAt:a.created_at}}},updateStatus:async(n,a)=>{const{error:i}=await ve.from("schedule_periods").update({status:a}).eq("id",n);return i?{success:!1,message:i.message,data:void 0}:{success:!0,message:"",data:void 0}}},tn={create:async n=>{const{data:a,error:i}=await ve.from("shift_swap_requests").insert({requester_id:n.requesterId,target_id:n.targetId,swap_date:n.swapDate,requester_shift:n.requesterShift,target_shift:n.targetShift,reason:n.reason}).select().single();return i?{success:!1,message:i.message,data:void 0}:{success:!0,message:"",data:a}},getByStaff:async n=>{const{data:a,error:i}=await ve.from("shift_swap_requests").select("*, requester:requester_id(name), target:target_id(name)").or(`requester_id.eq.${n},target_id.eq.${n}`).order("created_at",{ascending:!1});return i?{success:!1,message:i.message,data:[]}:{success:!0,message:"",data:a.map(c=>({id:c.id,requesterId:c.requester_id,requesterName:c.requester?.name,targetId:c.target_id,targetName:c.target?.name,swapDate:c.swap_date,requesterShift:c.requester_shift,targetShift:c.target_shift,reason:c.reason,status:c.status,createdAt:c.created_at}))}},getPendingForAdmin:async()=>{const{data:n,error:a}=await ve.from("shift_swap_requests").select("*, requester:requester_id(name), target:target_id(name)").eq("status","accepted").order("created_at",{ascending:!1});return a?{success:!1,message:a.message,data:[]}:{success:!0,message:"",data:n.map(r=>({id:r.id,requesterId:r.requester_id,requesterName:r.requester?.name,targetId:r.target_id,targetName:r.target?.name,swapDate:r.swap_date,requesterShift:r.requester_shift,targetShift:r.target_shift,reason:r.reason,status:r.status,createdAt:r.created_at}))}},targetAccept:async n=>{const{error:a}=await ve.from("shift_swap_requests").update({status:"accepted",target_responded_at:new Date().toISOString()}).eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}},targetReject:async n=>{const{error:a}=await ve.from("shift_swap_requests").update({status:"rejected_by_target",target_responded_at:new Date().toISOString()}).eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}},adminApprove:async n=>{const{data:a,error:i}=await ve.from("shift_swap_requests").select("*").eq("id",n).single();if(i||!a)return{success:!1,message:i?.message||"",data:void 0};const{requester_id:r,target_id:c,swap_date:d,requester_shift:f,target_shift:m}=a,{error:p}=await ve.from("schedules").update({shift_code:m}).eq("staff_id",r).eq("date",d);if(p)return console.error("Error updating requester schedule:",p),{success:!1,message:": "+p.message,data:void 0};const{error:g}=await ve.from("schedules").update({shift_code:f}).eq("staff_id",c).eq("date",d);if(g)return console.error("Error updating target schedule:",g),{success:!1,message:": "+g.message,data:void 0};const{error:v}=await ve.from("shift_swap_requests").update({status:"approved",admin_responded_at:new Date().toISOString()}).eq("id",n);return v?{success:!1,message:v.message,data:void 0}:(console.log(`[SwapAPI] Swap approved: ${r}(${f}) <-> ${c}(${m}) on ${d}`),{success:!0,message:"",data:void 0})},adminReject:async n=>{const{error:a}=await ve.from("shift_swap_requests").update({status:"rejected",admin_responded_at:new Date().toISOString()}).eq("id",n);return a?{success:!1,message:a.message,data:void 0}:{success:!0,message:"",data:void 0}}},pS={send:async n=>(console.log("[NotificationAPI] Sending:",n),{success:!0,message:"",data:void 0})},Ro={...rl,update:async(n,a)=>{const i={};a.annualLeaveRemaining!==void 0&&(i.annual_leave_remaining=a.annualLeaveRemaining),a.annualLeaveTotal!==void 0&&(i.annual_leave_total=a.annualLeaveTotal),a.compensatoryHours!==void 0&&(i.compensatory_hours=a.compensatoryHours),a.debtHours!==void 0&&(i.debt_hours=a.debtHours);const{error:r}=await ve.from("staff_balances").update(i).eq("staff_id",n);return r?{success:!1,message:r.message,data:void 0}:{success:!0,message:"",data:void 0}}},iv=S.createContext(void 0),gS=({children:n})=>{const[a,i]=S.useState(null),[r,c]=S.useState(null),[d,f]=S.useState([]),[m,p]=S.useState([]),[g,v]=S.useState(!0);S.useEffect(()=>{sv.getAll().then(D=>{D.success&&f(D.data)})},[]),S.useEffect(()=>{(async()=>{const M=await $t.getCurrent();if(M.success){i(M.data);const j=await qo.get(M.data.id);j.success&&p(j.data)}v(!1)})()},[]),S.useEffect(()=>{if(a&&d.length>0&&!r){const D=d.find(M=>M.id===a.departmentId);D?c(D):d.length>0&&c(d[0])}},[a,d,r]);const y=async D=>{i(D);const M=await qo.get(D.id);if(M.success&&p(M.data),M.success&&M.data.length>0){const j=d.find(q=>q.id===M.data[0]);j&&c(j)}else{const j=d.find(q=>q.id===D.departmentId);j&&c(j)}},x=D=>{const M=d.find(j=>j.id===D);M&&c(M)},E=async()=>{const D=await $t.getCurrent();D.success&&i(D.data)},C=D=>a?(R1[a.role]||[]).includes(D):!1,N=()=>{i(null),c(null),p([]),localStorage.removeItem("nursing_notification_read_ids"),localStorage.removeItem("nursing_notification_cleared_ids")},k=m.length>0?d.filter(D=>m.includes(D.id)):a?d.filter(D=>D.id===a.departmentId):[],O=k.length>1;return o.jsx(iv.Provider,{value:{currentUser:a,currentUnit:r,setCurrentUser:y,switchUnit:x,hasPermission:C,canManageMultipleUnits:O,availableUnits:k,isLoading:g,refreshUser:E,logout:N},children:n})},fa=()=>{const n=S.useContext(iv);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},rv=S.createContext(null),lv="nursing_notification_read_ids",ov="nursing_notification_cleared_ids",Ld=()=>{try{const n=localStorage.getItem(lv);return n?new Set(JSON.parse(n)):new Set}catch{return new Set}},r_=n=>{localStorage.setItem(lv,JSON.stringify([...n]))},l_=()=>{try{const n=localStorage.getItem(ov);return n?new Set(JSON.parse(n)):new Set}catch{return new Set}},_S=n=>{localStorage.setItem(ov,JSON.stringify([...n]))},Xo=()=>{const n=S.useContext(rv);if(!n)throw new Error("useNotifications must be used within NotificationProvider");return n},vS=({children:n})=>{const{currentUser:a}=fa(),[i,r]=S.useState([]),[c,d]=S.useState(0),f=S.useCallback(async()=>{if(!a)return;const x=Ld(),E=l_(),C=await tn.getByStaff(a.id);if(C.success){const N=C.data.filter(j=>j.targetId===a.id&&j.status==="pending");d(N.length);const k=N.filter(j=>!E.has(`swap-${j.id}`)).map(j=>({id:`swap-${j.id}`,type:"swap_pending",title:"",message:`${j.requesterName} `,time:new Date(j.createdAt).toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}),timestamp:j.createdAt,read:x.has(`swap-${j.id}`),link:"/nurse/swap"})),O=await Ct.getByStaff(a.id),D=[];O.success&&O.data.filter(q=>(q.status==="approved"||q.status==="rejected")&&new Date(q.createdAt).getTime()>Date.now()-864e5).filter(q=>!E.has(`leave-${q.id}`)).forEach(q=>{D.push({id:`leave-${q.id}`,type:q.status==="approved"?"leave_approved":"leave_rejected",title:q.status==="approved"?" ":" ",message:` ${q.date} ${q.leaveType} ${q.status==="approved"?"":""}`,time:new Date(q.createdAt).toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}),timestamp:q.createdAt,read:x.has(`leave-${q.id}`),link:"/nurse/preleave"})});const M=[];E.has("system-preleave")||M.push({id:"system-preleave",type:"system",title:"",message:"",time:new Date().toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}),timestamp:new Date().toISOString(),read:x.has("system-preleave"),link:"/nurse/preleave"}),r([...k,...D,...M])}},[a]);S.useEffect(()=>{f();const x=setInterval(f,3e4);return()=>clearInterval(x)},[f]);const m=i.filter(x=>!x.read).length,p=x=>{const E=Ld();E.add(x),r_(E),r(C=>C.map(N=>N.id===x?{...N,read:!0}:N))},g=()=>{const x=Ld();i.forEach(E=>x.add(E.id)),r_(x),r(E=>E.map(C=>({...C,read:!0})))},v=x=>{const E=new Date,C={...x,id:`notif-${Date.now()}`,time:E.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}),timestamp:E.toISOString(),read:!1};r(N=>[C,...N])},y=()=>{const x=l_();i.forEach(E=>x.add(E.id)),_S(x),r([])};return o.jsx(rv.Provider,{value:{notifications:i,unreadCount:m,pendingSwapCount:c,markAsRead:p,markAllAsRead:g,clearAll:y,refresh:f,addNotification:v},children:n})},cv=6048e5,yS=864e5,o_=Symbol.for("constructDateFrom");function ha(n,a){return typeof n=="function"?n(a):n&&typeof n=="object"&&o_ in n?n[o_](a):n instanceof Date?new n.constructor(a):new Date(a)}function qt(n,a){return ha(a||n,n)}function vh(n,a,i){const r=qt(n,i?.in);return isNaN(a)?ha(n,NaN):(a&&r.setDate(r.getDate()+a),r)}function Qo(n,a,i){const r=qt(n,i?.in);if(isNaN(a))return ha(n,NaN);if(!a)return r;const c=r.getDate(),d=ha(n,r.getTime());d.setMonth(r.getMonth()+a+1,0);const f=d.getDate();return c>=f?d:(r.setFullYear(d.getFullYear(),d.getMonth(),c),r)}function c_(n,a){const i=qt(n,a?.in).getDay();return i===0||i===6}let bS={};function ll(){return bS}function qi(n,a){const i=ll(),r=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=qt(n,a?.in),d=c.getDay(),f=(d<r?7:0)+d-r;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function Io(n,a){return qi(n,{...a,weekStartsOn:1})}function uv(n,a){const i=qt(n,a?.in),r=i.getFullYear(),c=ha(i,0);c.setFullYear(r+1,0,4),c.setHours(0,0,0,0);const d=Io(c),f=ha(i,0);f.setFullYear(r,0,4),f.setHours(0,0,0,0);const m=Io(f);return i.getTime()>=d.getTime()?r+1:i.getTime()>=m.getTime()?r:r-1}function u_(n){const a=qt(n),i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),+n-+i}function Jo(n,...a){const i=ha.bind(null,a.find(r=>typeof r=="object"));return a.map(i)}function Go(n,a){const i=qt(n,a?.in);return i.setHours(0,0,0,0),i}function wS(n,a,i){const[r,c]=Jo(i?.in,n,a),d=Go(r),f=Go(c),m=+d-u_(d),p=+f-u_(f);return Math.round((m-p)/yS)}function xS(n,a){const i=uv(n,a),r=ha(n,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),Io(r)}function SS(n){return ha(n,Date.now())}function dv(n,a,i){const[r,c]=Jo(i?.in,n,a);return+Go(r)==+Go(c)}function jS(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function NS(n){return!(!jS(n)&&typeof n!="number"||isNaN(+qt(n)))}function ES(n,a){const i=qt(n,a?.in),r=i.getMonth();return i.setFullYear(i.getFullYear(),r+1,0),i.setHours(23,59,59,999),i}function CS(n,a){const[i,r]=Jo(n,a.start,a.end);return{start:i,end:r}}function hv(n,a){const{start:i,end:r}=CS(a?.in,n);let c=+i>+r;const d=c?+i:+r,f=c?r:i;f.setHours(0,0,0,0);let m=1;const p=[];for(;+f<=d;)p.push(ha(i,f)),f.setDate(f.getDate()+m),f.setHours(0,0,0,0);return c?p.reverse():p}function yh(n,a){const i=qt(n,a?.in);return i.setDate(1),i.setHours(0,0,0,0),i}function TS(n,a){const i=qt(n,a?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}function kS(n,a){const i=ll(),r=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=qt(n,a?.in),d=c.getDay(),f=(d<r?-7:0)+6-(d-r);return c.setDate(c.getDate()+f),c.setHours(23,59,59,999),c}const OS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AS=(n,a,i)=>{let r;const c=OS[n];return typeof c=="string"?r=c:a===1?r=c.one:r=c.other.replace("{{count}}",a.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};function Ui(n){return(a={})=>{const i=a.width?String(a.width):n.defaultWidth;return n.formats[i]||n.formats[n.defaultWidth]}}const RS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BS={date:Ui({formats:RS,defaultWidth:"full"}),time:Ui({formats:DS,defaultWidth:"full"}),dateTime:Ui({formats:MS,defaultWidth:"full"})},$S={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zS=(n,a,i,r)=>$S[n];function an(n){return(a,i)=>{const r=i?.context?String(i.context):"standalone";let c;if(r==="formatting"&&n.formattingValues){const f=n.defaultFormattingWidth||n.defaultWidth,m=i?.width?String(i.width):f;c=n.formattingValues[m]||n.formattingValues[f]}else{const f=n.defaultWidth,m=i?.width?String(i.width):n.defaultWidth;c=n.values[m]||n.values[f]}const d=n.argumentCallback?n.argumentCallback(a):a;return c[d]}}const LS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},US={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PS=(n,a)=>{const i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},VS={ordinalNumber:PS,era:an({values:LS,defaultWidth:"wide"}),quarter:an({values:US,defaultWidth:"wide",argumentCallback:n=>n-1}),month:an({values:qS,defaultWidth:"wide"}),day:an({values:HS,defaultWidth:"wide"}),dayPeriod:an({values:IS,defaultWidth:"wide",formattingValues:GS,defaultFormattingWidth:"wide"})};function nn(n){return(a,i={})=>{const r=i.width,c=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],d=a.match(c);if(!d)return null;const f=d[0],m=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(m)?KS(m,y=>y.test(f)):YS(m,y=>y.test(f));let g;g=n.valueCallback?n.valueCallback(p):p,g=i.valueCallback?i.valueCallback(g):g;const v=a.slice(f.length);return{value:g,rest:v}}}function YS(n,a){for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&a(n[i]))return i}function KS(n,a){for(let i=0;i<n.length;i++)if(a(n[i]))return i}function fv(n){return(a,i={})=>{const r=a.match(n.matchPattern);if(!r)return null;const c=r[0],d=a.match(n.parsePattern);if(!d)return null;let f=n.valueCallback?n.valueCallback(d[0]):d[0];f=i.valueCallback?i.valueCallback(f):f;const m=a.slice(c.length);return{value:f,rest:m}}}const FS=/^(\d+)(th|st|nd|rd)?/i,XS=/\d+/i,QS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JS={any:[/^b/i,/^(a|c)/i]},WS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZS={any:[/1/i,/2/i,/3/i,/4/i]},ej={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ij={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rj={ordinalNumber:fv({matchPattern:FS,parsePattern:XS,valueCallback:n=>parseInt(n,10)}),era:nn({matchPatterns:QS,defaultMatchWidth:"wide",parsePatterns:JS,defaultParseWidth:"any"}),quarter:nn({matchPatterns:WS,defaultMatchWidth:"wide",parsePatterns:ZS,defaultParseWidth:"any",valueCallback:n=>n+1}),month:nn({matchPatterns:ej,defaultMatchWidth:"wide",parsePatterns:tj,defaultParseWidth:"any"}),day:nn({matchPatterns:aj,defaultMatchWidth:"wide",parsePatterns:nj,defaultParseWidth:"any"}),dayPeriod:nn({matchPatterns:sj,defaultMatchWidth:"any",parsePatterns:ij,defaultParseWidth:"any"})},lj={code:"en-US",formatDistance:AS,formatLong:BS,formatRelative:zS,localize:VS,match:rj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oj(n,a){const i=qt(n,a?.in);return wS(i,TS(i))+1}function cj(n,a){const i=qt(n,a?.in),r=+Io(i)-+xS(i);return Math.round(r/cv)+1}function mv(n,a){const i=qt(n,a?.in),r=i.getFullYear(),c=ll(),d=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,f=ha(a?.in||n,0);f.setFullYear(r+1,0,d),f.setHours(0,0,0,0);const m=qi(f,a),p=ha(a?.in||n,0);p.setFullYear(r,0,d),p.setHours(0,0,0,0);const g=qi(p,a);return+i>=+m?r+1:+i>=+g?r:r-1}function uj(n,a){const i=ll(),r=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=mv(n,a),d=ha(a?.in||n,0);return d.setFullYear(c,0,r),d.setHours(0,0,0,0),qi(d,a)}function dj(n,a){const i=qt(n,a?.in),r=+qi(i,a)-+uj(i,a);return Math.round(r/cv)+1}function Je(n,a){const i=n<0?"-":"",r=Math.abs(n).toString().padStart(a,"0");return i+r}const ns={y(n,a){const i=n.getFullYear(),r=i>0?i:1-i;return Je(a==="yy"?r%100:r,a.length)},M(n,a){const i=n.getMonth();return a==="M"?String(i+1):Je(i+1,2)},d(n,a){return Je(n.getDate(),a.length)},a(n,a){const i=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(n,a){return Je(n.getHours()%12||12,a.length)},H(n,a){return Je(n.getHours(),a.length)},m(n,a){return Je(n.getMinutes(),a.length)},s(n,a){return Je(n.getSeconds(),a.length)},S(n,a){const i=a.length,r=n.getMilliseconds(),c=Math.trunc(r*Math.pow(10,i-3));return Je(c,a.length)}},Ai={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d_={G:function(n,a,i){const r=n.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(n,a,i){if(a==="yo"){const r=n.getFullYear(),c=r>0?r:1-r;return i.ordinalNumber(c,{unit:"year"})}return ns.y(n,a)},Y:function(n,a,i,r){const c=mv(n,r),d=c>0?c:1-c;if(a==="YY"){const f=d%100;return Je(f,2)}return a==="Yo"?i.ordinalNumber(d,{unit:"year"}):Je(d,a.length)},R:function(n,a){const i=uv(n);return Je(i,a.length)},u:function(n,a){const i=n.getFullYear();return Je(i,a.length)},Q:function(n,a,i){const r=Math.ceil((n.getMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,a,i){const r=Math.ceil((n.getMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return Je(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,a,i){const r=n.getMonth();switch(a){case"M":case"MM":return ns.M(n,a);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,a,i){const r=n.getMonth();switch(a){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,a,i,r){const c=dj(n,r);return a==="wo"?i.ordinalNumber(c,{unit:"week"}):Je(c,a.length)},I:function(n,a,i){const r=cj(n);return a==="Io"?i.ordinalNumber(r,{unit:"week"}):Je(r,a.length)},d:function(n,a,i){return a==="do"?i.ordinalNumber(n.getDate(),{unit:"date"}):ns.d(n,a)},D:function(n,a,i){const r=oj(n);return a==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,a.length)},E:function(n,a,i){const r=n.getDay();switch(a){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,a,i,r){const c=n.getDay(),d=(c-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(d);case"ee":return Je(d,2);case"eo":return i.ordinalNumber(d,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(n,a,i,r){const c=n.getDay(),d=(c-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(d);case"cc":return Je(d,a.length);case"co":return i.ordinalNumber(d,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(n,a,i){const r=n.getDay(),c=r===0?7:r;switch(a){case"i":return String(c);case"ii":return Je(c,a.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,a,i){const c=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(n,a,i){const r=n.getHours();let c;switch(r===12?c=Ai.noon:r===0?c=Ai.midnight:c=r/12>=1?"pm":"am",a){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(n,a,i){const r=n.getHours();let c;switch(r>=17?c=Ai.evening:r>=12?c=Ai.afternoon:r>=4?c=Ai.morning:c=Ai.night,a){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(n,a,i){if(a==="ho"){let r=n.getHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return ns.h(n,a)},H:function(n,a,i){return a==="Ho"?i.ordinalNumber(n.getHours(),{unit:"hour"}):ns.H(n,a)},K:function(n,a,i){const r=n.getHours()%12;return a==="Ko"?i.ordinalNumber(r,{unit:"hour"}):Je(r,a.length)},k:function(n,a,i){let r=n.getHours();return r===0&&(r=24),a==="ko"?i.ordinalNumber(r,{unit:"hour"}):Je(r,a.length)},m:function(n,a,i){return a==="mo"?i.ordinalNumber(n.getMinutes(),{unit:"minute"}):ns.m(n,a)},s:function(n,a,i){return a==="so"?i.ordinalNumber(n.getSeconds(),{unit:"second"}):ns.s(n,a)},S:function(n,a){return ns.S(n,a)},X:function(n,a,i){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(a){case"X":return f_(r);case"XXXX":case"XX":return Ds(r);default:return Ds(r,":")}},x:function(n,a,i){const r=n.getTimezoneOffset();switch(a){case"x":return f_(r);case"xxxx":case"xx":return Ds(r);default:return Ds(r,":")}},O:function(n,a,i){const r=n.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+h_(r,":");default:return"GMT"+Ds(r,":")}},z:function(n,a,i){const r=n.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+h_(r,":");default:return"GMT"+Ds(r,":")}},t:function(n,a,i){const r=Math.trunc(+n/1e3);return Je(r,a.length)},T:function(n,a,i){return Je(+n,a.length)}};function h_(n,a=""){const i=n>0?"-":"+",r=Math.abs(n),c=Math.trunc(r/60),d=r%60;return d===0?i+String(c):i+String(c)+a+Je(d,2)}function f_(n,a){return n%60===0?(n>0?"-":"+")+Je(Math.abs(n)/60,2):Ds(n,a)}function Ds(n,a=""){const i=n>0?"-":"+",r=Math.abs(n),c=Je(Math.trunc(r/60),2),d=Je(r%60,2);return i+c+a+d}const m_=(n,a)=>{switch(n){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});default:return a.date({width:"full"})}},pv=(n,a)=>{switch(n){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});default:return a.time({width:"full"})}},hj=(n,a)=>{const i=n.match(/(P+)(p+)?/)||[],r=i[1],c=i[2];if(!c)return m_(n,a);let d;switch(r){case"P":d=a.dateTime({width:"short"});break;case"PP":d=a.dateTime({width:"medium"});break;case"PPP":d=a.dateTime({width:"long"});break;default:d=a.dateTime({width:"full"});break}return d.replace("{{date}}",m_(r,a)).replace("{{time}}",pv(c,a))},fj={p:pv,P:hj},mj=/^D+$/,pj=/^Y+$/,gj=["D","DD","YY","YYYY"];function _j(n){return mj.test(n)}function vj(n){return pj.test(n)}function yj(n,a,i){const r=bj(n,a,i);if(console.warn(r),gj.includes(n))throw new RangeError(r)}function bj(n,a,i){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${a}\`) for formatting ${r} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sj=/^'([^]*?)'?$/,jj=/''/g,Nj=/[a-zA-Z]/;function je(n,a,i){const r=ll(),c=i?.locale??r.locale??lj,d=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,f=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,m=qt(n,i?.in);if(!NS(m))throw new RangeError("Invalid time value");let p=a.match(xj).map(v=>{const y=v[0];if(y==="p"||y==="P"){const x=fj[y];return x(v,c.formatLong)}return v}).join("").match(wj).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:Ej(v)};if(d_[y])return{isToken:!0,value:v};if(y.match(Nj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});c.localize.preprocessor&&(p=c.localize.preprocessor(m,p));const g={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return p.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!i?.useAdditionalWeekYearTokens&&vj(y)||!i?.useAdditionalDayOfYearTokens&&_j(y))&&yj(y,a,String(n));const x=d_[y[0]];return x(m,y,c.localize,g)}).join("")}function Ej(n){const a=n.match(Sj);return a?a[1].replace(jj,"'"):n}function Ud(n,a){return qt(n,a?.in).getDay()}function Cj(n,a,i){const[r,c]=Jo(i?.in,n,a);return r.getFullYear()===c.getFullYear()&&r.getMonth()===c.getMonth()}function gv(n,a){return dv(ha(n,n),SS(n))}function Tj(n,a,i){return vh(n,-1,i)}function _v(n,a,i){return Qo(n,-1,i)}const vv=S.createContext(null),Wo=()=>{const n=S.useContext(vv);if(!n)throw new Error("useScheduleStore must be used within ScheduleProvider");return n},kj=({children:n})=>{const{currentUnit:a}=fa(),i=a?.id||"U001",[r,c]=S.useState([]),[d,f]=S.useState([]),[m,p]=S.useState([]),[g,v]=S.useState("planning"),[y,x]=S.useState([]),[E,C]=S.useState(!0),[N,k]=S.useState(1),[O,D]=S.useState(null),[M,j]=S.useState(new Date),q=(F,w)=>{const R=F.getFullYear(),U=F.getMonth(),K=F.getDate();let ne,W,de;if(K>=w){ne=new Date(R,U,w);const He=U+1;W=new Date(R,He,w-1),de=je(ne,"yyyy-MM")}else{const He=U-1;ne=new Date(R,He,w),W=new Date(R,U,w-1),de=je(ne,"yyyy-MM")}return{start:ne,end:W,name:de}},ae=async(F,w)=>{const R=w??N,{start:U,end:K,name:ne}=q(F,R),W=je(F,"yyyy-MM-dd"),de=await Ao.getPeriodByDate(i,W);return de.success&&de.data?de.data:{id:"new-"+Date.now(),unitId:i,name:ne,startDate:je(U,"yyyy-MM-dd"),endDate:je(K,"yyyy-MM-dd"),status:"planning"}},Z=S.useCallback(async(F=M)=>{C(!0);try{const w=await Ho.get(i),R=w.success&&w.data.periodStartDay||1;k(R);const U=await ae(F,R);D(U),v(U.status);const[K,ne,W,de]=await Promise.all([rs.getByMonth(F.getFullYear(),F.getMonth()+1),Ct.getByMonth(F.getFullYear(),F.getMonth()+1),$t.getAll(i),zi.getByPeriod(U.id)]);K.success&&c(K.data),ne.success&&f(ne.data),W.success&&p(W.data),de.success&&x(de.data)}catch(w){console.error("Failed to load schedule data:",w)}finally{C(!1)}},[M,i]);S.useEffect(()=>{Z()},[Z]);const _e=async F=>{j(F),await Z(F)},Ee=S.useCallback(F=>{c(w=>{const R=[...w];return F.forEach(U=>{const K=R.findIndex(ne=>ne.staffId===U.staffId&&ne.date===U.date);K>=0?R[K]=U:R.push(U)}),R}),g==="draft"&&O&&Ao.updateStatus(O.id,"planning").then(()=>{zi.reset(O.id),v("planning"),x([])})},[g,O]),Ie=S.useCallback(async F=>{const w=await Ct.add(F);w.success&&f(R=>[...R,w.data])},[]),X=S.useCallback(async F=>{(await Ct.approve(F)).success&&f(R=>R.map(U=>U.id===F?{...U,status:"approved"}:U))},[]),Te=S.useCallback(async F=>{(await Ct.reject(F)).success&&f(R=>R.map(U=>U.id===F?{...U,status:"rejected"}:U))},[]),ot=S.useCallback(()=>d.filter(F=>F.status==="pending").length,[d]),ft=S.useCallback(()=>{const F=new Date().toISOString().split("T")[0],w=r.filter(R=>R.date===F&&R.shiftCode!=="OFF");return{total:w.length,D:w.filter(R=>R.shiftCode==="D").length,E:w.filter(R=>R.shiftCode==="E").length,N:w.filter(R=>R.shiftCode==="N").length}},[r]),mt=S.useCallback(()=>d.filter(F=>F.status==="approved").length,[d]),I=S.useCallback(async()=>{O&&(await Ao.updateStatus(O.id,"draft"),await zi.reset(O.id),v("draft"),x([]))},[O]),ee=S.useCallback(async()=>{O&&(await Ao.updateStatus(O.id,"official"),v("official"))},[O]),ce=S.useCallback(async F=>{O&&(await zi.confirm(F,O.id),x(w=>w.includes(F)?w:[...w,F]))},[O]),J=S.useCallback(async()=>{await Z(M)},[Z,M]);return o.jsx(vv.Provider,{value:{schedule:r,leaveRequests:d,staff:m,scheduleStatus:g,confirmedStaffIds:y,isLoading:E,currentPeriod:O,updateSchedule:Ee,submitLeaveRequest:Ie,approveLeaveRequest:X,rejectLeaveRequest:Te,getPendingCount:ot,getTodayOnDuty:ft,getAbsenceCount:mt,publishDraft:I,publishOfficial:ee,confirmSchedule:ce,refreshData:J,switchPeriod:_e},children:n})};const Oj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=n=>{const a=Aj(n);return a.charAt(0).toUpperCase()+a.slice(1)},yv=(...n)=>n.filter((a,i,r)=>!!a&&a.trim()!==""&&r.indexOf(a)===i).join(" ").trim(),Rj=n=>{for(const a in n)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mj=S.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:f,...m},p)=>S.createElement("svg",{ref:p,...Dj,width:a,height:a,stroke:n,strokeWidth:r?Number(i)*24/Number(a):i,className:yv("lucide",c),...!d&&!Rj(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,v])=>S.createElement(g,v)),...Array.isArray(d)?d:[d]]));const me=(n,a)=>{const i=S.forwardRef(({className:r,...c},d)=>S.createElement(Mj,{ref:d,iconNode:a,className:yv(`lucide-${Oj(p_(n))}`,`lucide-${n}`,r),...c}));return i.displayName=p_(n),i};const Bj=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],ol=me("arrow-right-left",Bj);const $j=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ls=me("bell",$j);const zj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Lj=me("briefcase",zj);const Uj=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],g_=me("building-2",Uj);const qj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Hj=me("calendar-days",qj);const Ij=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zd=me("calendar-off",Ij);const Gj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qa=me("calendar",Gj);const Pj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vj=me("chart-column",Pj);const Yj=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Kj=me("chart-no-axes-column",Yj);const Fj=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Xj=me("check-check",Fj);const Qj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eh=me("check",Qj);const Jj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bh=me("chevron-down",Jj);const Wj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wh=me("chevron-left",Wj);const Zj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zo=me("chevron-right",Zj);const eN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tN=me("chevron-up",eN);const aN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],al=me("circle-alert",aN);const nN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nn=me("circle-check-big",nN);const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zs=me("circle-check",sN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ls=me("circle-x",iN);const rN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tn=me("clock",rN);const lN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bv=me("download",lN);const oN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],cN=me("ellipsis",oN);const uN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wv=me("eye-off",uN);const dN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xv=me("eye",dN);const hN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],fN=me("file-check",hN);const mN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sn=me("file-text",mN);const pN=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gN=me("grip-vertical",pN);const _N=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vN=me("history",_N);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],th=me("info",yN);const bN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],wN=me("key",bN);const xN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],SN=me("list",xN);const jN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xh=me("lock",jN);const NN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ah=me("log-out",NN);const EN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CN=me("menu",EN);const TN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kN=me("moon",TN);const ON=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],AN=me("pen",ON);const RN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],DN=me("pencil",RN);const MN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sh=me("plus",MN);const BN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ec=me("refresh-cw",BN);const $N=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sv=me("rotate-ccw",$N);const zN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tc=me("save",zN);const LN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UN=me("search",LN);const qN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],HN=me("send",qN);const IN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jv=me("settings",IN);const GN=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],nh=me("shuffle",GN);const PN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VN=me("sparkles",PN);const YN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KN=me("square-check-big",YN);const FN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],XN=me("square",FN);const QN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jh=me("star",QN);const JN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],WN=me("sun",JN);const ZN=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],e2=me("sunrise",ZN);const t2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ac=me("trash-2",t2);const a2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nh=me("triangle-alert",a2);const n2=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],s2=me("user-cog",n2);const i2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Nv=me("user-plus",i2);const r2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ev=me("user",r2);const l2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Eh=me("users",l2);const o2=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],c2=me("wallet",o2);const u2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cs=me("x",u2),d2="_unitDisplay_fhpzw_1",h2="_dropdown_fhpzw_12",f2="_trigger_fhpzw_16",m2="_menu_fhpzw_34",p2="_menuItem_fhpzw_57",g2="_active_fhpzw_74",_2="_unitCode_fhpzw_79",Os={unitDisplay:d2,dropdown:h2,trigger:f2,menu:m2,menuItem:p2,active:g2,unitCode:_2},v2=()=>{const{currentUnit:n,availableUnits:a,switchUnit:i,canManageMultipleUnits:r}=fa();return!r||a.length<=1?o.jsxs("div",{className:Os.unitDisplay,children:[o.jsx(g_,{size:14}),o.jsx("span",{children:n?.name||""})]}):o.jsxs("div",{className:Os.dropdown,children:[o.jsxs("div",{className:Os.trigger,children:[o.jsx(g_,{size:14}),o.jsx("span",{children:n?.name}),o.jsx(bh,{size:14})]}),o.jsx("div",{className:Os.menu,children:a.map(c=>o.jsxs("div",{className:`${Os.menuItem} ${c.id===n?.id?Os.active:""}`,onClick:()=>i(c.id),children:[o.jsx("span",{className:Os.unitCode,children:c.code}),o.jsx("span",{children:c.name})]},c.id))})]})},y2="_bottomNav_1v9nf_1",b2="_navItem_1v9nf_22",w2="_active_1v9nf_40",x2="_moreOverlay_1v9nf_45",S2="_moreMenu_1v9nf_57",j2="_moreHeader_1v9nf_75",N2="_moreItem_1v9nf_96",E2="_badge_1v9nf_111",C2="_logoutItem_1v9nf_121",Jt={bottomNav:y2,navItem:b2,active:w2,moreOverlay:x2,moreMenu:S2,moreHeader:j2,moreItem:N2,badge:E2,logoutItem:C2},T2=()=>{const n=os(),{logout:a}=fa(),{unreadCount:i}=Xo(),[r,c]=S.useState(!1),d=()=>{a(),n("/login")};return o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{className:Jt.moreOverlay,onClick:()=>c(!1),children:o.jsxs("div",{className:Jt.moreMenu,onClick:f=>f.stopPropagation(),children:[o.jsxs("div",{className:Jt.moreHeader,children:[o.jsx("span",{children:""}),o.jsx("button",{onClick:()=>c(!1),children:o.jsx(cs,{size:20})})]}),o.jsxs(lt,{to:"/notifications",className:Jt.moreItem,onClick:()=>c(!1),children:[o.jsx(Ls,{size:20}),o.jsx("span",{children:""}),i>0&&o.jsx("span",{className:Jt.badge,children:i})]}),o.jsxs(lt,{to:"/settings/profile",className:Jt.moreItem,onClick:()=>c(!1),children:[o.jsx(jv,{size:20}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:Jt.logoutItem,onClick:d,children:[o.jsx(ah,{size:20}),o.jsx("span",{children:""})]})]})}),o.jsxs("nav",{className:Jt.bottomNav,children:[o.jsxs(lt,{to:"/nurse/schedule",className:({isActive:f})=>`${Jt.navItem} ${f?Jt.active:""}`,children:[o.jsx(qa,{size:22}),o.jsx("span",{children:""})]}),o.jsxs(lt,{to:"/nurse/leave-all",className:({isActive:f})=>`${Jt.navItem} ${f?Jt.active:""}`,children:[o.jsx(sn,{size:22}),o.jsx("span",{children:""})]}),o.jsxs(lt,{to:"/nurse/swap",className:({isActive:f})=>`${Jt.navItem} ${f?Jt.active:""}`,children:[o.jsx(ol,{size:22}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`${Jt.navItem} ${r?Jt.active:""}`,onClick:()=>c(!0),children:[o.jsx(cN,{size:22}),o.jsx("span",{children:""})]})]})]})},k2="_appContainer_1b1qa_1",O2="_topbar_1b1qa_7",A2="_topbarLeft_1b1qa_20",R2="_logo_1b1qa_26",D2="_logoIcon_1b1qa_32",M2="_logoText_1b1qa_43",B2="_topbarNav_1b1qa_49",$2="_navLink_1b1qa_54",z2="_active_1b1qa_67",L2="_topbarRight_1b1qa_72",U2="_notificationBtn_1b1qa_78",q2="_userInfo_1b1qa_101",H2="_userName_1b1qa_107",I2="_userRole_1b1qa_112",G2="_avatar_1b1qa_117",P2="_mainContent_1b1qa_131",V2="_dropdown_1b1qa_145",Y2="_dropdownMenu_1b1qa_156",K2="_dropdownItem_1b1qa_179",F2="_dropdownDivider_1b1qa_198",X2="_notificationWrapper_1b1qa_205",Q2="_notificationBadge_1b1qa_209",J2="_notificationDropdown_1b1qa_226",W2="_notificationHeader_1b1qa_239",Z2="_notificationList_1b1qa_261",eE="_noNotifications_1b1qa_266",tE="_notificationItem_1b1qa_273",aE="_unread_1b1qa_290",nE="_notificationIcon_1b1qa_294",sE="_notificationContent_1b1qa_306",iE="_notificationTitle_1b1qa_311",rE="_notificationMessage_1b1qa_318",lE="_notificationTime_1b1qa_326",oE="_userDropdown_1b1qa_333",cE="_userDropdownMenu_1b1qa_338",uE="_userDropdownItem_1b1qa_367",dE="_userDropdownLogout_1b1qa_382",hE="_mobileMenuBtn_1b1qa_401",fE="_mobileMenuOverlay_1b1qa_426",mE="_mobileMenuHeader_1b1qa_438",pE="_mobileNav_1b1qa_456",gE="_mobileNavLink_1b1qa_463",_E="_mobileNavDivider_1b1qa_483",vE="_mobileNavSection_1b1qa_489",yE="_mobileLogoutBtn_1b1qa_498",re={appContainer:k2,topbar:O2,topbarLeft:A2,logo:R2,logoIcon:D2,logoText:M2,topbarNav:B2,navLink:$2,active:z2,topbarRight:L2,notificationBtn:U2,userInfo:q2,userName:H2,userRole:I2,avatar:G2,mainContent:P2,dropdown:V2,dropdownMenu:Y2,dropdownItem:K2,dropdownDivider:F2,notificationWrapper:X2,notificationBadge:Q2,notificationDropdown:J2,notificationHeader:W2,notificationList:Z2,noNotifications:eE,notificationItem:tE,unread:aE,notificationIcon:nE,notificationContent:sE,notificationTitle:iE,notificationMessage:rE,notificationTime:lE,userDropdown:oE,userDropdownMenu:cE,userDropdownItem:uE,userDropdownLogout:dE,mobileMenuBtn:hE,mobileMenuOverlay:fE,mobileMenuHeader:mE,mobileNav:pE,mobileNavLink:gE,mobileNavDivider:_E,mobileNavSection:vE,mobileLogoutBtn:yE},bE=()=>{const n=kn(),a=os(),{currentUser:i,hasPermission:r,logout:c}=fa(),{notifications:d,unreadCount:f,markAllAsRead:m}=Xo(),[p,g]=S.useState(!1),[v,y]=S.useState(!1),x=r("view_settings"),E=C=>{switch(C){case"swap_pending":return o.jsx(ol,{size:14});case"leave_approved":return o.jsx(Nn,{size:14});case"leave_rejected":return o.jsx(ls,{size:14});case"warning":return o.jsx(Nh,{size:14});default:return o.jsx(th,{size:14})}};return o.jsxs("div",{className:re.appContainer,children:[v&&o.jsxs("div",{className:re.mobileMenuOverlay,children:[o.jsxs("div",{className:re.mobileMenuHeader,children:[o.jsx("span",{children:""}),o.jsx("button",{onClick:()=>y(!1),children:o.jsx(cs,{size:24})})]}),o.jsxs("nav",{className:re.mobileNav,children:[x&&o.jsx(lt,{to:"/dashboard",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx(lt,{to:"/nurse/schedule",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx(lt,{to:"/nurse/leave-all",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx(lt,{to:"/nurse/swap",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),x&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:re.mobileNavDivider}),o.jsx("div",{className:re.mobileNavSection,children:""}),o.jsx(lt,{to:"/schedule/workbench",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx(lt,{to:"/schedule/leave-approval",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx("div",{className:re.mobileNavDivider}),o.jsx("div",{className:re.mobileNavSection,children:""}),o.jsx(lt,{to:"/settings/staff",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx(lt,{to:"/settings/rules",className:re.mobileNavLink,onClick:()=>y(!1),children:" "}),o.jsx(lt,{to:"/settings/shifts",className:re.mobileNavLink,onClick:()=>y(!1),children:" "})]}),o.jsx("div",{className:re.mobileNavDivider}),o.jsxs("button",{className:re.mobileLogoutBtn,onClick:()=>{c(),y(!1),a("/login")},children:[o.jsx(ah,{size:18}),""]})]})]}),o.jsxs("header",{className:re.topbar,children:[o.jsxs("div",{className:re.topbarLeft,children:[o.jsx("button",{className:re.mobileMenuBtn,onClick:()=>y(!0),children:o.jsx(CN,{size:24})}),o.jsxs("div",{className:re.logo,children:[o.jsx("div",{className:re.logoIcon,children:o.jsx(Sh,{size:16})}),o.jsx("span",{className:re.logoText,children:""})]}),o.jsxs("nav",{className:re.topbarNav,children:[x&&o.jsx(lt,{to:"/dashboard",className:({isActive:C})=>`${re.navLink} ${C?re.active:""}`,children:""}),o.jsx(lt,{to:"/nurse/schedule",className:({isActive:C})=>`${re.navLink} ${C?re.active:""}`,children:""}),o.jsx(lt,{to:"/nurse/leave-all",className:({isActive:C})=>`${re.navLink} ${C?re.active:""}`,children:""}),o.jsx(lt,{to:"/nurse/swap",className:({isActive:C})=>`${re.navLink} ${C?re.active:""}`,children:""}),x&&o.jsxs("div",{className:re.dropdown,children:[o.jsxs("span",{className:`${re.navLink} ${n.pathname.startsWith("/schedule")||n.pathname.startsWith("/settings")||n.pathname==="/nurse/swap"?re.active:""}`,children:[" ",o.jsx(bh,{size:14})]}),o.jsxs("div",{className:re.dropdownMenu,children:[o.jsx(lt,{to:"/schedule/workbench",className:re.dropdownItem,children:""}),o.jsx(lt,{to:"/schedule/leave-approval",className:re.dropdownItem,children:""}),o.jsx(lt,{to:"/nurse/swap",className:re.dropdownItem,children:""}),o.jsx("div",{className:re.dropdownDivider}),o.jsx(lt,{to:"/settings/staff",className:re.dropdownItem,children:""}),o.jsx(lt,{to:"/settings/rules",className:re.dropdownItem,children:""}),o.jsx(lt,{to:"/settings/shifts",className:re.dropdownItem,children:""})]})]})]})]}),o.jsxs("div",{className:re.topbarRight,children:[o.jsx(v2,{}),o.jsxs("div",{className:re.notificationWrapper,children:[o.jsxs("button",{className:re.notificationBtn,onClick:()=>g(!p),children:[o.jsx(Ls,{size:20}),f>0&&o.jsx("span",{className:re.notificationBadge,children:f})]}),p&&o.jsxs("div",{className:re.notificationDropdown,children:[o.jsxs("div",{className:re.notificationHeader,children:[o.jsx("span",{children:""}),f>0&&o.jsx("button",{onClick:m,children:""})]}),o.jsx("div",{className:re.notificationList,children:d.length===0?o.jsx("div",{className:re.noNotifications,children:""}):d.map(C=>o.jsxs("div",{className:`${re.notificationItem} ${C.read?"":re.unread}`,onClick:()=>{C.link&&a(C.link),g(!1)},children:[o.jsx("div",{className:re.notificationIcon,children:E(C.type)}),o.jsxs("div",{className:re.notificationContent,children:[o.jsx("div",{className:re.notificationTitle,children:C.title}),o.jsx("div",{className:re.notificationMessage,children:C.message}),o.jsx("div",{className:re.notificationTime,children:C.time})]})]},C.id))})]})]}),o.jsxs("div",{className:re.userDropdown,children:[o.jsxs("div",{className:re.userInfo,children:[o.jsxs("div",{children:[o.jsx("div",{className:re.userName,children:i?.name||""}),o.jsxs("div",{className:re.userRole,children:[i?Xr[i.role]:"","  ",i?.level]})]}),o.jsx("div",{className:re.avatar,children:i?.name?.charAt(0)||"?"})]}),o.jsxs("div",{className:re.userDropdownMenu,children:[o.jsx(lt,{to:"/settings/profile",className:re.userDropdownItem,children:" "}),o.jsxs("button",{className:re.userDropdownLogout,onClick:()=>{c(),a("/login")},children:[o.jsx(ah,{size:16}),""]})]})]})]})]}),o.jsx("main",{className:re.mainContent,children:o.jsx(Jb,{})}),!x&&o.jsx(T2,{})]})},wE="_statCard_4bppw_1",xE="_statContent_4bppw_11",SE="_statValue_4bppw_18",jE="_statIcon_4bppw_24",NE="_blue_4bppw_33",EE="_yellow_4bppw_38",CE="_red_4bppw_43",Ir={statCard:wE,statContent:xE,statValue:SE,statIcon:jE,blue:NE,yellow:EE,red:CE},Do=({title:n,value:a,icon:i,color:r="blue"})=>o.jsxs("div",{className:Ir.statCard,children:[o.jsxs("div",{className:Ir.statContent,children:[o.jsx("h3",{children:n}),o.jsx("div",{className:Ir.statValue,children:a})]}),o.jsx("div",{className:`${Ir.statIcon} ${Ir[r]}`,children:o.jsx(i,{size:20})})]}),TE="_overlay_gsd7b_1",kE="_modal_gsd7b_11",OE="_header_gsd7b_21",AE="_title_gsd7b_29",RE="_closeButton_gsd7b_35",DE="_body_gsd7b_46",ME="_formGrid_gsd7b_50",BE="_formGroup_gsd7b_56",$E="_full_gsd7b_62",zE="_label_gsd7b_66",LE="_input_gsd7b_72",UE="_select_gsd7b_87",qE="_colorInput_gsd7b_96",HE="_colorPicker_gsd7b_102",IE="_colorPreview_gsd7b_110",GE="_footer_gsd7b_120",PE="_cancelButton_gsd7b_128",VE="_submitButton_gsd7b_140",qe={overlay:TE,modal:kE,header:OE,title:AE,closeButton:RE,body:DE,formGrid:ME,formGroup:BE,full:$E,label:zE,input:LE,select:UE,colorInput:qE,colorPicker:HE,colorPreview:IE,footer:GE,cancelButton:PE,submitButton:VE},YE=[{value:"Standard",label:""},{value:"Special",label:""},{value:"Off",label:""}],__=["#3B82F6","#F59E0B","#6366F1","#F43F5E","#14B8A6","#8B5CF6","#EC4899","#10B981"],KE=({isOpen:n,onClose:a,onSubmit:i,editShift:r})=>{const[c,d]=S.useState({code:"",name:"",type:"Standard",startTime:"08:00",endTime:"16:00",hours:8,color:"#3B82F6"});S.useEffect(()=>{d(r?{code:r.code,name:r.name,type:r.type,startTime:r.startTime,endTime:r.endTime,hours:r.hours,color:r.color}:{code:"",name:"",type:"Standard",startTime:"08:00",endTime:"16:00",hours:8,color:__[Math.floor(Math.random()*__.length)]})},[r,n]);const f=m=>{m.preventDefault(),i(c),a()};return n?o.jsx("div",{className:qe.overlay,onClick:a,children:o.jsxs("div",{className:qe.modal,onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:qe.header,children:[o.jsx("h2",{className:qe.title,children:r?"":""}),o.jsx("button",{className:qe.closeButton,onClick:a,children:o.jsx(cs,{size:20})})]}),o.jsxs("form",{onSubmit:f,children:[o.jsx("div",{className:qe.body,children:o.jsxs("div",{className:qe.formGrid,children:[o.jsxs("div",{className:qe.formGroup,children:[o.jsx("label",{className:qe.label,children:""}),o.jsx("input",{type:"text",className:qe.input,value:c.code,onChange:m=>d(p=>({...p,code:m.target.value})),placeholder:"D, E, N",required:!0})]}),o.jsxs("div",{className:qe.formGroup,children:[o.jsx("label",{className:qe.label,children:""}),o.jsx("input",{type:"text",className:qe.input,value:c.name,onChange:m=>d(p=>({...p,name:m.target.value})),placeholder:"",required:!0})]}),o.jsxs("div",{className:qe.formGroup,children:[o.jsx("label",{className:qe.label,children:""}),o.jsx("input",{type:"time",className:qe.input,value:c.startTime,onChange:m=>d(p=>({...p,startTime:m.target.value}))})]}),o.jsxs("div",{className:qe.formGroup,children:[o.jsx("label",{className:qe.label,children:""}),o.jsx("input",{type:"time",className:qe.input,value:c.endTime,onChange:m=>d(p=>({...p,endTime:m.target.value}))})]}),o.jsxs("div",{className:qe.formGroup,children:[o.jsx("label",{className:qe.label,children:""}),o.jsx("select",{className:qe.select,value:c.type,onChange:m=>d(p=>({...p,type:m.target.value})),children:YE.map(m=>o.jsx("option",{value:m.value,children:m.label},m.value))})]}),o.jsxs("div",{className:qe.formGroup,children:[o.jsx("label",{className:qe.label,children:""}),o.jsx("input",{type:"number",className:qe.input,value:c.hours,onChange:m=>d(p=>({...p,hours:parseFloat(m.target.value)||0})),step:"0.5",min:"0"})]}),o.jsxs("div",{className:`${qe.formGroup} ${qe.full}`,children:[o.jsx("label",{className:qe.label,children:""}),o.jsxs("div",{className:qe.colorInput,children:[o.jsx("input",{type:"color",className:qe.colorPicker,value:c.color,onChange:m=>d(p=>({...p,color:m.target.value}))}),o.jsx("input",{type:"text",className:qe.colorPreview,value:c.color,onChange:m=>d(p=>({...p,color:m.target.value}))})]})]})]})}),o.jsxs("div",{className:qe.footer,children:[o.jsx("button",{type:"button",className:qe.cancelButton,onClick:a,children:""}),o.jsx("button",{type:"submit",className:qe.submitButton,children:r?"":""})]})]})]})}):null},FE="_pageHeader_1uro4_1",XE="_breadcrumb_1uro4_5",QE="_pageTitle_1uro4_11",JE="_pageDescription_1uro4_18",WE="_headerActions_1uro4_23",ZE="_lastUpdate_1uro4_30",eC="_addButton_1uro4_35",tC="_statsGrid_1uro4_52",aC="_tableCard_1uro4_59",nC="_tableHeader_1uro4_66",sC="_searchInput_1uro4_74",iC="_filterSelect_1uro4_93",rC="_exportButton_1uro4_102",lC="_dataTable_1uro4_118",oC="_shiftCode_1uro4_143",cC="_shiftBadge_1uro4_149",uC="_actions_1uro4_173",dC="_iconButton_1uro4_178",hC="_danger_1uro4_190",fC="_tableFooter_1uro4_195",mC="_pagination_1uro4_205",pC="_pageButton_1uro4_211",gC="_active_1uro4_227",_C="_timeIcon_1uro4_232",it={pageHeader:FE,breadcrumb:XE,pageTitle:QE,pageDescription:JE,headerActions:WE,lastUpdate:ZE,addButton:eC,statsGrid:tC,tableCard:aC,tableHeader:nC,searchInput:sC,filterSelect:iC,exportButton:rC,dataTable:lC,shiftCode:oC,shiftBadge:cC,actions:uC,iconButton:dC,danger:hC,tableFooter:fC,pagination:mC,pageButton:pC,active:gC,timeIcon:_C},vC=()=>{const[n,a]=S.useState([]),[i,r]=S.useState(!0),[c,d]=S.useState(""),[f,m]=S.useState("all"),[p,g]=S.useState(!1),[v,y]=S.useState(null);S.useEffect(()=>{x()},[]);const x=async()=>{r(!0);const j=await $i.getAll();j.success&&a(j.data),r(!1)},E=()=>{y(null),g(!0)},C=j=>{y(j),g(!0)},N=async j=>{window.confirm("")&&(await $i.delete(j)).success&&await x()},k=async j=>{v?await $i.update(v.id,j):await $i.add(j),await x()},O=n.filter(j=>{const q=j.name.includes(c)||j.code.includes(c),ae=f==="all"||j.type===f;return q&&ae}),D={total:n.length,standard:n.filter(j=>j.type==="Standard").length,special:n.filter(j=>j.type==="Special").length,off:n.filter(j=>j.type==="Off").length},M=j=>j==="D"||j==="8-8"?o.jsx(WN,{size:14}):j==="E"?o.jsx(e2,{size:14}):j==="N"?o.jsx(kN,{size:14}):o.jsx(qa,{size:14});return o.jsxs("div",{children:[o.jsxs("div",{className:it.pageHeader,children:[o.jsx("div",{className:it.breadcrumb,children:" > "}),o.jsxs("div",{className:it.headerActions,children:[o.jsxs("div",{children:[o.jsx("h1",{className:it.pageTitle,children:""}),o.jsx("p",{className:it.pageDescription,children:""})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsx("span",{className:it.lastUpdate,children:": "}),o.jsxs("button",{className:it.addButton,onClick:E,children:[o.jsx(Sh,{size:16}),""]})]})]})]}),o.jsxs("div",{className:it.statsGrid,children:[o.jsx(Do,{title:"",value:D.total,icon:SN,color:"blue"}),o.jsx(Do,{title:"",value:D.standard,icon:Tn,color:"blue"}),o.jsx(Do,{title:"",value:D.special,icon:jh,color:"yellow"}),o.jsx(Do,{title:"",value:D.off,icon:qa,color:"red"})]}),o.jsxs("div",{className:it.tableCard,children:[o.jsxs("div",{className:it.tableHeader,children:[o.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[o.jsxs("div",{className:it.searchInput,children:[o.jsx(UN,{size:16,color:"var(--text-secondary)"}),o.jsx("input",{type:"text",placeholder:"...",value:c,onChange:j=>d(j.target.value)})]}),o.jsxs("select",{className:it.filterSelect,value:f,onChange:j=>m(j.target.value),children:[o.jsx("option",{value:"all",children:""}),o.jsx("option",{value:"Standard",children:""}),o.jsx("option",{value:"Special",children:""}),o.jsx("option",{value:"Off",children:""})]})]}),o.jsxs("button",{className:it.exportButton,children:[o.jsx(bv,{size:16}),""]})]}),o.jsxs("table",{className:it.dataTable,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:o.jsx("input",{type:"checkbox"})}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:i?o.jsx("tr",{children:o.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem"},children:"..."})}):O.map(j=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("input",{type:"checkbox"})}),o.jsx("td",{children:o.jsxs("div",{className:it.shiftCode,children:[o.jsx("span",{className:it.shiftBadge,style:{backgroundColor:j.color},children:j.code}),j.code]})}),o.jsx("td",{children:j.name}),o.jsx("td",{children:o.jsxs("span",{className:it.timeIcon,children:[M(j.code),j.startTime," - ",j.endTime]})}),o.jsxs("td",{children:[o.jsx("strong",{children:j.hours.toFixed(1)})," "]}),o.jsx("td",{children:o.jsxs("div",{className:it.actions,children:[o.jsx("button",{className:it.iconButton,onClick:()=>C(j),children:o.jsx(DN,{size:16})}),o.jsx("button",{className:`${it.iconButton} ${it.danger}`,onClick:()=>N(j.id),children:o.jsx(ac,{size:16})})]})})]},j.id))})]}),o.jsxs("div",{className:it.tableFooter,children:[o.jsxs("span",{children:[" 1  ",O.length,"  ",n.length," "]}),o.jsxs("div",{className:it.pagination,children:[o.jsx("button",{className:`${it.pageButton} ${it.active}`,children:"1"}),o.jsx("button",{className:it.pageButton,children:"2"})]})]})]}),o.jsx(KE,{isOpen:p,onClose:()=>g(!1),onSubmit:k,editShift:v})]})},yC="_pageHeader_vv5pg_1",bC="_breadcrumb_vv5pg_5",wC="_headerRow_vv5pg_11",xC="_pageTitle_vv5pg_17",SC="_pageDescription_vv5pg_24",jC="_lastUpdate_vv5pg_30",NC="_section_vv5pg_38",EC="_sectionHeader_vv5pg_46",CC="_sectionIcon_vv5pg_53",TC="_sectionTitle_vv5pg_64",kC="_sectionDescription_vv5pg_70",OC="_formGrid_vv5pg_75",AC="_formGroup_vv5pg_82",RC="_formLabel_vv5pg_88",DC="_inputWrapper_vv5pg_94",MC="_formInput_vv5pg_98",BC="_inputSuffix_vv5pg_114",$C="_formHint_vv5pg_123",zC="_strategyGrid_vv5pg_129",LC="_strategyCard_vv5pg_136",UC="_active_vv5pg_149",qC="_strategyIcon_vv5pg_154",HC="_strategyTitle_vv5pg_171",IC="_strategyDescription_vv5pg_178",GC="_footerActions_vv5pg_185",PC="_cancelButton_vv5pg_194",VC="_saveButton_vv5pg_206",le={pageHeader:yC,breadcrumb:bC,headerRow:wC,pageTitle:xC,pageDescription:SC,lastUpdate:jC,section:NC,sectionHeader:EC,sectionIcon:CC,sectionTitle:TC,sectionDescription:kC,formGrid:OC,formGroup:AC,formLabel:RC,inputWrapper:DC,formInput:MC,inputSuffix:BC,formHint:$C,strategyGrid:zC,strategyCard:LC,active:UC,strategyIcon:qC,strategyTitle:HC,strategyDescription:IC,footerActions:GC,cancelButton:PC,saveButton:VC},YC=()=>{const{currentUnit:n}=fa(),[a,i]=S.useState({maxLeavePerMonth:4,maxLeavePerDay:2,conflictStrategy:"Score"}),[r,c]=S.useState(null),[d,f]=S.useState(!0),[m,p]=S.useState(!1),[g,v]=S.useState(""),y=S.useCallback(async()=>{if(!n)return;f(!0);const N=await Ho.get(n.id);N.success&&(i(N.data),c(N.data)),f(!1)},[n]);S.useEffect(()=>{y()},[y]);const x=N=>{i(k=>({...k,conflictStrategy:N}))},E=()=>{r&&i(r)},C=async()=>{if(n){p(!0),console.log("Saving rule:",a);try{const N=await Ho.update(a,n.id);console.log("Save response:",N),N.success?(c(a),v(new Date().toLocaleString("zh-TW")),alert("")):alert(""+(N.message||""))}catch(N){console.error("Save error:",N),alert(""+(N instanceof Error?N.message:String(N)))}p(!1)}};return d?o.jsx("div",{children:"..."}):o.jsxs("div",{children:[o.jsxs("div",{className:le.pageHeader,children:[o.jsx("div",{className:le.breadcrumb,children:" > "}),o.jsxs("div",{className:le.headerRow,children:[o.jsxs("div",{children:[o.jsx("h1",{className:le.pageTitle,children:""}),o.jsx("p",{className:le.pageDescription,children:" "})]}),o.jsxs("div",{className:le.lastUpdate,children:[o.jsx(Tn,{size:14}),": ",g||""]})]})]}),o.jsxs("div",{className:le.section,children:[o.jsxs("div",{className:le.sectionHeader,children:[o.jsx("div",{className:le.sectionIcon,children:o.jsx(Tn,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:le.sectionTitle,children:""}),o.jsx("p",{className:le.sectionDescription,children:" ( 21  21  20 )"})]})]}),o.jsx("div",{className:le.formGrid,children:o.jsxs("div",{className:le.formGroup,children:[o.jsx("label",{className:le.formLabel,children:" ()"}),o.jsxs("div",{className:le.inputWrapper,children:[o.jsx("input",{type:"number",min:"1",max:"28",className:le.formInput,value:a.periodStartDay||1,onChange:N=>i(k=>({...k,periodStartDay:parseInt(N.target.value)||1}))}),o.jsx("span",{className:le.inputSuffix,children:""})]}),o.jsx("span",{className:le.formHint,children:" 1  (1-) 28 "})]})})]}),o.jsxs("div",{className:le.section,children:[o.jsxs("div",{className:le.sectionHeader,children:[o.jsx("div",{className:le.sectionIcon,children:o.jsx(qa,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:le.sectionTitle,children:""}),o.jsx("p",{className:le.sectionDescription,children:""})]})]}),o.jsxs("div",{className:le.formGrid,children:[o.jsxs("div",{className:le.formGroup,children:[o.jsx("label",{className:le.formLabel,children:" ()"}),o.jsxs("div",{className:le.inputWrapper,children:[o.jsx("input",{type:"number",className:le.formInput,value:a.maxLeavePerMonth,onChange:N=>i(k=>({...k,maxLeavePerMonth:parseInt(N.target.value)||0}))}),o.jsx("span",{className:le.inputSuffix,children:"/"})]}),o.jsx("span",{className:le.formHint,children:" 3-5 "})]}),o.jsxs("div",{className:le.formGroup,children:[o.jsx("label",{className:le.formLabel,children:" ()"}),o.jsxs("div",{className:le.inputWrapper,children:[o.jsx("input",{type:"number",className:le.formInput,value:a.maxLeavePerDay,onChange:N=>i(k=>({...k,maxLeavePerDay:parseInt(N.target.value)||0}))}),o.jsx("span",{className:le.inputSuffix,children:"/"})]}),o.jsx("span",{className:le.formHint,children:""})]})]})]}),o.jsxs("div",{className:le.section,children:[o.jsxs("div",{className:le.sectionHeader,children:[o.jsx("div",{className:le.sectionIcon,children:o.jsx(qa,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:le.sectionTitle,children:""}),o.jsx("p",{className:le.sectionDescription,children:" ()"})]})]}),o.jsx("div",{className:le.formGrid,children:o.jsxs("div",{className:le.formGroup,style:{gridColumn:"1 / -1"},children:[o.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsx("label",{className:le.formLabel,children:""}),o.jsx("input",{type:"month",className:le.formInput,id:"newLimitMonth",style:{width:"200px"}})]}),o.jsxs("div",{children:[o.jsx("label",{className:le.formLabel,children:" ()"}),o.jsx("input",{type:"number",className:le.formInput,id:"newLimitValue",placeholder:"",style:{width:"100px"}})]}),o.jsx("button",{className:le.saveButton,style:{height:"42px",padding:"0 1rem"},onClick:()=>{const N=document.getElementById("newLimitMonth"),k=document.getElementById("newLimitValue"),O=N.value,D=parseInt(k.value);O&&!isNaN(D)&&(i(M=>({...M,monthlyPreLeaveLimits:{...M.monthlyPreLeaveLimits||{},[O]:D}})),N.value="",k.value="")},children:"/"})]}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[Object.entries(a.monthlyPreLeaveLimits||{}).map(([N,k])=>o.jsxs("div",{style:{background:"var(--bg-app)",padding:"0.5rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid var(--border)",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[o.jsx("span",{style:{fontWeight:600},children:N}),o.jsxs("span",{style:{color:"var(--text-secondary)"},children:[": ",k," "]}),o.jsx("button",{onClick:()=>{const O={...a.monthlyPreLeaveLimits};delete O[N],i(D=>({...D,monthlyPreLeaveLimits:O}))},style:{border:"none",background:"transparent",color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",padding:0,marginLeft:"0.25rem"},children:""})]},N)),(!a.monthlyPreLeaveLimits||Object.keys(a.monthlyPreLeaveLimits).length===0)&&o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:""})]})]})})]}),o.jsxs("div",{className:le.section,children:[o.jsxs("div",{className:le.sectionHeader,children:[o.jsx("div",{className:le.sectionIcon,children:o.jsx(nh,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:le.sectionTitle,children:""}),o.jsx("p",{className:le.sectionDescription,children:""})]})]}),o.jsxs("div",{className:le.strategyGrid,children:[o.jsxs("div",{className:`${le.strategyCard} ${a.conflictStrategy==="Score"?le.active:""}`,onClick:()=>x("Score"),children:[o.jsx("div",{className:le.strategyIcon,children:o.jsx(jh,{size:18})}),o.jsx("h3",{className:le.strategyTitle,children:""}),o.jsx("p",{className:le.strategyDescription,children:""})]}),o.jsxs("div",{className:`${le.strategyCard} ${a.conflictStrategy==="Random"?le.active:""}`,onClick:()=>x("Random"),children:[o.jsx("div",{className:le.strategyIcon,children:o.jsx(nh,{size:18})}),o.jsx("h3",{className:le.strategyTitle,children:""}),o.jsx("p",{className:le.strategyDescription,children:""})]})]})]}),o.jsxs("div",{className:le.footerActions,children:[o.jsxs("button",{className:le.cancelButton,onClick:E,children:[o.jsx(Sv,{size:14}),""]}),o.jsxs("button",{className:le.saveButton,onClick:C,disabled:m,children:[o.jsx(tc,{size:16}),m?"...":""]})]})]})},KC="_container_18a95_1",FC="_loading_18a95_5",XC="_pageHeader_18a95_14",QC="_breadcrumb_18a95_18",JC="_headerRow_18a95_24",WC="_pageTitle_18a95_31",ZC="_pageDescription_18a95_41",eT="_addBtn_18a95_47",tT="_tableCard_18a95_67",aT="_table_18a95_67",nT="_idCell_18a95_98",sT="_levelBadge_18a95_103",iT="_roleBadge_18a95_112",rT="_nurse_18a95_120",lT="_deputy_18a95_125",oT="_manager_18a95_130",cT="_actions_18a95_135",uT="_editBtn_18a95_140",dT="_deleteBtn_18a95_141",hT="_empty_18a95_162",fT="_modalOverlay_18a95_169",mT="_modal_18a95_169",pT="_modalHeader_18a95_187",gT="_closeBtn_18a95_201",_T="_modalBody_18a95_213",vT="_formGroup_18a95_220",yT="_modalFooter_18a95_252",bT="_cancelBtn_18a95_260",wT="_saveBtn_18a95_261",xT="_confirmModal_18a95_299",ST="_confirmActions_18a95_317",jT="_dangerBtn_18a95_323",NT="_checkboxGroup_18a95_339",ET="_checkboxLabel_18a95_351",De={container:KC,loading:FC,pageHeader:XC,breadcrumb:QC,headerRow:JC,pageTitle:WC,pageDescription:ZC,addBtn:eT,tableCard:tT,table:aT,idCell:nT,levelBadge:sT,roleBadge:iT,nurse:rT,deputy:lT,manager:oT,actions:cT,editBtn:uT,deleteBtn:dT,empty:hT,modalOverlay:fT,modal:mT,modalHeader:pT,closeBtn:gT,modalBody:_T,formGroup:vT,modalFooter:yT,cancelBtn:bT,saveBtn:wT,confirmModal:xT,confirmActions:ST,dangerBtn:jT,checkboxGroup:NT,checkboxLabel:ET},CT=["N0","N1","N2","N3","N4","NP","AHN","HN"],TT=["nurse","deputy","manager"],kT=()=>{const{currentUnit:n,availableUnits:a}=fa(),[i,r]=S.useState([]),[c,d]=S.useState(!0),[f,m]=S.useState(!1),[p,g]=S.useState({id:"",name:"",level:"N1",departmentId:n?.id||"U001",role:"nurse"}),[v,y]=S.useState(!1),[x,E]=S.useState(!1),[C,N]=S.useState(null),[k,O]=S.useState([]),[D,M]=S.useState([]),j=S.useCallback(async()=>{if(!n)return;d(!0);const X=await $t.getAll(n.id);X.success&&r(X.data),d(!1)},[n]);S.useEffect(()=>{j()},[j]),S.useEffect(()=>{sv.getAll().then(X=>{X.success&&M(X.data)})},[]);const q=()=>{g({id:`N-${Date.now().toString().slice(-4)}`,name:"",level:"N1",departmentId:n?.id||"U001",role:"nurse"}),y(!0),m(!0)},ae=async X=>{if(g({id:X.id,name:X.name,level:X.level,departmentId:X.departmentId,role:X.role}),X.role==="manager"||X.role==="deputy"){const Te=await qo.get(X.id);Te.success&&O(Te.data)}else O([]);y(!1),m(!0)},Z=async()=>{if(!p.name.trim()){alert("");return}E(!0);try{if(v){const X=await $t.create(p);X.success?(alert(""),m(!1),j()):alert(""+X.message)}else{const X=await $t.update(p.id,p);X.success?(alert(""),m(!1),j()):alert(""+X.message)}}catch(X){alert(""+(X instanceof Error?X.message:String(X)))}(p.role==="manager"||p.role==="deputy")&&await qo.update(p.id,k),E(!1)},_e=async X=>{const Te=await $t.delete(X);Te.success?(alert(""),N(null),j()):alert(""+Te.message)},Ee=async(X,Te)=>{if(!window.confirm(` ${Te} 
`))return;const ot=await $t.resetPassword(X);ot.success?alert(""):alert(""+ot.message)},Ie=X=>a.find(Te=>Te.id===X)?.name||X;return c?o.jsx("div",{className:De.loading,children:"..."}):o.jsxs("div",{className:De.container,children:[o.jsxs("div",{className:De.pageHeader,children:[o.jsx("div",{className:De.breadcrumb,children:" > "}),o.jsxs("div",{className:De.headerRow,children:[o.jsxs("div",{children:[o.jsxs("h1",{className:De.pageTitle,children:[o.jsx(Eh,{size:28})," "]}),o.jsx("p",{className:De.pageDescription,children:""})]}),o.jsxs("button",{className:De.addBtn,onClick:q,children:[o.jsx(Sh,{size:18})," "]})]})]}),o.jsxs("div",{className:De.tableCard,children:[o.jsxs("table",{className:De.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:i.map(X=>o.jsxs("tr",{children:[o.jsx("td",{className:De.idCell,children:X.id}),o.jsx("td",{children:X.name}),o.jsx("td",{children:Ie(X.departmentId)}),o.jsx("td",{children:o.jsx("span",{className:De.levelBadge,children:X.level})}),o.jsx("td",{children:o.jsx("span",{className:`${De.roleBadge} ${De[X.role]}`,children:Xr[X.role]})}),o.jsxs("td",{className:De.actions,children:[o.jsx("button",{className:De.editBtn,onClick:()=>ae(X),title:"",children:o.jsx(AN,{size:16})}),o.jsx("button",{className:De.editBtn,onClick:()=>Ee(X.id,X.name),title:"",children:o.jsx(wN,{size:16})}),o.jsx("button",{className:De.deleteBtn,onClick:()=>N(X.id),title:"",children:o.jsx(ac,{size:16})})]})]},X.id))})]}),i.length===0&&o.jsx("div",{className:De.empty,children:""})]}),f&&o.jsx("div",{className:De.modalOverlay,onClick:()=>m(!1),children:o.jsxs("div",{className:De.modal,onClick:X=>X.stopPropagation(),children:[o.jsxs("div",{className:De.modalHeader,children:[o.jsx("h2",{children:v?"":""}),o.jsx("button",{className:De.closeBtn,onClick:()=>m(!1),children:o.jsx(cs,{size:20})})]}),o.jsxs("div",{className:De.modalBody,children:[o.jsxs("div",{className:De.formGroup,children:[o.jsx("label",{children:""}),o.jsx("input",{type:"text",value:p.id,onChange:X=>g({...p,id:X.target.value}),disabled:!v,placeholder:"N-1001"})]}),o.jsxs("div",{className:De.formGroup,children:[o.jsx("label",{children:" *"}),o.jsx("input",{type:"text",value:p.name,onChange:X=>g({...p,name:X.target.value}),placeholder:""})]}),o.jsxs("div",{className:De.formGroup,children:[o.jsx("label",{children:""}),o.jsx("select",{value:p.departmentId,onChange:X=>g({...p,departmentId:X.target.value}),children:a.map(X=>o.jsx("option",{value:X.id,children:X.name},X.id))})]}),o.jsxs("div",{className:De.formGroup,children:[o.jsx("label",{children:""}),o.jsx("select",{value:p.level,onChange:X=>g({...p,level:X.target.value}),children:CT.map(X=>o.jsx("option",{value:X,children:X},X))})]}),o.jsxs("div",{className:De.formGroup,children:[o.jsx("label",{children:""}),o.jsx("select",{value:p.role,onChange:X=>g({...p,role:X.target.value}),children:TT.map(X=>o.jsx("option",{value:X,children:Xr[X]},X))})]}),(p.role==="manager"||p.role==="deputy")&&o.jsxs("div",{className:De.formGroup,children:[o.jsx("label",{children:" ()"}),o.jsx("div",{className:De.checkboxGroup,children:D.map(X=>o.jsxs("label",{className:De.checkboxLabel,children:[o.jsx("input",{type:"checkbox",checked:k.includes(X.id),onChange:Te=>{Te.target.checked?O([...k,X.id]):O(k.filter(ot=>ot!==X.id))}}),X.name]},X.id))})]})]}),o.jsxs("div",{className:De.modalFooter,children:[o.jsx("button",{className:De.cancelBtn,onClick:()=>m(!1),children:""}),o.jsxs("button",{className:De.saveBtn,onClick:Z,disabled:x,children:[o.jsx(tc,{size:16})," ",x?"...":""]})]})]})}),C&&o.jsx("div",{className:De.modalOverlay,onClick:()=>N(null),children:o.jsxs("div",{className:De.confirmModal,onClick:X=>X.stopPropagation(),children:[o.jsx("h3",{children:""}),o.jsx("p",{children:""}),o.jsxs("div",{className:De.confirmActions,children:[o.jsx("button",{className:De.cancelBtn,onClick:()=>N(null),children:""}),o.jsx("button",{className:De.dangerBtn,onClick:()=>_e(C),children:""})]})]})})]})},OT="_pageContainer_g905o_1",AT="_mainContent_g905o_7",RT="_pageHeader_g905o_13",DT="_pageTitle_g905o_17",MT="_pageSubtitle_g905o_24",BT="_section_g905o_31",$T="_sectionHeader_g905o_38",zT="_infoGrid_g905o_53",LT="_infoItem_g905o_59",UT="_infoLabel_g905o_65",qT="_infoValue_g905o_70",HT="_toggleList_g905o_77",IT="_toggleItem_g905o_83",GT="_toggleInfo_g905o_92",PT="_toggleLabel_g905o_98",VT="_toggleDesc_g905o_104",YT="_toggle_g905o_77",KT="_slider_g905o_123",FT="_secondaryBtn_g905o_156",XT="_saveBtn_g905o_171",QT="_devNote_g905o_203",JT="_roleButtons_g905o_209",WT="_roleBtn_g905o_215",ZT="_activeRole_g905o_231",be={pageContainer:OT,mainContent:AT,pageHeader:RT,pageTitle:DT,pageSubtitle:MT,section:BT,sectionHeader:$T,infoGrid:zT,infoItem:LT,infoLabel:UT,infoValue:qT,toggleList:HT,toggleItem:IT,toggleInfo:GT,toggleLabel:PT,toggleDesc:VT,toggle:YT,slider:KT,secondaryBtn:FT,saveBtn:XT,devNote:QT,roleButtons:JT,roleBtn:WT,activeRole:ZT},ek=()=>{const{currentUser:n,setCurrentUser:a}=fa(),[i,r]=S.useState(!0),[c,d]=S.useState(!0),[f,m]=S.useState(!0),[p,g]=S.useState(!1),[v,y]=S.useState([]);S.useEffect(()=>{(async()=>{const N=await $t.getAll();N.success&&y(N.data)})()},[]);const x=v.reduce((C,N)=>(C.find(k=>k.role===N.role)||C.push(N),C),[]),E=()=>{g(!0),setTimeout(()=>{g(!1),alert("")},500)};return o.jsx("div",{className:be.pageContainer,children:o.jsxs("div",{className:be.mainContent,children:[o.jsxs("div",{className:be.pageHeader,children:[o.jsx("h1",{className:be.pageTitle,children:""}),o.jsx("p",{className:be.pageSubtitle,children:""})]}),o.jsxs("div",{className:be.section,children:[o.jsxs("div",{className:be.sectionHeader,children:[o.jsx(Ev,{size:20}),o.jsx("h2",{children:""})]}),o.jsxs("div",{className:be.infoGrid,children:[o.jsxs("div",{className:be.infoItem,children:[o.jsx("span",{className:be.infoLabel,children:""}),o.jsx("span",{className:be.infoValue,children:n?.name||"-"})]}),o.jsxs("div",{className:be.infoItem,children:[o.jsx("span",{className:be.infoLabel,children:""}),o.jsx("span",{className:be.infoValue,children:n?.id||"-"})]}),o.jsxs("div",{className:be.infoItem,children:[o.jsx("span",{className:be.infoLabel,children:""}),o.jsx("span",{className:be.infoValue,children:n?.level||"-"})]}),o.jsxs("div",{className:be.infoItem,children:[o.jsx("span",{className:be.infoLabel,children:""}),o.jsx("span",{className:be.infoValue,children:Xr[n?.role||"nurse"]})]})]})]}),o.jsxs("div",{className:be.section,children:[o.jsxs("div",{className:be.sectionHeader,children:[o.jsx(Ls,{size:20}),o.jsx("h2",{children:""})]}),o.jsxs("div",{className:be.toggleList,children:[o.jsxs("div",{className:be.toggleItem,children:[o.jsxs("div",{className:be.toggleInfo,children:[o.jsx("span",{className:be.toggleLabel,children:""}),o.jsx("span",{className:be.toggleDesc,children:""})]}),o.jsxs("label",{className:be.toggle,children:[o.jsx("input",{type:"checkbox",checked:i,onChange:C=>r(C.target.checked)}),o.jsx("span",{className:be.slider})]})]}),o.jsxs("div",{className:be.toggleItem,children:[o.jsxs("div",{className:be.toggleInfo,children:[o.jsx("span",{className:be.toggleLabel,children:""}),o.jsx("span",{className:be.toggleDesc,children:""})]}),o.jsxs("label",{className:be.toggle,children:[o.jsx("input",{type:"checkbox",checked:c,onChange:C=>d(C.target.checked)}),o.jsx("span",{className:be.slider})]})]}),o.jsxs("div",{className:be.toggleItem,children:[o.jsxs("div",{className:be.toggleInfo,children:[o.jsx("span",{className:be.toggleLabel,children:""}),o.jsx("span",{className:be.toggleDesc,children:""})]}),o.jsxs("label",{className:be.toggle,children:[o.jsx("input",{type:"checkbox",checked:f,onChange:C=>m(C.target.checked)}),o.jsx("span",{className:be.slider})]})]})]})]}),o.jsxs("div",{className:be.section,children:[o.jsxs("div",{className:be.sectionHeader,children:[o.jsx(xh,{size:20}),o.jsx("h2",{children:""})]}),o.jsx("button",{className:be.secondaryBtn,children:""})]}),o.jsxs("div",{className:be.section,children:[o.jsxs("div",{className:be.sectionHeader,children:[o.jsx(s2,{size:20}),o.jsx("h2",{children:"DEV "})]}),o.jsx("p",{className:be.devNote,children:" - "}),o.jsx("div",{className:be.roleButtons,children:x.map(C=>o.jsxs("button",{className:`${be.roleBtn} ${n?.id===C.id?be.activeRole:""}`,onClick:()=>a(C),children:[Xr[C.role]," (",C.name,")"]},C.id))})]}),o.jsxs("button",{className:be.saveBtn,onClick:E,disabled:p,children:[o.jsx(tc,{size:16}),p?"...":""]})]})})},tk={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},ak=(n,a,i)=>{let r;const c=tk[n];return typeof c=="string"?r=c:a===1?r=c.one:r=c.other.replace("{{count}}",String(a)),i?.addSuffix?i.comparison&&i.comparison>0?r+"":r+"":r},nk={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},sk={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},ik={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rk={date:Ui({formats:nk,defaultWidth:"full"}),time:Ui({formats:sk,defaultWidth:"full"}),dateTime:Ui({formats:ik,defaultWidth:"full"})},lk={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},ok=(n,a,i,r)=>lk[n],ck={narrow:["",""],abbreviated:["",""],wide:["",""]},uk={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},dk={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},hk={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},fk={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},mk={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},pk=(n,a)=>{const i=Number(n);switch(a?.unit){case"date":return i+"";case"hour":return i+"";case"minute":return i+"";case"second":return i+"";default:return" "+i}},gk={ordinalNumber:pk,era:an({values:ck,defaultWidth:"wide"}),quarter:an({values:uk,defaultWidth:"wide",argumentCallback:n=>n-1}),month:an({values:dk,defaultWidth:"wide"}),day:an({values:hk,defaultWidth:"wide"}),dayPeriod:an({values:fk,defaultWidth:"wide",formattingValues:mk,defaultFormattingWidth:"wide"})},_k=/^(\s*)?\d+(|||)?/i,vk=/\d+/i,yk={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},bk={any:[/^()/i,/^()/i]},wk={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},xk={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},Sk={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},jk={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},Nk={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},Ek={any:[//i,//i,//i,//i,//i,//i,//i]},Ck={any:/^(?|?||[]|?||?|)/i},Tk={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},kk={ordinalNumber:fv({matchPattern:_k,parsePattern:vk,valueCallback:n=>parseInt(n,10)}),era:nn({matchPatterns:yk,defaultMatchWidth:"wide",parsePatterns:bk,defaultParseWidth:"any"}),quarter:nn({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:xk,defaultParseWidth:"any",valueCallback:n=>n+1}),month:nn({matchPatterns:Sk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any"}),day:nn({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:Ek,defaultParseWidth:"any"}),dayPeriod:nn({matchPatterns:Ck,defaultMatchWidth:"any",parsePatterns:Tk,defaultParseWidth:"any"})},da={code:"zh-TW",formatDistance:ak,formatLong:rk,formatRelative:ok,localize:gk,match:kk,options:{weekStartsOn:1,firstWeekContainsDate:4}},Ok="_calendarContainer_1owud_1",Ak="_calendarHeader_1owud_8",Rk="_monthNav_1owud_15",Dk="_monthTitle_1owud_21",Mk="_navButton_1owud_29",Bk="_legend_1owud_45",$k="_legendItem_1owud_52",zk="_legendDot_1owud_58",Lk="_calendarGrid_1owud_64",Uk="_weekdayHeader_1owud_74",qk="_dayCell_1owud_83",Hk="_otherMonth_1owud_96",Ik="_today_1owud_102",Gk="_selected_1owud_106",Pk="_dayNumber_1owud_110",Vk="_dayTags_1owud_121",Yk="_dayTag_1owud_121",Kk="_leave_1owud_136",Fk="_shift_1owud_141",Xk="_lottery_1owud_146",Qk="_lotteryBadge_1owud_151",Fe={calendarContainer:Ok,calendarHeader:Ak,monthNav:Rk,monthTitle:Dk,navButton:Mk,legend:Bk,legendItem:$k,legendDot:zk,calendarGrid:Lk,weekdayHeader:Uk,dayCell:qk,otherMonth:Hk,today:Ik,selected:Gk,dayNumber:Pk,dayTags:Vk,dayTag:Yk,leave:Kk,shift:Fk,lottery:Xk,lotteryBadge:Qk,"group-leave":"_group-leave_1owud_162"},Jk=["","","","","","",""],Cv=({currentMonth:n,onMonthChange:a,selectedDate:i,onDateSelect:r,dayDataMap:c=new Map})=>{const d=yh(n),f=ES(d),m=qi(d),p=kS(f),g=[];let v=[],y=m;for(;y<=p;){for(let E=0;E<7;E++)v.push(y),y=vh(y,1);g.push(v),v=[]}const x=E=>je(E,"yyyy-MM-dd");return o.jsxs("div",{className:Fe.calendarContainer,children:[o.jsxs("div",{className:Fe.calendarHeader,children:[o.jsxs("div",{className:Fe.monthNav,children:[o.jsx("button",{className:Fe.navButton,onClick:()=>a(_v(n)),children:o.jsx(wh,{size:16})}),o.jsxs("span",{className:Fe.monthTitle,children:[je(n,"yyyy M",{locale:da})," "]}),o.jsx("button",{className:Fe.navButton,onClick:()=>a(Qo(n,1)),children:o.jsx(Zo,{size:16})})]}),o.jsxs("div",{className:Fe.legend,children:[o.jsxs("div",{className:Fe.legendItem,children:[o.jsx("span",{className:Fe.legendDot,style:{background:"#3B82F6"}}),"D"]}),o.jsxs("div",{className:Fe.legendItem,children:[o.jsx("span",{className:Fe.legendDot,style:{background:"#F59E0B"}}),"E"]}),o.jsxs("div",{className:Fe.legendItem,children:[o.jsx("span",{className:Fe.legendDot,style:{background:"#6366F1"}}),"N"]}),o.jsxs("div",{className:Fe.legendItem,children:[o.jsx("span",{className:Fe.legendDot,style:{background:"#A855F7"}}),""]}),o.jsxs("div",{className:Fe.legendItem,children:[o.jsx("span",{className:Fe.legendDot,style:{background:"#EF4444"}}),"",o.jsxs("div",{className:Fe.legendItem,children:[o.jsx("span",{className:Fe.legendDot,style:{background:"#94A3B8"}}),""]})]})]})]}),o.jsxs("div",{className:Fe.calendarGrid,children:[Jk.map(E=>o.jsx("div",{className:Fe.weekdayHeader,children:E},E)),g.map((E,C)=>o.jsx(Vr.Fragment,{children:E.map((N,k)=>{const O=c.get(x(N)),D=Cj(N,n),M=i&&dv(N,i);return o.jsxs("div",{className:`${Fe.dayCell} 
                    ${D?"":Fe.otherMonth} 
                    ${gv(N)?Fe.today:""} 
                    ${M?Fe.selected:""}`,onClick:()=>D&&r(N),title:O?.tooltips?.join(`
`),children:[o.jsx("div",{className:Fe.dayNumber,children:je(N,"d")}),O?.needsLottery&&o.jsx("span",{className:Fe.lotteryBadge,children:""}),O?.tags&&o.jsx("div",{className:Fe.dayTags,children:O.tags.map((j,q)=>o.jsx("span",{className:`${Fe.dayTag} ${Fe[j.type]}`,style:j.color?{background:`${j.color}20`,color:j.color,borderLeft:`3px solid ${j.color}`}:void 0,children:j.label},q))})]},k)})},C))]})]})},Wk="_pageContainer_38w19_1",Zk="_mainContent_38w19_7",e3="_pageHeader_38w19_13",t3="_pageTitle_38w19_19",a3="_pageDescription_38w19_26",n3="_quotaBadge_38w19_31",s3="_sidebar_38w19_44",i3="_sidebarCard_38w19_50",r3="_dateHeader_38w19_57",l3="_selectedDate_38w19_64",o3="_lotteryTag_38w19_70",c3="_dateMeta_38w19_78",u3="_formGroup_38w19_84",d3="_formLabel_38w19_88",h3="_typeButtons_38w19_96",f3="_typeButton_38w19_96",m3="_active_38w19_116",p3="_selectInput_38w19_122",g3="_textareaInput_38w19_132",_3="_submitButton_38w19_142",v3="_quotaCard_38w19_158",y3="_quotaHeader_38w19_165",b3="_quotaItem_38w19_175",w3="_quotaLabel_38w19_179",x3="_quotaValue_38w19_187",S3="_quotaBar_38w19_192",j3="_quotaProgress_38w19_199",N3="_historyTitle_38w19_208",E3="_historyTable_38w19_215",C3="_statusBadge_38w19_247",T3="_pending_38w19_257",k3="_approved_38w19_262",O3="_rejected_38w19_267",A3="_shiftTag_38w19_272",R3="_cancelLink_38w19_280",D3="_historySection_38w19_340",M3="_leaveTypeOption_38w19_378",B3="_rulesList_38w19_384",$3="_ruleItem_38w19_390",z3="_ruleLabel_38w19_402",L3="_ruleValue_38w19_407",U3="_expired_38w19_412",Ae={pageContainer:Wk,mainContent:Zk,pageHeader:e3,pageTitle:t3,pageDescription:a3,quotaBadge:n3,sidebar:s3,sidebarCard:i3,dateHeader:r3,selectedDate:l3,lotteryTag:o3,dateMeta:c3,formGroup:u3,formLabel:d3,typeButtons:h3,typeButton:f3,active:m3,selectInput:p3,textareaInput:g3,submitButton:_3,quotaCard:v3,quotaHeader:y3,quotaItem:b3,quotaLabel:w3,quotaValue:x3,quotaBar:S3,quotaProgress:j3,historyTitle:N3,historyTable:E3,statusBadge:C3,pending:T3,approved:k3,rejected:O3,shiftTag:A3,cancelLink:R3,historySection:D3,leaveTypeOption:M3,rulesList:B3,ruleItem:$3,ruleLabel:z3,ruleValue:L3,expired:U3},Gr={preleave:"",annual:"",sick:"",personal:"",other:""},Tv=()=>{const[n,a]=S.useState(Qo(new Date,1)),[i,r]=S.useState(null),[c,d]=S.useState("preleave"),[f,m]=S.useState(""),[p,g]=S.useState(!1),[v,y]=S.useState(null),[x,E]=S.useState([]),[C,N]=S.useState([]),[k,O]=S.useState([]),[D,M]=S.useState(null),[j,q]=S.useState(null),[ae,Z]=S.useState(!0),[_e,Ee]=S.useState(null);S.useEffect(()=>{Ie()},[]);const Ie=async()=>{Z(!0);const[w,R,U]=await Promise.all([$t.getCurrent(),Ho.get(),$t.getAll()]);if(U.success&&O(U.data),w.success){y(w.data);const[K,ne]=await Promise.all([Ct.getByStaff(w.data.id),rl.get(w.data.id)]);K.success&&E(K.data),ne.success&&M(ne.data)}if(R.success&&(q(R.data),R.data.preleaveOpenMonth)){const[K,ne]=R.data.preleaveOpenMonth.split("-").map(Number);a(new Date(K,ne-1,1));const W=await Ct.getByMonth(K,ne);W.success&&N(W.data)}Z(!1)},X=w=>j?.preleaveOpenMonth?je(w,"yyyy-MM")===j.preleaveOpenMonth:!0,Te=()=>j?.preleaveDeadline?new Date>new Date(j.preleaveDeadline):!1,ot=w=>{X(w)?a(w):alert(` ${j?.preleaveOpenMonth} `)},ft=async()=>{if(!i||!v){alert("");return}if(Te()){alert("");return}const w=je(i,"yyyy-MM-dd");if(!_e&&j){const R=je(i,"yyyy-MM"),U=j.monthlyPreLeaveLimits?.[R]??j.maxLeavePerMonth;if(x.filter(ne=>ne.date.startsWith(R)&&ne.status!=="rejected"&&ne.id!==_e).length>=U){alert(` (${U} )`);return}}g(!0),_e?(await Ct.update(_e,{leaveType:Gr[c],reason:f,date:w})).success&&(alert(""),Ee(null),r(null),m(""),await Ie()):(await Ct.add({staffId:v.id,staffName:v.name,date:w,type:"leave",leaveType:Gr[c],reason:f,status:"pending"})).success&&(alert(""),r(null),m(""),await Ie()),g(!1)},mt=w=>{if(Te()){alert("");return}Ee(w.id),r(new Date(w.date));const R=Object.keys(Gr).find(U=>Gr[U]===w.leaveType)||"rest";d(R),m(w.reason||"")},I=async w=>{if(!window.confirm(""))return;(await Ct.cancel(w)).success&&await Ie()},ee=new Map,ce=new Map(k.map(w=>[w.id,w.name])),J=(w,R)=>ce.get(w)||R||w;if(C.forEach(w=>{if(w.staffId===v?.id)return;const R=ee.get(w.date)||{tags:[],tooltips:[]},U=J(w.staffId,w.staffName);R.tags.push({type:"group-leave",label:U.charAt(0)}),R.tooltips=R.tooltips||[],R.tooltips.push(`${U}: ${w.leaveType}`),ee.set(w.date,R)}),x.forEach(w=>{const R=ee.get(w.date)||{tags:[],tooltips:[]};R.tags.push({type:"leave",label:w.leaveType||"",isMine:!0}),ee.set(w.date,R)}),ae)return o.jsx("div",{children:"..."});const F=Te();return j?.maxLeavePerMonth,x.filter(w=>w.status==="pending"||w.status==="approved").length,o.jsxs("div",{className:Ae.pageContainer,children:[o.jsxs("div",{className:Ae.mainContent,children:[o.jsxs("div",{className:Ae.pageHeader,children:[o.jsxs("div",{children:[o.jsx("h1",{className:Ae.pageTitle,children:""}),o.jsx("p",{className:Ae.pageDescription,children:j?.preleaveOpenMonth?o.jsxs(o.Fragment,{children:["",o.jsx("strong",{children:j.preleaveOpenMonth}),j.preleaveDeadline&&o.jsxs("span",{style:{marginLeft:"1rem",color:F?"var(--error)":"inherit"},children:["",o.jsx("strong",{children:j.preleaveDeadline}),F&&" ()"]})]}):""})]}),o.jsxs("div",{className:Ae.quotaBadge,children:[o.jsx(qa,{size:16}),"",D?.annualLeaveRemaining||0," "]})]}),o.jsx(Cv,{currentMonth:n,onMonthChange:ot,selectedDate:i,onDateSelect:r,dayDataMap:ee})]}),o.jsxs("div",{className:Ae.sidebar,children:[o.jsxs("div",{className:Ae.sidebarCard,children:[o.jsx("div",{className:Ae.dateHeader,children:o.jsx("span",{className:Ae.selectedDate,children:i?je(i,"Md (E)",{locale:da}):""})}),o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{className:Ae.formLabel,children:""}),o.jsx("select",{className:Ae.selectInput,value:c,onChange:w=>d(w.target.value),children:Object.entries(Gr).map(([w,R])=>o.jsx("option",{value:w,children:R},w))})]}),o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{className:Ae.formLabel,children:""}),o.jsx("textarea",{className:Ae.textareaInput,placeholder:"...",value:f,onChange:w=>m(w.target.value)})]}),o.jsx("button",{className:Ae.submitButton,onClick:ft,disabled:!i||p,children:p?"...":_e?"":""})]}),o.jsxs("div",{className:Ae.quotaCard,children:[o.jsx("div",{className:Ae.quotaHeader,children:" "}),o.jsxs("div",{className:Ae.rulesList,children:[o.jsxs("div",{className:Ae.ruleItem,children:[o.jsx("span",{className:Ae.ruleLabel,children:""}),o.jsx("span",{className:Ae.ruleValue,children:j?.preleaveOpenMonth||""})]}),o.jsxs("div",{className:Ae.ruleItem,children:[o.jsx("span",{className:Ae.ruleLabel,children:""}),o.jsxs("span",{className:`${Ae.ruleValue} ${F?Ae.expired:""}`,children:[j?.preleaveDeadline||"",F&&" ()"]})]}),o.jsxs("div",{className:Ae.ruleItem,children:[o.jsx("span",{className:Ae.ruleLabel,children:""}),o.jsxs("span",{className:Ae.ruleValue,children:[j?.maxLeavePerDay||2," "]})]}),o.jsxs("div",{className:Ae.ruleItem,children:[o.jsx("span",{className:Ae.ruleLabel,children:""}),o.jsxs("span",{className:Ae.ruleValue,children:[j?.maxLeavePerMonth||8," "]})]})]})]})]}),o.jsxs("div",{className:Ae.historySection,children:[o.jsxs("h2",{className:Ae.historyTitle,children:[" (",x.length," )"]}),o.jsx("div",{className:Ae.historyTable,children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:x.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:""})}):x.map(w=>o.jsxs("tr",{children:[o.jsx("td",{children:w.date}),o.jsx("td",{children:o.jsx("span",{className:Ae.shiftTag,style:{background:"rgba(168, 85, 247, 0.2)",color:"#7c3aed"},children:w.leaveType})}),o.jsx("td",{children:w.reason}),o.jsx("td",{children:o.jsxs("span",{className:`${Ae.statusBadge} ${Ae[w.status]}`,children:[w.status==="pending"&&o.jsx(Tn,{size:12}),w.status==="approved"&&o.jsx(Nn,{size:12}),w.status==="rejected"&&o.jsx(ls,{size:12}),w.status==="pending"?"":w.status==="approved"?"":""]})}),o.jsxs("td",{children:[w.status==="pending"&&o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("span",{className:Ae.editLink,onClick:()=>mt(w),style:{color:"#3B82F6",cursor:"pointer"},children:""}),o.jsx("span",{className:Ae.cancelLink,onClick:()=>I(w.id),children:""})]}),w.status!=="pending"&&"-"]})]},w.id))})]})})]})]})},q3="_pageContainer_161zy_1",H3="_mainContent_161zy_7",I3="_pageHeader_161zy_13",G3="_pageTitle_161zy_17",P3="_pageSubtitle_161zy_24",V3="_sectionTitle_161zy_30",Y3="_quotaSection_161zy_38",K3="_quotaGrid_161zy_45",F3="_quotaCard_161zy_51",X3="_quotaIcon_161zy_60",Q3="_quotaInfo_161zy_70",J3="_quotaLabel_161zy_75",W3="_quotaValue_161zy_80",Z3="_formSection_161zy_87",e4="_formCard_161zy_94",t4="_formRow_161zy_100",a4="_typeButtons_161zy_112",n4="_typeBtn_161zy_118",s4="_active_161zy_134",i4="_dateInput_161zy_140",r4="_textInput_161zy_141",l4="_submitBtn_161zy_161",o4="_historySection_161zy_182",c4="_historyTable_161zy_189",u4="_emptyRow_161zy_217",d4="_leaveTag_161zy_223",h4="_statusBadge_161zy_233",f4="_pending_161zy_243",m4="_approved_161zy_248",p4="_rejected_161zy_253",Se={pageContainer:q3,mainContent:H3,pageHeader:I3,pageTitle:G3,pageSubtitle:P3,sectionTitle:V3,quotaSection:Y3,quotaGrid:K3,quotaCard:F3,quotaIcon:X3,quotaInfo:Q3,quotaLabel:J3,quotaValue:W3,formSection:Z3,formCard:e4,formRow:t4,typeButtons:a4,typeBtn:n4,active:s4,dateInput:i4,textInput:r4,submitBtn:l4,historySection:o4,historyTable:c4,emptyRow:u4,leaveTag:d4,statusBadge:h4,pending:f4,approved:m4,rejected:p4},v_=[{key:"annual",label:"",color:"#3B82F6"},{key:"compensatory",label:"",color:"#8B5CF6"},{key:"sick",label:"",color:"#EF4444"},{key:"personal",label:"",color:"#F59E0B"},{key:"official",label:"",color:"#10B981"},{key:"marriage",label:"",color:"#EC4899"},{key:"bereavement",label:"",color:"#6B7280"}],kv=()=>{const[n,a]=S.useState(null),[i,r]=S.useState([]),[c,d]=S.useState(null),[f,m]=S.useState(!0),[p,g]=S.useState("annual"),[v,y]=S.useState(""),[x,E]=S.useState(""),[C,N]=S.useState(""),[k,O]=S.useState(!1);S.useEffect(()=>{D()},[]);const D=async()=>{m(!0);const[j,q]=await Promise.all([$t.getCurrent(),rl.get("N-1003")]);if(j.success){a(j.data);const ae=await Ct.getByStaff(j.data.id);ae.success&&r(ae.data.filter(Z=>Z.leaveType!==""&&Z.leaveType!==""))}q.success&&d(q.data),m(!1)},M=async()=>{if(!n||!v)return;O(!0),(await Ct.add({staffId:n.id,staffName:n.name,date:v,type:"leave",leaveType:v_.find(q=>q.key===p)?.label||"",reason:C,status:"pending"})).success&&(alert(""),y(""),E(""),N(""),await D()),O(!1)};return f?o.jsx("div",{children:"..."}):o.jsx("div",{className:Se.pageContainer,children:o.jsxs("div",{className:Se.mainContent,children:[o.jsxs("div",{className:Se.pageHeader,children:[o.jsx("h1",{className:Se.pageTitle,children:""}),o.jsx("p",{className:Se.pageSubtitle,children:""})]}),o.jsxs("div",{className:Se.quotaSection,children:[o.jsx("h2",{className:Se.sectionTitle,children:""}),o.jsxs("div",{className:Se.quotaGrid,children:[o.jsxs("div",{className:Se.quotaCard,children:[o.jsx("div",{className:Se.quotaIcon,style:{background:"#3B82F6"},children:o.jsx(qa,{size:20})}),o.jsxs("div",{className:Se.quotaInfo,children:[o.jsx("span",{className:Se.quotaLabel,children:""}),o.jsxs("span",{className:Se.quotaValue,children:[c?.annualLeaveRemaining||0," / ",c?.annualLeaveTotal||14," "]})]})]}),o.jsxs("div",{className:Se.quotaCard,children:[o.jsx("div",{className:Se.quotaIcon,style:{background:"#EF4444"},children:o.jsx(sn,{size:20})}),o.jsxs("div",{className:Se.quotaInfo,children:[o.jsx("span",{className:Se.quotaLabel,children:""}),o.jsx("span",{className:Se.quotaValue,children:"30  / "})]})]}),o.jsxs("div",{className:Se.quotaCard,children:[o.jsx("div",{className:Se.quotaIcon,style:{background:"#F59E0B"},children:o.jsx(sn,{size:20})}),o.jsxs("div",{className:Se.quotaInfo,children:[o.jsx("span",{className:Se.quotaLabel,children:""}),o.jsx("span",{className:Se.quotaValue,children:"14  / "})]})]}),o.jsxs("div",{className:Se.quotaCard,children:[o.jsx("div",{className:Se.quotaIcon,style:{background:"#6B7280"},children:o.jsx(Tn,{size:20})}),o.jsxs("div",{className:Se.quotaInfo,children:[o.jsx("span",{className:Se.quotaLabel,children:""}),o.jsxs("span",{className:Se.quotaValue,children:[c?.compensatoryHours||0," "]})]})]})]})]}),o.jsxs("div",{className:Se.formSection,children:[o.jsx("h2",{className:Se.sectionTitle,children:""}),o.jsxs("div",{className:Se.formCard,children:[o.jsxs("div",{className:Se.formRow,children:[o.jsx("label",{children:""}),o.jsx("div",{className:Se.typeButtons,children:v_.map(j=>o.jsx("button",{className:`${Se.typeBtn} ${p===j.key?Se.active:""}`,style:{"--type-color":j.color},onClick:()=>g(j.key),children:j.label},j.key))})]}),o.jsxs("div",{className:Se.formRow,children:[o.jsx("label",{children:""}),o.jsx("input",{type:"date",value:v,onChange:j=>y(j.target.value),className:Se.dateInput})]}),o.jsxs("div",{className:Se.formRow,children:[o.jsx("label",{children:""}),o.jsx("input",{type:"date",value:x,onChange:j=>E(j.target.value),className:Se.dateInput})]}),o.jsxs("div",{className:Se.formRow,children:[o.jsx("label",{children:""}),o.jsx("textarea",{value:C,onChange:j=>N(j.target.value),placeholder:"...",className:Se.textInput})]}),o.jsx("button",{className:Se.submitBtn,onClick:M,disabled:!v||k,children:k?"...":""})]})]}),o.jsxs("div",{className:Se.historySection,children:[o.jsx("h2",{className:Se.sectionTitle,children:""}),o.jsx("div",{className:Se.historyTable,children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:i.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:Se.emptyRow,children:""})}):i.map(j=>o.jsxs("tr",{children:[o.jsx("td",{children:j.date}),o.jsx("td",{children:o.jsx("span",{className:Se.leaveTag,children:j.leaveType})}),o.jsx("td",{children:j.reason||"-"}),o.jsx("td",{children:o.jsxs("span",{className:`${Se.statusBadge} ${Se[j.status]}`,children:[j.status==="pending"&&o.jsx(Tn,{size:12}),j.status==="approved"&&o.jsx(Nn,{size:12}),j.status==="rejected"&&o.jsx(ls,{size:12}),j.status==="pending"?"":j.status==="approved"?"":""]})})]},j.id))})]})})]})]})})},g4="_container_iy5ek_1",_4="_tabHeader_iy5ek_7",v4="_tab_iy5ek_7",y4="_active_iy5ek_35",b4="_tabContent_iy5ek_40",As={container:g4,tabHeader:_4,tab:v4,active:y4,tabContent:b4},w4=()=>{const[n,a]=S.useState("preleave");return o.jsxs("div",{className:As.container,children:[o.jsxs("div",{className:As.tabHeader,children:[o.jsxs("button",{className:`${As.tab} ${n==="preleave"?As.active:""}`,onClick:()=>a("preleave"),children:[o.jsx(qa,{size:18}),""]}),o.jsxs("button",{className:`${As.tab} ${n==="leave"?As.active:""}`,onClick:()=>a("leave"),children:[o.jsx(sn,{size:18}),""]})]}),o.jsxs("div",{className:As.tabContent,children:[n==="preleave"&&o.jsx(Tv,{}),n==="leave"&&o.jsx(kv,{})]})]})},x4="_panel_ia3bk_1",S4="_header_ia3bk_29",j4="_dateInfo_ia3bk_38",N4="_dateTitle_ia3bk_44",E4="_dateWeekday_ia3bk_51",C4="_closeBtn_ia3bk_56",T4="_myShiftSection_ia3bk_68",k4="_sectionLabel_ia3bk_72",O4="_myShiftBadge_ia3bk_80",A4="_shiftCode_ia3bk_89",R4="_shiftName_ia3bk_94",D4="_staffSection_ia3bk_99",M4="_sectionHeader_ia3bk_105",B4="_shiftGroup_ia3bk_114",$4="_shiftGroupHeader_ia3bk_120",z4="_shiftIndicator_ia3bk_128",L4="_shiftGroupName_ia3bk_134",U4="_shiftTime_ia3bk_139",q4="_staffCount_ia3bk_144",H4="_staffList_ia3bk_153",I4="_staffItem_ia3bk_159",G4="_staffInfo_ia3bk_168",P4="_staffName_ia3bk_174",V4="_staffLevel_ia3bk_179",Y4="_swapBtn_ia3bk_187",ht={panel:x4,header:S4,dateInfo:j4,dateTitle:N4,dateWeekday:E4,closeBtn:C4,myShiftSection:T4,sectionLabel:k4,myShiftBadge:O4,shiftCode:A4,shiftName:R4,staffSection:D4,sectionHeader:M4,shiftGroup:B4,shiftGroupHeader:$4,shiftIndicator:z4,shiftGroupName:L4,shiftTime:U4,staffCount:q4,staffList:H4,staffItem:I4,staffInfo:G4,staffName:P4,staffLevel:V4,swapBtn:Y4},y_={D:"#3B82F6",E:"#F59E0B",N:"#6366F1",OFF:"#94A3B8"},K4=({date:n,schedule:a,staffList:i,shifts:r,currentUserShift:c,onClose:d,onRequestSwap:f})=>{const m=a.reduce((x,E)=>{const C=E.shiftCode;return x[C]||(x[C]=[]),x[C].push(E),x},{}),p=x=>i.find(E=>E.id===x)?.name||x,g=x=>i.find(E=>E.id===x)?.level||"",v=x=>r.find(E=>E.code===x),y=["D","E","N","OFF"].filter(x=>m[x]?.length);return o.jsxs("div",{className:ht.panel,children:[o.jsxs("div",{className:ht.header,children:[o.jsxs("div",{className:ht.dateInfo,children:[o.jsx("h3",{className:ht.dateTitle,children:je(n,"Md",{locale:da})}),o.jsx("span",{className:ht.dateWeekday,children:je(n,"EEEE",{locale:da})})]}),o.jsx("button",{className:ht.closeBtn,onClick:d,children:o.jsx(cs,{size:18})})]}),c&&o.jsxs("div",{className:ht.myShiftSection,children:[o.jsx("div",{className:ht.sectionLabel,children:""}),o.jsxs("div",{className:ht.myShiftBadge,style:{background:y_[c.shiftCode]||"#94A3B8"},children:[o.jsx("span",{className:ht.shiftCode,children:c.shiftCode}),o.jsx("span",{className:ht.shiftName,children:v(c.shiftCode)?.name})]})]}),o.jsxs("div",{className:ht.staffSection,children:[o.jsxs("div",{className:ht.sectionHeader,children:[o.jsx(Eh,{size:14}),""]}),y.map(x=>{const E=m[x]||[],C=v(x);return o.jsxs("div",{className:ht.shiftGroup,children:[o.jsxs("div",{className:ht.shiftGroupHeader,children:[o.jsx("span",{className:ht.shiftIndicator,style:{background:y_[x]||"#94A3B8"}}),o.jsx("span",{className:ht.shiftGroupName,children:C?.name||x}),o.jsxs("span",{className:ht.shiftTime,children:[C?.startTime," - ",C?.endTime]}),o.jsxs("span",{className:ht.staffCount,children:[E.length," "]})]}),o.jsx("div",{className:ht.staffList,children:E.map(N=>o.jsxs("div",{className:ht.staffItem,children:[o.jsxs("div",{className:ht.staffInfo,children:[o.jsx("span",{className:ht.staffName,children:p(N.staffId)}),o.jsx("span",{className:ht.staffLevel,children:g(N.staffId)})]}),f&&N.staffId!==c?.staffId&&x!=="OFF"&&o.jsxs("button",{className:ht.swapBtn,onClick:()=>f(N.staffId),children:[o.jsx(ec,{size:12}),""]})]},N.staffId))})]},x)})]})]})},F4="_overlay_1mutb_1",X4="_modal_1mutb_14",Q4="_header_1mutb_26",J4="_title_1mutb_34",W4="_closeBtn_1mutb_43",Z4="_content_1mutb_58",eO="_dateInfo_1mutb_64",tO="_myShift_1mutb_74",aO="_formGroup_1mutb_79",nO="_staffList_1mutb_91",sO="_noData_1mutb_99",iO="_staffItem_1mutb_106",rO="_staffName_1mutb_125",lO="_staffShift_1mutb_130",oO="_textarea_1mutb_138",cO="_footer_1mutb_156",uO="_cancelBtn_1mutb_164",dO="_submitBtn_1mutb_179",hO="_swapConfirmation_1mutb_200",fO="_swapParty_1mutb_210",mO="_partyLabel_1mutb_215",pO="_partyInfo_1mutb_221",gO="_partyName_1mutb_228",_O="_partyShift_1mutb_234",vO="_swapArrow_1mutb_243",Ye={overlay:F4,modal:X4,header:Q4,title:J4,closeBtn:W4,content:Z4,dateInfo:eO,myShift:tO,formGroup:aO,staffList:nO,noData:sO,staffItem:iO,staffName:rO,staffShift:lO,textarea:oO,footer:cO,cancelBtn:uO,submitBtn:dO,swapConfirmation:hO,swapParty:fO,partyLabel:mO,partyInfo:pO,partyName:gO,partyShift:_O,swapArrow:vO},yO=({isOpen:n,onClose:a,selectedDate:i,currentUser:r,myShift:c,allSchedule:d,allStaff:f,shifts:m,onSuccess:p,preselectedTargetId:g})=>{const[v,y]=S.useState(""),[x,E]=S.useState(""),[C,N]=S.useState(!1);if(S.useEffect(()=>{n&&g&&y(g)},[n,g]),S.useEffect(()=>{n||(y(""),E(""))},[n]),!n)return null;const k=je(i,"yyyy-MM-dd"),O=d.filter(j=>j.date===k&&j.staffId!==r.id),D=j=>m.find(ae=>ae.code===j)?.name||j,M=async()=>{if(console.log("handleSubmit called"),console.log("selectedTargetId:",v),console.log("otherStaffSchedules:",O),!v){alert("");return}const j=O.find(ae=>ae.staffId===v);if(console.log("targetSchedule:",j),!j){alert("");return}N(!0),console.log("Sending swap request:",{requesterId:r.id,targetId:v,swapDate:k,requesterShift:c?.shiftCode||"OFF",targetShift:j.shiftCode||"OFF",reason:x});const q=await tn.create({requesterId:r.id,targetId:v,swapDate:k,requesterShift:c?.shiftCode||"OFF",targetShift:j.shiftCode||"OFF",reason:x});console.log("Swap API response:",q),q.success?(alert(""),p(),a()):alert(""+q.message),N(!1)};return o.jsx("div",{className:Ye.overlay,onClick:a,children:o.jsxs("div",{className:Ye.modal,onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{className:Ye.header,children:[o.jsxs("h2",{className:Ye.title,children:[o.jsx(ol,{size:20}),""]}),o.jsx("button",{className:Ye.closeBtn,onClick:a,children:o.jsx(cs,{size:20})})]}),o.jsxs("div",{className:Ye.content,children:[o.jsxs("div",{className:Ye.dateInfo,children:[o.jsx("strong",{children:je(i,"Md (EEEE)",{locale:da})}),o.jsxs("span",{className:Ye.myShift,children:["",c?D(c.shiftCode):""]})]}),g?(()=>{const j=O.find(ae=>ae.staffId===g),q=f.find(ae=>ae.id===g);return!j||!q?o.jsx("div",{className:Ye.noData,children:""}):o.jsxs("div",{className:Ye.swapConfirmation,children:[o.jsxs("div",{className:Ye.swapParty,children:[o.jsx("div",{className:Ye.partyLabel,children:""}),o.jsxs("div",{className:Ye.partyInfo,children:[o.jsx("span",{className:Ye.partyName,children:r.name}),o.jsx("span",{className:Ye.partyShift,style:{background:"var(--primary)"},children:c?D(c.shiftCode):""})]})]}),o.jsx("div",{className:Ye.swapArrow,children:""}),o.jsxs("div",{className:Ye.swapParty,children:[o.jsx("div",{className:Ye.partyLabel,children:""}),o.jsxs("div",{className:Ye.partyInfo,children:[o.jsx("span",{className:Ye.partyName,children:q.name}),o.jsx("span",{className:Ye.partyShift,style:{background:"var(--warning)"},children:D(j.shiftCode)})]})]})]})})():o.jsxs("div",{className:Ye.formGroup,children:[o.jsx("label",{children:""}),o.jsx("div",{className:Ye.staffList,children:O.length===0?o.jsx("div",{className:Ye.noData,children:""}):O.map(j=>{const q=f.find(ae=>ae.id===j.staffId);return o.jsxs("label",{className:Ye.staffItem,children:[o.jsx("input",{type:"radio",name:"targetStaff",value:j.staffId,checked:v===j.staffId,onChange:()=>y(j.staffId)}),o.jsx("span",{className:Ye.staffName,children:q?.name||j.staffId}),o.jsx("span",{className:Ye.staffShift,children:D(j.shiftCode)})]},j.staffId)})})]}),o.jsxs("div",{className:Ye.formGroup,children:[o.jsx("label",{children:""}),o.jsx("textarea",{className:Ye.textarea,placeholder:"...",value:x,onChange:j=>E(j.target.value)})]})]}),o.jsxs("div",{className:Ye.footer,children:[o.jsx("button",{className:Ye.cancelBtn,onClick:a,children:""}),o.jsx("button",{className:Ye.submitBtn,onClick:M,disabled:C||!v,children:C?"...":""})]})]})})},bO="_pageContainer_1xm34_1",wO="_calendarHint_1xm34_8",xO="_leftPanel_1xm34_18",SO="_todayCard_1xm34_24",jO="_cardHeader_1xm34_31",NO="_todayShift_1xm34_41",EO="_shiftBadge_1xm34_48",CO="_code_1xm34_60",TO="_label_1xm34_64",kO="_shiftInfo_1xm34_69",OO="_shiftName_1xm34_73",AO="_shiftTime_1xm34_79",RO="_nextShift_1xm34_84",DO="_todoList_1xm34_95",MO="_todoItem_1xm34_99",BO="_todoDot_1xm34_107",$O="_balanceCard_1xm34_114",zO="_balanceHeader_1xm34_121",LO="_balanceTitle_1xm34_128",UO="_viewDetails_1xm34_137",qO="_balanceGrid_1xm34_142",HO="_balanceItem_1xm34_148",IO="_balanceLabel_1xm34_155",GO="_balanceProgress_1xm34_162",PO="_bar_1xm34_170",VO="_balanceValue_1xm34_175",YO="_negative_1xm34_184",KO="_unit_1xm34_188",FO="_mainContent_1xm34_203",XO="_pageHeader_1xm34_209",QO="_headerLeft_1xm34_215",JO="_pageTitle_1xm34_221",WO="_pageSubtitle_1xm34_227",ZO="_headerActions_1xm34_232",eA="_actionButton_1xm34_237",tA="_primary_1xm34_253",aA="_confirmBtn_1xm34_259",nA="_confirmedBadge_1xm34_269",sA="_officialBadge_1xm34_281",iA="_scheduleCalendar_1xm34_293",rA="_rightPanel_1xm34_298",lA="_noticeCard_1xm34_304",oA="_noticeTitle_1xm34_311",cA="_noticeItem_1xm34_321",uA="_warning_1xm34_327",dA="_info_1xm34_332",hA="_noticeItemTitle_1xm34_337",fA="_noticeItemDesc_1xm34_344",mA="_noticeItemTime_1xm34_350",pA="_skillMixCard_1xm34_357",gA="_skillMixTitle_1xm34_364",_A="_skillMixItem_1xm34_374",vA="_skillMixLabel_1xm34_381",yA="_skillMixBar_1xm34_387",bA="_skillMixPercent_1xm34_400",wA="_mobileConfirmBanner_1xm34_532",te={pageContainer:bO,calendarHint:wO,leftPanel:xO,todayCard:SO,cardHeader:jO,todayShift:NO,shiftBadge:EO,code:CO,label:TO,shiftInfo:kO,shiftName:OO,shiftTime:AO,nextShift:RO,todoList:DO,todoItem:MO,todoDot:BO,balanceCard:$O,balanceHeader:zO,balanceTitle:LO,viewDetails:UO,balanceGrid:qO,balanceItem:HO,balanceLabel:IO,balanceProgress:GO,bar:PO,balanceValue:VO,negative:YO,unit:KO,mainContent:FO,pageHeader:XO,headerLeft:QO,pageTitle:JO,pageSubtitle:WO,headerActions:ZO,actionButton:eA,primary:tA,confirmBtn:aA,confirmedBadge:nA,officialBadge:sA,scheduleCalendar:iA,rightPanel:rA,noticeCard:lA,noticeTitle:oA,noticeItem:cA,warning:uA,info:dA,noticeItemTitle:hA,noticeItemDesc:fA,noticeItemTime:mA,skillMixCard:pA,skillMixTitle:gA,skillMixItem:_A,skillMixLabel:vA,skillMixBar:yA,skillMixPercent:bA,mobileConfirmBanner:wA},b_={D:"#3B82F6",E:"#F59E0B",N:"#6366F1",OFF:"#94A3B8"},xA=()=>{const[n,a]=S.useState(new Date),[i,r]=S.useState(null),[c,d]=S.useState(!0),[f,m]=S.useState(!1),[p,g]=S.useState(null),{currentUser:v}=fa(),[y,x]=S.useState([]),[E,C]=S.useState([]),[N,k]=S.useState([]),[O,D]=S.useState(null),[M,j]=S.useState([]),[q,ae]=S.useState(null),{scheduleStatus:Z,confirmSchedule:_e,confirmedStaffIds:Ee}=Wo(),{notifications:Ie}=Xo(),X=n<yh(new Date),Te=X?"official":Z,[ot,ft]=S.useState(!1),mt=v&&(Ee.includes(v.id)||ot);S.useEffect(()=>{v&&(ce(),I())},[v?.id]);const I=async()=>{if(!v)return;const W=je(n,"yyyy-MM"),de=await zi.isConfirmed(v.id,W);de.success&&ft(de.data)},ee=async()=>{if(!v)return;const W=je(n,"yyyy-MM"),de=await zi.confirm(v.id,W);de.success?(ft(!0),_e(v.id),alert("")):alert(""+de.message)};S.useEffect(()=>{v&&J()},[n,v]);const ce=async()=>{if(!v)return;d(!0);const W=n.getFullYear(),de=n.getMonth()+1,[He,Me,aa,ma,Ha]=await Promise.all([rl.get(v.id),$i.getAll(),$t.getAll(),rs.getByStaff(v.id,W,de),rs.getByMonth(W,de)]);if(He.success&&He.data&&D(He.data),Me.success&&j(Me.data),aa.success&&k(aa.data),console.log("[MySchedule] Current user:",v),console.log("[MySchedule] User schedule data:",ma.data),console.log("[MySchedule] All schedule data:",Ha.data),ma.success){x(ma.data);const ka=je(new Date,"yyyy-MM-dd"),Ia=ma.data.find(pa=>pa.date===ka);ae(Ia||null)}Ha.success&&C(Ha.data),d(!1)},J=async()=>{if(!v)return;const W=n.getFullYear(),de=n.getMonth()+1,[He,Me]=await Promise.all([rs.getByStaff(v.id,W,de),rs.getByMonth(W,de)]);if(He.success){x(He.data);const aa=je(new Date,"yyyy-MM-dd"),ma=He.data.find(Ha=>Ha.date===aa);ae(ma||null)}Me.success&&C(Me.data)},F=new Map;y.forEach(W=>{const de=M.find(Me=>Me.code===W.shiftCode),He=b_[W.shiftCode]||de?.color||"#94A3B8";F.set(W.date,{tags:[{type:"shift",label:W.shiftCode==="OFF"?"OFF":`${W.shiftCode}`,color:He}]})});const w=()=>{if(!i)return[];const W=je(i,"yyyy-MM-dd");return E.filter(de=>de.date===W)},R=()=>{if(!i||!v)return;const W=je(i,"yyyy-MM-dd");return y.find(de=>de.date===W&&de.staffId===v.id)},U=W=>{console.log("handleRequestSwap called with:",W),g(W),m(!0)},ne=(()=>{if(!q)return{code:"-",name:"",time:"-",color:"#94A3B8"};const W=M.find(de=>de.code===q.shiftCode);return{code:q.shiftCode,name:W?.name||q.shiftCode,time:W?`${W.startTime}-${W.endTime}`:"-",color:b_[q.shiftCode]||"#94A3B8"}})();return c?o.jsx("div",{children:"..."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:te.pageContainer,children:[o.jsxs("div",{className:te.leftPanel,children:[o.jsxs("div",{className:te.todayCard,children:[o.jsxs("div",{className:te.cardHeader,children:[o.jsx(Hj,{size:16}),""]}),o.jsxs("div",{className:te.todayShift,children:[o.jsxs("div",{className:te.shiftBadge,style:{background:ne.color},children:[o.jsx("span",{className:te.code,children:ne.code}),o.jsx("span",{className:te.label,children:ne.code==="OFF"?"OFF":ne.code})]}),o.jsxs("div",{className:te.shiftInfo,children:[o.jsx("div",{className:te.shiftName,children:ne.name}),o.jsx("div",{className:te.shiftTime,children:ne.time})]})]}),o.jsxs("div",{className:te.nextShift,children:[" ",v?.name||"",""]}),o.jsxs("div",{className:te.todoList,children:[o.jsx("div",{className:te.cardHeader,style:{marginTop:"var(--spacing-md)"},children:""}),Te==="draft"&&!mt&&o.jsxs("div",{className:te.todoItem,children:[o.jsx("span",{className:te.todoDot,style:{background:"var(--danger)"}}),""]}),o.jsxs("div",{className:te.todoItem,children:[o.jsx("span",{className:te.todoDot,style:{background:"var(--warning)"}}),y.length," "]})]})]}),o.jsxs("div",{className:te.balanceCard,children:[o.jsxs("div",{className:te.balanceHeader,children:[o.jsxs("div",{className:te.balanceTitle,children:[o.jsx(c2,{size:16}),""]}),o.jsx(hh,{to:"/nurse/preleave",className:te.viewDetails,children:" >"})]}),o.jsxs("div",{className:te.balanceGrid,children:[o.jsxs("div",{className:te.balanceItem,children:[o.jsx("div",{className:te.balanceLabel,children:""}),o.jsx("div",{className:te.balanceProgress,children:o.jsx("div",{className:te.bar,style:{width:`${(O?.annualLeaveRemaining||0)/(O?.annualLeaveTotal||14)*100}%`,background:"var(--success)"}})}),o.jsxs("div",{className:te.balanceValue,children:[O?.annualLeaveRemaining||0,o.jsx("span",{className:te.unit,children:" "})]})]}),o.jsxs("div",{className:te.balanceItem,children:[o.jsx("div",{className:te.balanceLabel,children:""}),o.jsx("div",{className:te.balanceProgress,children:o.jsx("div",{className:te.bar,style:{width:"50%",background:"var(--primary)"}})}),o.jsxs("div",{className:te.balanceValue,children:[O?.compensatoryHours||0,o.jsx("span",{className:te.unit,children:" "})]})]}),o.jsxs("div",{className:te.balanceItem,children:[o.jsx("div",{className:te.balanceLabel,children:""}),o.jsx("div",{className:te.balanceProgress,children:o.jsx("div",{className:te.bar,style:{width:"20%",background:"var(--danger)"}})}),o.jsxs("div",{className:`${te.balanceValue} ${te.negative}`,children:[O?.debtHours||0,o.jsx("span",{className:te.unit,children:" "})]})]})]})]})]}),o.jsxs("div",{className:te.mainContent,children:[o.jsxs("div",{className:te.pageHeader,children:[o.jsxs("div",{className:te.headerLeft,children:[o.jsx("h1",{className:te.pageTitle,children:""}),o.jsx("span",{className:te.pageSubtitle,children:je(new Date,"yyyy M d (EEEE)",{locale:da})})]}),o.jsxs("div",{className:te.headerActions,children:[Te==="draft"&&o.jsxs(o.Fragment,{children:[mt?o.jsxs("div",{className:te.confirmedBadge,children:[o.jsx(zs,{size:16})," "]}):o.jsxs("button",{className:`${te.actionButton} ${te.confirmBtn}`,onClick:ee,children:[o.jsx(zs,{size:16}),""]}),o.jsxs("button",{className:te.actionButton,onClick:()=>{i?m(!0):alert("")},children:[o.jsx(ec,{size:16}),""]})]}),Te==="official"&&o.jsxs("div",{className:te.officialBadge,children:[X?o.jsx(vN,{size:16}):o.jsx(sn,{size:16}),X?"":""]}),o.jsxs("button",{className:`${te.actionButton} ${te.primary}`,children:[o.jsx(sn,{size:16}),""]})]})]}),o.jsx("div",{className:te.calendarHint,children:" "}),o.jsx("div",{className:te.scheduleCalendar,children:o.jsx(Cv,{currentMonth:n,onMonthChange:a,selectedDate:i,onDateSelect:r,dayDataMap:F})})]}),o.jsx("div",{className:te.rightPanel,children:i?o.jsx(K4,{date:i,schedule:w(),staffList:N,shifts:M,currentUserShift:R(),onClose:()=>r(null),onRequestSwap:U}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:te.noticeCard,children:[o.jsxs("div",{className:te.noticeTitle,children:[o.jsx(Ls,{size:16})," Notices"]}),Ie.map(W=>o.jsxs("div",{className:`${te.noticeItem} ${W.type==="swap_pending"?te.warning:te.info}`,children:[o.jsxs("div",{className:te.noticeItemTitle,children:[W.type==="swap_pending"?o.jsx(ol,{size:14}):W.type==="warning"?o.jsx(Nh,{size:14}):o.jsx(th,{size:14}),W.title]}),o.jsx("div",{className:te.noticeItemDesc,children:W.message}),o.jsxs("div",{className:te.noticeItemTime,children:[W.time,"  "]})]},W.id)),Ie.length===0&&o.jsxs("div",{className:`${te.noticeItem} ${te.info}`,children:[o.jsxs("div",{className:te.noticeItemTitle,children:[o.jsx(th,{size:14})," "]}),o.jsx("div",{className:te.noticeItemDesc,children:""})]})]}),o.jsxs("div",{className:te.skillMixCard,children:[o.jsxs("div",{className:te.skillMixTitle,children:[o.jsx(Vj,{size:16})," Skill Mix"]}),o.jsxs("div",{className:te.skillMixItem,children:[o.jsx("span",{className:te.skillMixLabel,children:"N4 ( Leader)"}),o.jsx("div",{className:te.skillMixBar,children:o.jsx("div",{className:te.bar,style:{width:"20%",background:"#F59E0B"}})}),o.jsx("span",{className:te.skillMixPercent,children:"20%"})]}),o.jsxs("div",{className:te.skillMixItem,children:[o.jsx("span",{className:te.skillMixLabel,children:"N3 ( Advanced)"}),o.jsx("div",{className:te.skillMixBar,children:o.jsx("div",{className:te.bar,style:{width:"40%",background:"#3B82F6"}})}),o.jsx("span",{className:te.skillMixPercent,children:"40%"})]}),o.jsxs("div",{className:te.skillMixItem,children:[o.jsx("span",{className:te.skillMixLabel,children:"N2 ( Competent)"}),o.jsx("div",{className:te.skillMixBar,children:o.jsx("div",{className:te.bar,style:{width:"30%",background:"#10B981"}})}),o.jsx("span",{className:te.skillMixPercent,children:"30%"})]}),o.jsxs("div",{className:te.skillMixItem,children:[o.jsx("span",{className:te.skillMixLabel,children:"N0/N1 ( Novice)"}),o.jsx("div",{className:te.skillMixBar,children:o.jsx("div",{className:te.bar,style:{width:"10%",background:"#94A3B8"}})}),o.jsx("span",{className:te.skillMixPercent,children:"10%"})]})]})]})})]}),i&&v&&o.jsx(yO,{isOpen:f,onClose:()=>{m(!1),g(null)},selectedDate:i,currentUser:v,myShift:R(),allSchedule:E,allStaff:N,shifts:M,onSuccess:()=>ce(),preselectedTargetId:p||void 0}),Te==="draft"&&!mt&&o.jsxs("div",{className:te.mobileConfirmBanner,children:[o.jsx("span",{children:" "}),o.jsxs("button",{onClick:ee,children:[o.jsx(zs,{size:16}),""]})]})]})},SA="_page_3tdth_1",jA="_header_3tdth_7",NA="_title_3tdth_11",EA="_tabs_3tdth_20",CA="_tab_3tdth_20",TA="_active_3tdth_45",kA="_content_3tdth_50",OA="_table_3tdth_56",AA="_empty_3tdth_80",RA="_status_3tdth_86",DA="_actions_3tdth_94",MA="_acceptBtn_3tdth_99",BA="_rejectBtn_3tdth_100",$A="_loading_3tdth_129",vt={page:SA,header:jA,title:NA,tabs:EA,tab:CA,active:TA,content:kA,table:OA,empty:AA,status:RA,actions:DA,acceptBtn:MA,rejectBtn:BA,loading:$A},zA={pending:{label:"",color:"var(--warning)",icon:Tn},accepted:{label:"",color:"var(--primary)",icon:al},rejected_by_target:{label:"",color:"var(--error)",icon:ls},approved:{label:"",color:"var(--success)",icon:Nn},rejected:{label:"",color:"var(--error)",icon:ls}},LA=()=>{const{currentUser:n,hasPermission:a}=fa(),[i,r]=S.useState([]),[c,d]=S.useState(!0),[f,m]=S.useState("my"),p=a("view_settings");S.useEffect(()=>{g()},[n]);const g=async()=>{if(!n)return;d(!0);const j=await tn.getByStaff(n.id);j.success&&r(j.data),d(!1)},v=i.filter(j=>j.requesterId===n?.id),y=i.filter(j=>j.targetId===n?.id&&j.status==="pending"),[x,E]=S.useState([]);S.useEffect(()=>{p&&tn.getPendingForAdmin().then(j=>{j.success&&E(j.data)})},[p]);const C=async j=>{console.log("[ShiftSwap] handleTargetAccept called with id:",j);try{const q=await tn.targetAccept(j);console.log("[ShiftSwap] targetAccept response:",q),q.success?(alert(""),g()):alert(": "+q.message)}catch(q){console.error("[ShiftSwap] Error:",q),alert("")}},N=async j=>{console.log("[ShiftSwap] handleTargetReject called with id:",j);try{const q=await tn.targetReject(j);console.log("[ShiftSwap] targetReject response:",q),q.success?(alert(""),g()):alert(": "+q.message)}catch(q){console.error("[ShiftSwap] Error:",q),alert("")}},k=async j=>{console.log("[ShiftSwap] handleAdminApprove called with id:",j);try{const q=await tn.adminApprove(j);console.log("[ShiftSwap] adminApprove response:",q),q.success?(alert(""),g(),tn.getPendingForAdmin().then(ae=>ae.success&&E(ae.data))):alert(": "+q.message)}catch(q){console.error("[ShiftSwap] Error:",q),alert("")}},O=async j=>{console.log("[ShiftSwap] handleAdminReject called with id:",j);try{const q=await tn.adminReject(j);console.log("[ShiftSwap] adminReject response:",q),q.success?(alert(""),g(),tn.getPendingForAdmin().then(ae=>ae.success&&E(ae.data))):alert(": "+q.message)}catch(q){console.error("[ShiftSwap] Error:",q),alert("")}},D=j=>{const q=zA[j],ae=q.icon;return o.jsxs("span",{className:vt.status,style:{color:q.color},children:[o.jsx(ae,{size:14}),q.label]})},M=(j,q=null)=>o.jsxs("tr",{children:[o.jsx("td",{children:je(new Date(j.swapDate),"M/d (E)",{locale:da})}),o.jsx("td",{"data-label":"",children:j.requesterName}),o.jsxs("td",{"data-label":"",children:[j.requesterShift,"  ",j.targetShift]}),o.jsx("td",{"data-label":"",children:j.targetName}),o.jsx("td",{"data-label":"",children:D(j.status)}),o.jsxs("td",{children:[q==="target"&&o.jsxs("div",{className:vt.actions,children:[o.jsx("button",{className:vt.acceptBtn,onClick:()=>C(j.id),children:""}),o.jsx("button",{className:vt.rejectBtn,onClick:()=>N(j.id),children:""})]}),q==="admin"&&o.jsxs("div",{className:vt.actions,children:[o.jsx("button",{className:vt.acceptBtn,onClick:()=>k(j.id),children:""}),o.jsx("button",{className:vt.rejectBtn,onClick:()=>O(j.id),children:""})]}),!q&&"-"]})]},j.id);return c?o.jsx("div",{className:vt.loading,children:"..."}):o.jsxs("div",{className:vt.page,children:[o.jsx("div",{className:vt.header,children:o.jsxs("h1",{className:vt.title,children:[o.jsx(ol,{size:24}),""]})}),o.jsxs("div",{className:vt.tabs,children:[o.jsxs("button",{className:`${vt.tab} ${f==="my"?vt.active:""}`,onClick:()=>m("my"),children:[" (",v.length,")"]}),o.jsxs("button",{className:`${vt.tab} ${f==="pending"?vt.active:""}`,onClick:()=>m("pending"),children:[" (",y.length,")"]}),p&&o.jsxs("button",{className:`${vt.tab} ${f==="admin"?vt.active:""}`,onClick:()=>m("admin"),children:[" (",x.length,")"]})]}),o.jsx("div",{className:vt.content,children:o.jsxs("table",{className:vt.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsxs("tbody",{children:[f==="my"&&(v.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:vt.empty,children:""})}):v.map(j=>M(j))),f==="pending"&&(y.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:vt.empty,children:""})}):y.map(j=>M(j,"target"))),f==="admin"&&p&&(x.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:vt.empty,children:""})}):x.map(j=>M(j,"admin")))]})]})})]})},UA="_pageContainer_r7okh_1",qA="_pageHeader_r7okh_8",HA="_headerLeft_r7okh_15",IA="_pageTitle_r7okh_21",GA="_monthNav_r7okh_28",PA="_monthTitle_r7okh_50",VA="_headerActions_r7okh_58",YA="_statusIndicator_r7okh_64",KA="_warning_r7okh_75",FA="_success_r7okh_79",XA="_resetBtn_r7okh_83",QA="_saveBtn_r7okh_84",JA="_publishBtn_r7okh_85",WA="_officialBtn_r7okh_86",ZA="_autoBtn_r7okh_87",eR="_exportBtn_r7okh_108",tR="_shiftPalette_r7okh_170",aR="_paletteLabel_r7okh_180",nR="_shiftChip_r7okh_186",sR="_chipCode_r7okh_207",iR="_chipName_r7okh_212",rR="_gridWrapper_r7okh_217",lR="_headerRow_r7okh_227",oR="_bodyContainer_r7okh_235",cR="_dataRow_r7okh_242",uR="_stickyLeft_r7okh_252",dR="_scrollableDates_r7okh_262",hR="_datesRow_r7okh_298",fR="_stickyRight_r7okh_304",mR="_headerCell_r7okh_315",pR="_staffHeader_r7okh_328",gR="_dateHeader_r7okh_334",_R="_weekend_r7okh_341",vR="_dateNum_r7okh_345",yR="_dateName_r7okh_351",bR="_statsHeader_r7okh_356",wR="_staffCell_r7okh_361",xR="_staffName_r7okh_370",SR="_staffLevel_r7okh_377",jR="_shiftCell_r7okh_386",NR="_changed_r7okh_405",ER="_violation_r7okh_410",CR="_weekendCell_r7okh_441",TR="_shiftCode_r7okh_445",kR="_leaveIcon_r7okh_450",OR="_statsCell_r7okh_461",AR="_statItem_r7okh_474",RR="_statLabel_r7okh_480",DR="_statValue_r7okh_484",MR="_summaryFooter_r7okh_490",BR="_summaryItem_r7okh_499",$R="_summaryLabel_r7okh_505",zR="_summaryValue_r7okh_512",LR="_loading_r7okh_518",UR="_externalStaff_r7okh_527",qR="_staffInfo_r7okh_532",HR="_supportBadge_r7okh_538",IR="_removeSupportBtn_r7okh_551",GR="_addSupportRow_r7okh_564",PR="_addSupportBtn_r7okh_571",VR="_modalOverlay_r7okh_589",YR="_modalContent_r7okh_602",KR="_supportList_r7okh_617",FR="_supportItem_r7okh_626",XR="_supportInfo_r7okh_642",QR="_supportName_r7okh_648",JR="_supportUnit_r7okh_653",WR="_selectBtn_r7okh_661",ZR="_emptySupport_r7okh_667",eD="_closeModalBtn_r7okh_673",Q={pageContainer:UA,pageHeader:qA,headerLeft:HA,pageTitle:IA,monthNav:GA,monthTitle:PA,headerActions:VA,statusIndicator:YA,warning:KA,success:FA,resetBtn:XA,saveBtn:QA,publishBtn:JA,officialBtn:WA,autoBtn:ZA,exportBtn:eR,shiftPalette:tR,paletteLabel:aR,shiftChip:nR,chipCode:sR,chipName:iR,gridWrapper:rR,headerRow:lR,bodyContainer:oR,dataRow:cR,stickyLeft:uR,scrollableDates:dR,datesRow:hR,stickyRight:fR,headerCell:mR,staffHeader:pR,dateHeader:gR,weekend:_R,dateNum:vR,dateName:yR,statsHeader:bR,staffCell:wR,staffName:xR,staffLevel:SR,shiftCell:jR,changed:NR,violation:ER,weekendCell:CR,shiftCode:TR,leaveIcon:kR,statsCell:OR,statItem:AR,statLabel:RR,statValue:DR,summaryFooter:MR,summaryItem:BR,summaryLabel:$R,summaryValue:zR,loading:LR,externalStaff:UR,staffInfo:qR,supportBadge:HR,removeSupportBtn:IR,addSupportRow:GR,addSupportBtn:PR,modalOverlay:VR,modalContent:YR,supportList:KR,supportItem:FR,supportInfo:XR,supportName:QR,supportUnit:JR,selectBtn:WR,emptySupport:ZR,closeModalBtn:eD},Ov=(n,a,i)=>{const r=new Map,c=[...i].sort((f,m)=>f.getTime()-m.getTime());let d=0;return c.forEach(f=>{const m=je(f,"yyyy-MM-dd"),p=`${n}-${m}`;if((a.get(p)||"OFF")!=="OFF"?d++:d=0,d>6){const v=r.get(m)||[];r.set(m,[...v,{type:"consecutive_days",date:m,message:" 6  ()",severity:"error"}])}}),c.forEach(f=>{const m=je(f,"yyyy-MM-dd"),p=`${n}-${m}`,g=a.get(p)||"OFF",v=Tj(f),y=`${n}-${je(v,"yyyy-MM-dd")}`;if((a.get(y)||"OFF")==="N"&&g==="D"){const E=r.get(m)||[];r.set(m,[...E,{type:"interval_error",date:m,message:"",severity:"error"}])}}),r},tD=(n,a,i,r,c=[],d=new Map)=>{const f=new Map(n),m=hv({start:i,end:r});let p=0;const g={D:3,E:2,N:2};return m.forEach(v=>{const y=je(v,"yyyy-MM-dd"),x={D:0,E:0,N:0};a.forEach(C=>{const N=f.get(`${C.id}-${y}`)||"OFF";N in x&&x[N]++});const E={D:Math.max(0,g.D-x.D),E:Math.max(0,g.E-x.E),N:Math.max(0,g.N-x.N)};["N","E","D"].forEach(C=>{for(;E[C]>0;){let N=null,k=-1/0;if(a.forEach(O=>{const D=`${O.id}-${y}`;if(f.has(D)&&f.get(D)!=="OFF"||c.some(Z=>Z.staffId===O.id&&Z.date===y&&Z.status==="approved"))return;let j=0;f.set(`${O.id}-${y}`,C);const q=Ov(O.id,f,m);if(Array.from(q.values()).some(Z=>Z.length>0))j=-1e4;else{const Z=m.filter(Ie=>{const X=`${O.id}-${je(Ie,"yyyy-MM-dd")}`;return f.get(X)&&f.get(X)!=="OFF"}).length;j-=Z*10;const _e=je(new Date(v.getTime()-864e5),"yyyy-MM-dd");(f.get(`${O.id}-${_e}`)||d.get(`${O.id}-${_e}`))===C&&(j+=20)}f.delete(`${O.id}-${y}`),j>k&&(k=j,N=O)}),N&&k>-5e3)f.set(`${N.id}-${y}`,C),E[C]--,p++;else break}})}),m.forEach(v=>{const y=je(v,"yyyy-MM-dd");a.forEach(x=>{const E=`${x.id}-${y}`;f.has(E)||f.set(E,"OFF")})}),{newSchedule:f,filledCount:p}},aD="_overlay_14v5z_1",nD="_modal_14v5z_14",sD="_header_14v5z_25",iD="_staffInfo_14v5z_33",rD="_avatar_14v5z_39",lD="_title_14v5z_52",oD="_subtitle_14v5z_59",cD="_closeBtn_14v5z_64",uD="_content_14v5z_82",dD="_loading_14v5z_87",hD="_balanceGrid_14v5z_94",fD="_balanceCard_14v5z_101",mD="_balanceLabel_14v5z_109",pD="_balanceValue_14v5z_115",gD="_unit_14v5z_122",_D="_balanceSub_14v5z_127",vD="_primary_14v5z_132",yD="_info_14v5z_136",bD="_danger_14v5z_140",wD="_sectionTitle_14v5z_145",xD="_historyList_14v5z_155",SD="_historyItem_14v5z_161",jD="_historyDate_14v5z_170",ND="_weekDay_14v5z_177",ED="_historyDetail_14v5z_183",CD="_historyMeta_14v5z_191",TD="_historyType_14v5z_198",kD="_historyReason_14v5z_202",OD="_historyStatus_14v5z_207",AD="_noData_14v5z_233",Re={overlay:aD,modal:nD,header:sD,staffInfo:iD,avatar:rD,title:lD,subtitle:oD,closeBtn:cD,content:uD,loading:dD,balanceGrid:hD,balanceCard:fD,balanceLabel:mD,balanceValue:pD,unit:gD,balanceSub:_D,primary:vD,info:yD,danger:bD,sectionTitle:wD,historyList:xD,historyItem:SD,historyDate:jD,weekDay:ND,historyDetail:ED,historyMeta:CD,historyType:TD,historyReason:kD,historyStatus:OD,noData:AD},RD=({isOpen:n,onClose:a,staff:i,year:r,month:c})=>{const[d,f]=S.useState(null),[m,p]=S.useState([]),[g,v]=S.useState(!0);S.useEffect(()=>{n&&i&&y()},[n,i,r,c]);const y=async()=>{v(!0);try{const[x,E]=await Promise.all([rl.get(i.id),Ct.getByStaff(i.id)]);if(x.success&&f(x.data),E.success){const C=new Date(r,c-1,1),N=new Date(r,c,0),k=E.data.filter(O=>{const D=new Date(O.date);return D>=C&&D<=N});p(k)}}catch(x){console.error("Error loading staff details:",x)}finally{v(!1)}};return n?o.jsx("div",{className:Re.overlay,onClick:a,children:o.jsxs("div",{className:Re.modal,onClick:x=>x.stopPropagation(),children:[o.jsxs("div",{className:Re.header,children:[o.jsxs("div",{className:Re.staffInfo,children:[o.jsx("div",{className:Re.avatar,children:i.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h2",{className:Re.title,children:i.name}),o.jsxs("span",{className:Re.subtitle,children:[i.id,"  ",i.level]})]})]}),o.jsx("button",{className:Re.closeBtn,onClick:a,children:o.jsx(cs,{size:20})})]}),o.jsx("div",{className:Re.content,children:g?o.jsx("div",{className:Re.loading,children:"..."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:Re.balanceGrid,children:[o.jsxs("div",{className:Re.balanceCard,children:[o.jsx("div",{className:Re.balanceLabel,children:""}),o.jsxs("div",{className:`${Re.balanceValue} ${Re.primary}`,children:[d?.annualLeaveRemaining||0," ",o.jsx("span",{className:Re.unit,children:""})]}),o.jsxs("div",{className:Re.balanceSub,children:[" ",d?.annualLeaveTotal||0," "]})]}),o.jsxs("div",{className:Re.balanceCard,children:[o.jsx("div",{className:Re.balanceLabel,children:""}),o.jsxs("div",{className:`${Re.balanceValue} ${Re.info}`,children:[d?.compensatoryHours||0," ",o.jsx("span",{className:Re.unit,children:""})]}),o.jsx("div",{className:Re.balanceSub,children:""})]}),o.jsxs("div",{className:Re.balanceCard,children:[o.jsx("div",{className:Re.balanceLabel,children:""}),o.jsxs("div",{className:`${Re.balanceValue} ${Re.danger}`,children:[d?.debtHours||0," ",o.jsx("span",{className:Re.unit,children:""})]}),o.jsx("div",{className:Re.balanceSub,children:""})]})]}),o.jsxs("div",{className:Re.section,children:[o.jsxs("h3",{className:Re.sectionTitle,children:[o.jsx(qa,{size:16}),r,"",c," "]}),o.jsx("div",{className:Re.historyList,children:m.length===0?o.jsx("div",{className:Re.noData,children:""}):m.map(x=>o.jsxs("div",{className:Re.historyItem,children:[o.jsxs("div",{className:Re.historyDate,children:[je(new Date(x.date),"MM/dd"),o.jsxs("span",{className:Re.weekDay,children:["(",je(new Date(x.date),"EE",{locale:da}),")"]})]}),o.jsxs("div",{className:Re.historyDetail,children:[o.jsxs("div",{className:Re.historyMeta,children:[o.jsx("span",{className:Re.historyType,children:x.leaveType}),x.reason&&o.jsx("span",{className:Re.historyReason,children:x.reason})]}),o.jsx("span",{className:Re.historyStatus,"data-status":x.status,children:x.status==="approved"?"":x.status==="pending"?"":x.status==="rejected"?"":x.status})]})]},x.id))})]})]})})]})}):null},DD="_contextMenu_a9mwq_1",MD="_sectionLabel_a9mwq_15",BD="_menuItem_a9mwq_24",$D="_colorDot_a9mwq_40",zD="_separator_a9mwq_46",LD="_danger_a9mwq_52",UD="_arrow_a9mwq_60",qD="_submenu_a9mwq_66",HD="_customInputItem_a9mwq_84",ID="_hoursInput_a9mwq_92",GD="_okBtn_a9mwq_100",St={contextMenu:DD,sectionLabel:MD,menuItem:BD,colorDot:$D,separator:zD,danger:LD,arrow:UD,submenu:qD,customInputItem:HD,hoursInput:ID,okBtn:GD},PD=({x:n,y:a,shifts:i,onClose:r,onSetShift:c,onSetLeave:d,onClear:f})=>{const m=S.useRef(null),[p,g]=S.useState(!1),[v,y]=S.useState("8");S.useEffect(()=>{const k=O=>{m.current&&!m.current.contains(O.target)&&r()};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[r]);const[x,E]=S.useState(a);S.useEffect(()=>{if(m.current){const k=m.current.offsetHeight,O=window.innerHeight;a+k>O&&E(O-k-10)}},[a]);const C={top:x,left:n},N=k=>{d("",k),r()};return o.jsxs("div",{className:St.contextMenu,style:C,ref:m,children:[o.jsx("div",{className:St.sectionLabel,children:""}),i.filter(k=>k.code!=="OFF").map(k=>o.jsxs("div",{className:St.menuItem,onClick:()=>{c(k.code),r()},children:[o.jsx("div",{className:St.colorDot,style:{background:k.color}})," ",k.name," (",k.code,")"]},k.code)),o.jsxs("div",{className:St.menuItem,onClick:()=>{c("OFF"),r()},children:[o.jsx("div",{className:St.colorDot,style:{background:"#94A3B8"}}),"  (OFF)"]}),o.jsx("div",{className:St.separator}),o.jsx("div",{className:St.sectionLabel,children:""}),o.jsxs("div",{className:St.menuItem,onClick:()=>{d(""),r()},children:[o.jsx(Lj,{size:14}),"  (-8H)"]}),o.jsxs("div",{className:St.menuItem,onClick:k=>{k.stopPropagation(),g(!p)},children:[o.jsx(Tn,{size:14})," ",o.jsx(Zo,{size:14,className:St.arrow,style:{transform:p?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"}}),p&&o.jsxs("div",{className:St.submenu,children:[o.jsx("div",{className:St.menuItem,onClick:k=>{k.stopPropagation(),N(4)},children:" 4  ()"}),o.jsx("div",{className:St.menuItem,onClick:k=>{k.stopPropagation(),N(8)},children:" 8  ()"}),o.jsxs("div",{className:St.customInputItem,onClick:k=>k.stopPropagation(),children:[o.jsx("span",{children:":"}),o.jsx("input",{type:"number",min:"1",max:"12",value:v,onChange:k=>y(k.target.value),className:St.hoursInput,onKeyDown:k=>{k.key==="Enter"&&N(Number(v))}}),o.jsx("button",{className:St.okBtn,onClick:()=>N(Number(v)),children:"OK"})]})]})]}),o.jsxs("div",{className:St.menuItem,onClick:()=>{d(""),r()},children:[o.jsx(Zd,{size:14})," "]}),o.jsxs("div",{className:St.menuItem,onClick:()=>{d(""),r()},children:[o.jsx(Zd,{size:14})," "]}),o.jsx("div",{className:St.separator}),o.jsxs("div",{className:`${St.menuItem} ${St.danger}`,onClick:()=>{f(),r()},children:[o.jsx(ac,{size:14})," "]})]})},VD=()=>{const n=os(),{scheduleStatus:a,publishDraft:i,publishOfficial:r,currentPeriod:c,switchPeriod:d,confirmedStaffIds:f}=Wo(),{currentUnit:m}=fa(),[p]=S.useState(new Date),[g,v]=S.useState([]),[y,x]=S.useState([]),[E,C]=S.useState([]),[N,k]=S.useState(!1),[O,D]=S.useState([]),[M,j]=S.useState(new Map),[q,ae]=S.useState(new Map),[Z,_e]=S.useState([]),[Ee,Ie]=S.useState(!0),[X,Te]=S.useState(!1),[ot,ft]=S.useState(!1),[mt,I]=S.useState(!1),[ee,ce]=S.useState(!1),[J,F]=S.useState(null),[w,R]=S.useState(null),[U,K]=S.useState(null),[ne,W]=S.useState(!1),[de,He]=S.useState(!1),Me=Vr.useMemo(()=>c?hv({start:new Date(c.startDate),end:new Date(c.endDate)}):[],[c]);S.useEffect(()=>{aa(!0)},[]),S.useEffect(()=>{!Ee&&c&&aa(!1)},[c]);const aa=async(Y=!1)=>{Y&&Ie(!0);const se=Y?p:c?new Date(c.startDate):p,fe=se.getFullYear(),Ne=se.getMonth()+1,Ge=c?c.startDate:`${fe}-${String(Ne).padStart(2,"0")}-01`,st=c?c.endDate:`${fe}-${String(Ne).padStart(2,"0")}-31`,[pt,at,Dt,We,Xt]=await Promise.all([$t.getAll(m?.id),$i.getAll(),$t.getExternal(m?.id),rs.getByRange(Ge,st),Ct.getByRange(Ge,st)]);pt.success&&v(pt.data),at.success&&D(at.data),Dt.success&&C(Dt.data||[]),Xt.success&&_e(Xt.data);const ct=new Map,ga=[];We.success&&We.data.forEach(Zt=>{ct.set(`${Zt.staffId}-${Zt.date}`,Zt.shiftCode);const Rn=(Dt.data||[]).find(ea=>ea.id===Zt.staffId);Rn&&!ga.find(ea=>ea.id===Zt.staffId)&&ga.push(Rn)}),x(ga),j(new Map(ct)),ae(new Map(ct)),ce(!1),Ie(!1)},ma=Y=>{y.find(se=>se.id===Y.id)||x(se=>[...se,Y]),k(!1)},Ha=Y=>{x(se=>se.filter(fe=>fe.id!==Y))},ka=[...g,...y],Ia=Vr.useMemo(()=>{const Y=new Map;return ka.forEach(se=>{Ov(se.id,M,Me).forEach((Ne,Ge)=>{const st=`${se.id}-${Ge}`;Y.set(st,Ne)})}),Y},[M,ka,Me]),pa=(Y,se)=>`${Y}-${je(se,"yyyy-MM-dd")}`,Gi=S.useCallback(Y=>{F(Y)},[]),nc=S.useCallback(()=>{F(null)},[]),cl=S.useCallback((Y,se)=>{if(J){const fe=pa(Y,se),Ne=new Map(M);Ne.set(fe,J),j(Ne),ce(!0)}},[J,M]),Pi=(Y,se)=>{const fe=pa(Y,se),Ne=M.get(fe)||"OFF",Ge=O.map(Dt=>Dt.code);Ge.includes("OFF")||Ge.push("OFF");const st=Ge.indexOf(Ne),pt=Ge[(st+1)%Ge.length],at=new Map(M);at.set(fe,pt),j(at),ce(!0)},Vi=(Y,se,fe)=>{Y.preventDefault(),R({x:Y.clientX,y:Y.clientY,staffId:se,date:fe})},Yi=Y=>{if(!w)return;const{staffId:se,date:fe}=w,Ne=pa(se,fe),Ge=new Map(M);Ge.set(Ne,Y),j(Ge),ce(!0)},sc=async(Y,se)=>{if(!w)return;const{staffId:fe,date:Ne}=w,Ge=pa(fe,Ne),st=new Map(M);st.set(Ge,"OFF"),j(st),ce(!0);const pt=je(Ne,"yyyy-MM-dd"),Dt=(g.find(We=>We.id===fe)||y.find(We=>We.id===fe))?.name||"";try{const We=await Ct.add({staffId:fe,staffName:Dt,date:pt,type:"leave",leaveType:Y,shiftCode:"OFF",reason:se?` ${se} `:"",status:"approved"});if(!We.success)throw new Error(We.message);if(Y===""&&se){const ct=await Ro.get(fe);if(ct.success){const ga=ct.data.compensatoryHours,Zt=Math.max(0,ga-se);await Ro.update(fe,{compensatoryHours:Zt})}}else if(Y===""){const ct=await Ro.get(fe);if(ct.success){const ga=ct.data.annualLeaveRemaining,Zt=Math.max(0,ga-1);await Ro.update(fe,{annualLeaveRemaining:Zt})}}let Xt=` ${pt}  ${Y}`;se&&(Xt+=` (${se})`),await pS.send({userId:fe,type:"leave_assigned",title:"",message:Xt}),alert(` ${Y} `),aa(!1)}catch(We){console.error("Error setting leave:",We),alert(": "+(We.message||""))}},ic=()=>{if(!w)return;const{staffId:Y,date:se}=w,fe=pa(Y,se),Ne=new Map(M);Ne.set(fe,"OFF"),j(Ne),ce(!0)},Wt=Y=>{K(Y),W(!0)},rc=async()=>{Te(!0);const Y=[];M.forEach((fe,Ne)=>{const Ge=Ne.slice(-10),st=Ne.slice(0,-11);Y.push({staffId:st,date:Ge,shiftCode:fe})});const se=await rs.save(Y);se.success?(ae(new Map(M)),ce(!1),alert("")):alert(": "+se.message),Te(!1)},ul=()=>{j(new Map(q)),ce(!1)},dl=()=>{if(!c||Me.length===0)return;const Y=["",...Me.map(at=>je(at,"M/d"))],fe=[...g,...y].map(at=>{const Dt=[at.name];return Me.forEach(We=>{const Xt=`${at.id}-${je(We,"yyyy-MM-dd")}`;Dt.push(M.get(Xt)||"-")}),Dt}),Ne=[Y,...fe].map(at=>at.join(",")).join(`
`),Ge="\uFEFF",st=new Blob([Ge+Ne],{type:"text/csv;charset=utf-8;"}),pt=document.createElement("a");pt.href=URL.createObjectURL(st),pt.download=`_${c.startDate}_${c.endDate}.csv`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt)},qs=async()=>{if(Z.some(se=>se.status==="pending")){alert("");return}if(ee){alert("");return}ft(!0),await new Promise(se=>setTimeout(se,1500)),i(),ft(!1),alert(` ${c?.name||""}  ${g.length} `)},lc=async()=>{ft(!0),await new Promise(Y=>setTimeout(Y,1500)),r(),ft(!1),alert("")},hl=async()=>{if(Z.some(ct=>ct.status==="pending")){alert("");return}if(!window.confirm(""))return;I(!0),await new Promise(ct=>setTimeout(ct,800));const se=c?new Date(c.startDate):new Date,fe=c?new Date(c.endDate):new Date,Ne=new Date(se);Ne.setDate(Ne.getDate()-1);const Ge=new Date(Ne);Ge.setDate(Ge.getDate()-6);const st=Ne.getFullYear(),pt=Ne.getMonth()+1,at=await rs.getByMonth(st,pt),Dt=new Map;at.success&&at.data.forEach(ct=>{Dt.set(`${ct.staffId}-${ct.date}`,ct.shiftCode)});const{newSchedule:We,filledCount:Xt}=tD(M,[...g,...y],se,fe,Z,Dt);j(We),ce(!0),I(!1),alert(` ${Xt} 
`)},Ki=Y=>{let se=0,fe=0,Ne=0,Ge=0,st=0;return Me.forEach(pt=>{const at=M.get(pa(Y,pt))||"OFF";at==="D"?(se++,st+=8):at==="E"?(fe++,st+=8):at==="N"?(Ne++,st+=8):Ge++}),{dCount:se,eCount:fe,nCount:Ne,offCount:Ge,totalHours:st,workDays:se+fe+Ne}},Fi=Vr.useRef([]),An=Y=>{const se=Y.currentTarget.scrollLeft;Fi.current.forEach(fe=>{fe&&fe!==Y.currentTarget&&fe.scrollLeft!==se&&(fe.scrollLeft=se)})};return Ee?o.jsx("div",{className:Q.loading,children:"..."}):o.jsxs("div",{className:Q.pageContainer,children:[o.jsxs("div",{className:Q.pageHeader,children:[o.jsxs("div",{className:Q.headerLeft,children:[o.jsx("h1",{className:Q.pageTitle,children:""}),o.jsxs("div",{className:Q.monthNav,children:[o.jsx("button",{onClick:()=>d(_v(new Date(c?.startDate||new Date))),children:o.jsx(wh,{size:16})}),o.jsx("span",{className:Q.monthTitle,children:c?o.jsxs(o.Fragment,{children:[c.name,o.jsxs("span",{style:{fontSize:"0.8em",color:"#666",marginLeft:"8px"},children:["(",je(new Date(c.startDate),"M/d")," - ",je(new Date(c.endDate),"M/d"),")"]})]}):"..."}),o.jsx("button",{onClick:()=>d(Qo(new Date(c?.startDate||new Date),1)),children:o.jsx(Zo,{size:16})})]})]}),o.jsxs("div",{className:Q.headerActions,children:[o.jsx("div",{className:Q.statusIndicator,children:ee?o.jsxs(o.Fragment,{children:[o.jsx(al,{size:14,className:Q.warning})," "]}):a==="official"?o.jsxs(o.Fragment,{children:[o.jsx(zs,{size:14,className:Q.success})," "]}):a==="draft"?o.jsxs("button",{className:Q.statusBtn,onClick:()=>He(!0),title:"",children:[o.jsx(zs,{size:14,className:Q.warning})," (",f.length,"/",g.length,")"]}):o.jsxs(o.Fragment,{children:[o.jsx(zs,{size:14,className:Q.success})," "]})}),a==="planning"&&o.jsxs("button",{className:Q.autoBtn,onClick:hl,disabled:mt,children:[o.jsx(VN,{size:16})," ",mt?"...":""]}),o.jsxs("button",{className:Q.resetBtn,onClick:ul,disabled:!ee||a==="official",children:[o.jsx(Sv,{size:16})," "]}),o.jsxs("button",{className:Q.exportBtn,onClick:dl,title:" CSV",children:[o.jsx(bv,{size:16})," "]}),o.jsxs("button",{className:Q.saveBtn,onClick:rc,disabled:!ee||X||a==="official",children:[o.jsx(tc,{size:16})," ",X?"...":""]}),a!=="official"&&(a==="planning"?o.jsxs("button",{className:Q.publishBtn,onClick:qs,disabled:ee||ot,children:[o.jsx(HN,{size:16})," ",ot?"...":""]}):o.jsxs("button",{className:Q.officialBtn,onClick:lc,disabled:ot,children:[o.jsx(fN,{size:16})," ",ot?"...":""]}))]})]}),o.jsxs("div",{className:Q.shiftPalette,children:[o.jsx("span",{className:Q.paletteLabel,children:""}),O.map(Y=>o.jsxs("div",{className:Q.shiftChip,style:{background:`${Y.color}20`,color:Y.color,borderColor:Y.color},draggable:!0,onDragStart:()=>Gi(Y.code),onDragEnd:nc,children:[o.jsx(gN,{size:12}),o.jsx("span",{className:Q.chipCode,children:Y.code}),o.jsx("span",{className:Q.chipName,children:Y.name})]},Y.code))]}),o.jsxs("div",{className:Q.gridWrapper,children:[o.jsxs("div",{className:Q.headerRow,children:[o.jsx("div",{className:`${Q.stickyLeft} ${Q.headerCell} ${Q.staffHeader}`,children:""}),o.jsx("div",{className:Q.scrollableDates,ref:Y=>{Y&&(Fi.current[0]=Y)},onScroll:An,children:o.jsx("div",{className:Q.datesRow,children:Me.map(Y=>{const se=Ud(Y),fe=se===0||se===6;return o.jsxs("div",{className:`${Q.headerCell} ${Q.dateHeader} ${fe?Q.weekend:""}`,children:[o.jsx("span",{className:Q.dateNum,children:je(Y,"d")}),o.jsx("span",{className:Q.dateName,children:je(Y,"E",{locale:da})})]},Y.toISOString())})})}),o.jsx("div",{className:`${Q.stickyRight} ${Q.headerCell} ${Q.statsHeader}`,children:""})]}),o.jsx("div",{className:Q.bodyContainer,children:ka.map(Y=>{const se=y.some(Ne=>Ne.id===Y.id),fe=Ki(Y.id);return o.jsxs("div",{className:Q.dataRow,children:[o.jsxs("div",{className:`${Q.stickyLeft} ${Q.staffCell} ${se?Q.externalStaff:""}`,children:[o.jsxs("div",{className:Q.staffInfo,children:[o.jsxs("span",{className:`${Q.staffName} ${Q.clickable}`,onClick:()=>Wt(Y),title:"",children:[Y.name,se&&o.jsx("span",{className:Q.supportBadge,children:""})]}),o.jsx("span",{className:Q.staffLevel,children:Y.level})]}),se&&o.jsx("button",{className:Q.removeSupportBtn,onClick:()=>Ha(Y.id),title:"",children:o.jsx(cs,{size:12})})]}),o.jsx("div",{className:Q.scrollableDates,ref:Ne=>{Ne&&(Fi.current[ka.indexOf(Y)+1]=Ne)},onScroll:An,children:o.jsx("div",{className:Q.datesRow,children:Me.map(Ne=>{const Ge=pa(Y.id,Ne),st=M.get(Ge),pt=st??"",at=st!==void 0?st:"-",We=O.find(Ga=>Ga.code===pt)?.color||"#94A3B8",Xt=M.get(Ge)!==q.get(Ge),ct=Ud(Ne)===0||Ud(Ne)===6,ga=Ia.get(Ge),Zt=ga&&ga.length>0,Rn=je(Ne,"yyyy-MM-dd"),ea=Z.find(Ga=>Ga.staffId===Y.id&&Ga.date===Rn),us=ea?.status==="pending",Xi=ea?.status==="approved";return o.jsxs("div",{className:`${Q.shiftCell} ${Xt?Q.changed:""} ${ct?Q.weekendCell:""} ${Zt?Q.violation:""} ${us?Q.pendingLeave:""} ${Xi?Q.approvedLeave:""}`,"data-violation":Zt?ga[0].message:void 0,style:{background:us?"#FFF7ED":`${We}15`,borderLeftColor:us?"#F59E0B":We},onClick:()=>{us?n("/schedule/leave-approval"):Pi(Y.id,Ne)},onContextMenu:Ga=>Vi(Ga,Y.id,Ne),onDragOver:Ga=>Ga.preventDefault(),onDrop:()=>cl(Y.id,Ne),title:ea?`${ea.leaveType} (${ea.status})`:void 0,children:[o.jsx("span",{className:Q.shiftCode,style:{color:We},children:us?"?":at}),Xi&&o.jsx("span",{className:Q.leaveIcon,title:"",children:o.jsx(Zd,{size:12})})]},Ne.toISOString())})})}),o.jsxs("div",{className:`${Q.stickyRight} ${Q.statsCell}`,children:[o.jsxs("div",{className:Q.statItem,children:[o.jsx("span",{className:Q.statLabel,children:""}),o.jsxs("span",{className:Q.statValue,children:[fe.workDays,""]})]}),o.jsxs("div",{className:Q.statItem,children:[o.jsx("span",{className:Q.statLabel,children:""}),o.jsxs("span",{className:Q.statValue,children:[fe.totalHours,"h"]})]})]})]},Y.id)})})]}),o.jsxs("div",{className:Q.summaryFooter,children:[o.jsxs("div",{className:Q.summaryItem,children:[o.jsx("span",{className:Q.summaryLabel,children:""}),o.jsxs("span",{className:Q.summaryValue,children:[ka.length," "]})]}),o.jsxs("div",{className:Q.summaryItem,children:[o.jsx("span",{className:Q.summaryLabel,children:""}),o.jsxs("span",{className:Q.summaryValue,children:[ka.reduce((Y,se)=>Y+Ki(se.id).workDays,0)," "]})]}),o.jsxs("div",{className:Q.summaryItem,children:[o.jsx("span",{className:Q.summaryLabel,children:""}),o.jsxs("span",{className:Q.summaryValue,children:[ka.reduce((Y,se)=>Y+Ki(se.id).totalHours,0)," "]})]})]}),o.jsx("div",{className:Q.addSupportRow,children:o.jsxs("button",{className:Q.addSupportBtn,onClick:()=>k(!0),children:[o.jsx(Nv,{size:16})," "]})}),de&&o.jsx("div",{className:Q.modalOverlay,children:o.jsxs("div",{className:Q.modalContent,children:[o.jsx("h3",{children:""}),o.jsxs("div",{className:Q.confirmStats,children:[o.jsxs("p",{children:["",f.length," / ",g.length]}),o.jsx("div",{className:Q.progressBar,children:o.jsx("div",{className:Q.progressFill,style:{width:`${f.length/g.length*100}%`}})})]}),o.jsx("div",{className:Q.confirmList,children:g.map(Y=>{const se=f.includes(Y.id);return o.jsxs("div",{className:`${Q.confirmItem} ${se?Q.confirmed:Q.pending}`,children:[o.jsx("span",{className:Q.confirmName,children:Y.name}),o.jsxs("span",{className:Q.confirmStatus,children:[se?o.jsx(zs,{size:16}):o.jsx(al,{size:16}),se?"":""]})]},Y.id)})}),o.jsx("button",{className:Q.closeModalBtn,onClick:()=>He(!1),children:""})]})}),N&&o.jsx("div",{className:Q.modalOverlay,children:o.jsxs("div",{className:Q.modalContent,children:[o.jsx("h3",{children:""}),o.jsxs("div",{className:Q.supportList,children:[E.filter(Y=>!y.find(se=>se.id===Y.id)).map(Y=>o.jsxs("div",{className:Q.supportItem,onClick:()=>ma(Y),children:[o.jsxs("div",{className:Q.supportInfo,children:[o.jsx("span",{className:Q.supportName,children:Y.name}),o.jsx("span",{className:Q.supportUnit,children:Y.departmentId}),o.jsx("span",{className:Q.staffLevel,children:Y.level})]}),o.jsx("button",{className:Q.selectBtn,children:""})]},Y.id)),E.filter(Y=>!y.find(se=>se.id===Y.id)).length===0&&o.jsx("div",{className:Q.emptySupport,children:""})]}),o.jsx("button",{className:Q.closeModalBtn,onClick:()=>k(!1),children:""})]})}),w&&o.jsx(PD,{x:w.x,y:w.y,shifts:O,onClose:()=>R(null),onSetShift:Yi,onSetLeave:(Y,se)=>{if(Y===""&&a!=="official"){alert("");return}sc(Y,se)},onClear:ic}),ne&&U&&c&&o.jsx(RD,{isOpen:ne,onClose:()=>W(!1),staff:U,year:new Date(c.startDate).getFullYear(),month:new Date(c.startDate).getMonth()+1})]})},YD="_container_3tbx7_1",KD="_loading_3tbx7_5",FD="_accessDenied_3tbx7_13",XD="_pageHeader_3tbx7_29",QD="_headerRow_3tbx7_33",JD="_headerContent_3tbx7_39",WD="_pageTitle_3tbx7_45",ZD="_pageDescription_3tbx7_55",eM="_statsRow_3tbx7_62",tM="_statCard_3tbx7_69",aM="_activeCard_3tbx7_88",nM="_statIcon_3tbx7_93",sM="_statInfo_3tbx7_102",iM="_statValue_3tbx7_107",rM="_statLabel_3tbx7_114",lM="_batchBar_3tbx7_121",oM="_batchInfo_3tbx7_132",cM="_batchActions_3tbx7_137",uM="_batchApproveBtn_3tbx7_142",dM="_batchRejectBtn_3tbx7_143",hM="_dateGroups_3tbx7_184",fM="_emptyState_3tbx7_190",mM="_dateGroup_3tbx7_184",pM="_overLimit_3tbx7_213",gM="_dateHeader_3tbx7_218",_M="_selectAllBtn_3tbx7_230",vM="_dateInfo_3tbx7_249",yM="_dateText_3tbx7_257",bM="_dateCount_3tbx7_262",wM="_overLimitBadge_3tbx7_267",xM="_dateActions_3tbx7_276",SM="_lotteryBtn_3tbx7_282",jM="_expandBtn_3tbx7_303",NM="_table_3tbx7_316",EM="_selectedRow_3tbx7_332",CM="_checkboxCol_3tbx7_336",TM="_nameCol_3tbx7_347",kM="_nameCell_3tbx7_351",OM="_staffName_3tbx7_358",AM="_leaveTypeCol_3tbx7_364",RM="_reasonCol_3tbx7_368",DM="_reasonCell_3tbx7_372",MM="_priorityCol_3tbx7_379",BM="_statusCol_3tbx7_383",$M="_actionCol_3tbx7_387",zM="_leaveTypeBadge_3tbx7_391",LM="_preleave_3tbx7_401",UM="_otherLeave_3tbx7_406",qM="_priorityBadge_3tbx7_411",HM="_statusBadge_3tbx7_422",IM="_pending_3tbx7_432",GM="_approved_3tbx7_437",PM="_rejected_3tbx7_442",VM="_actionCell_3tbx7_448",YM="_approveBtn_3tbx7_453",KM="_rejectBtn_3tbx7_454",oe={container:YD,loading:KD,accessDenied:FD,pageHeader:XD,headerRow:QD,headerContent:JD,pageTitle:WD,pageDescription:ZD,statsRow:eM,statCard:tM,activeCard:aM,statIcon:nM,statInfo:sM,statValue:iM,statLabel:rM,batchBar:lM,batchInfo:oM,batchActions:cM,batchApproveBtn:uM,batchRejectBtn:dM,dateGroups:hM,emptyState:fM,dateGroup:mM,overLimit:pM,dateHeader:gM,selectAllBtn:_M,dateInfo:vM,dateText:yM,dateCount:bM,overLimitBadge:wM,dateActions:xM,lotteryBtn:SM,expandBtn:jM,table:NM,selectedRow:EM,checkboxCol:CM,nameCol:TM,nameCell:kM,staffName:OM,leaveTypeCol:AM,reasonCol:RM,reasonCell:DM,priorityCol:MM,statusCol:BM,actionCol:$M,leaveTypeBadge:zM,preleave:LM,otherLeave:UM,priorityBadge:qM,statusBadge:HM,pending:IM,approved:GM,rejected:PM,actionCell:VM,approveBtn:YM,rejectBtn:KM},FM=()=>{const{currentUnit:n,hasPermission:a}=fa(),{currentPeriod:i}=Wo(),[r,c]=S.useState([]),[d,f]=S.useState([]),[m,p]=S.useState(!0),[g,v]=S.useState(!1),[y,x]=S.useState(new Set),[E,C]=S.useState(new Set),[N,k]=S.useState("pending"),O=3;S.useEffect(()=>{D()},[n,i]);const D=async()=>{p(!0);const J=await $t.getAll(n?.id);if(J.success&&f(J.data),i){const F=await Ct.getByRange(i.startDate,i.endDate);F.success&&c(F.data)}else{const F=await Ct.getAll();F.success&&c(F.data)}p(!1)},M=J=>d.find(w=>w.id===J)?.name||J,j=J=>{const F=d.find(K=>K.id===J);let w=0;const R=[];if(F){const K=parseInt(F.id.replace(/\D/g,""))||0;K<1003?(w+=10,R.push("")):K<1005&&(w+=5,R.push(""))}return r.filter(K=>K.staffId===J&&K.status==="approved").length===0&&(w+=3,R.push("")),{score:w,reasons:R}},q=S.useMemo(()=>{const J=new Map;return r.filter(w=>N==="all"?!0:w.status===N).forEach(w=>{const R=J.get(w.date)||[];R.push(w),J.set(w.date,R)}),Array.from(J.entries()).sort(([w],[R])=>w.localeCompare(R)).map(([w,R])=>({date:w,requests:R.sort((U,K)=>{const ne=j(U.staffId).score;return j(K.staffId).score-ne}),isOverLimit:R.filter(U=>U.status==="pending").length>O}))},[r,N,d]),ae=async J=>{v(!0),await Ct.approve(J),await D(),x(F=>(F.delete(J),new Set(F))),v(!1)},Z=async J=>{v(!0),await Ct.reject(J),await D(),x(F=>(F.delete(J),new Set(F))),v(!1)},_e=async()=>{if(y.size!==0&&window.confirm(` ${y.size} `)){v(!0);for(const J of y)await Ct.approve(J);x(new Set),await D(),v(!1)}},Ee=async()=>{if(y.size!==0&&window.confirm(` ${y.size} `)){v(!0);for(const J of y)await Ct.reject(J);x(new Set),await D(),v(!1)}},Ie=J=>{const F=q.find(K=>K.date===J);if(!F)return;const w=F.requests.filter(K=>K.status==="pending").map(K=>K.id),U=[...w].sort(()=>Math.random()-.5).slice(0,O);x(K=>{const ne=new Set(K);return w.forEach(W=>ne.delete(W)),U.forEach(W=>ne.add(W)),ne}),alert(`  ${U.length} `)},X=J=>{x(F=>{const w=new Set(F);return w.has(J)?w.delete(J):w.add(J),w})},Te=J=>{const F=q.find(U=>U.date===J);if(!F)return;const w=F.requests.filter(U=>U.status==="pending").map(U=>U.id),R=w.every(U=>y.has(U));x(U=>{const K=new Set(U);return R?w.forEach(ne=>K.delete(ne)):w.forEach(ne=>K.add(ne)),K})},ot=J=>{const F=q.find(R=>R.date===J);if(!F)return!1;const w=F.requests.filter(R=>R.status==="pending").map(R=>R.id);return w.length>0&&w.every(R=>y.has(R))},ft=J=>{C(F=>{const w=new Set(F);return w.has(J)?w.delete(J):w.add(J),w})},mt=r.filter(J=>J.status==="pending").length,I=r.filter(J=>J.status==="approved").length,ee=r.filter(J=>J.status==="rejected").length;return a("manage_schedule")?m?o.jsx("div",{className:oe.loading,children:"..."}):o.jsxs("div",{className:oe.container,children:[o.jsx("div",{className:oe.pageHeader,children:o.jsx("div",{className:oe.headerRow,children:o.jsxs("div",{className:oe.headerContent,children:[o.jsxs("h1",{className:oe.pageTitle,children:[o.jsx(sn,{size:24}),""]}),o.jsx("p",{className:oe.pageDescription,children:i?`${i.startDate} ~ ${i.endDate}`:""})]})})}),o.jsxs("div",{className:oe.statsRow,children:[o.jsxs("button",{className:`${oe.statCard} ${N==="pending"?oe.activeCard:""}`,onClick:()=>k("pending"),children:[o.jsx("div",{className:oe.statIcon,style:{background:"#FEF3C7",color:"#B45309"},children:o.jsx(Tn,{size:20})}),o.jsxs("div",{className:oe.statInfo,children:[o.jsx("span",{className:oe.statValue,children:mt}),o.jsx("span",{className:oe.statLabel,children:""})]})]}),o.jsxs("button",{className:`${oe.statCard} ${N==="approved"?oe.activeCard:""}`,onClick:()=>k("approved"),children:[o.jsx("div",{className:oe.statIcon,style:{background:"#DCFCE7",color:"#15803D"},children:o.jsx(Nn,{size:20})}),o.jsxs("div",{className:oe.statInfo,children:[o.jsx("span",{className:oe.statValue,children:I}),o.jsx("span",{className:oe.statLabel,children:""})]})]}),o.jsxs("button",{className:`${oe.statCard} ${N==="rejected"?oe.activeCard:""}`,onClick:()=>k("rejected"),children:[o.jsx("div",{className:oe.statIcon,style:{background:"#FEE2E2",color:"#DC2626"},children:o.jsx(ls,{size:20})}),o.jsxs("div",{className:oe.statInfo,children:[o.jsx("span",{className:oe.statValue,children:ee}),o.jsx("span",{className:oe.statLabel,children:""})]})]}),o.jsxs("button",{className:`${oe.statCard} ${N==="all"?oe.activeCard:""}`,onClick:()=>k("all"),children:[o.jsx("div",{className:oe.statIcon,style:{background:"#E0E7FF",color:"#4F46E5"},children:o.jsx(sn,{size:20})}),o.jsxs("div",{className:oe.statInfo,children:[o.jsx("span",{className:oe.statValue,children:r.length}),o.jsx("span",{className:oe.statLabel,children:""})]})]})]}),N==="pending"&&y.size>0&&o.jsxs("div",{className:oe.batchBar,children:[o.jsxs("span",{className:oe.batchInfo,children:[" ",y.size," "]}),o.jsxs("div",{className:oe.batchActions,children:[o.jsxs("button",{className:oe.batchApproveBtn,onClick:_e,disabled:g,children:[o.jsx(Nn,{size:16}),""]}),o.jsxs("button",{className:oe.batchRejectBtn,onClick:Ee,disabled:g,children:[o.jsx(ls,{size:16}),""]})]})]}),o.jsx("div",{className:oe.dateGroups,children:q.length===0?o.jsxs("div",{className:oe.emptyState,children:[o.jsx(Nn,{size:48}),o.jsxs("p",{children:["",N==="pending"?"":"",""]})]}):q.map(J=>{const F=J.requests.filter(U=>U.status==="pending"),w=E.has(J.date)||J.requests.length<=5,R=ot(J.date);return o.jsxs("div",{className:`${oe.dateGroup} ${J.isOverLimit?oe.overLimit:""}`,children:[o.jsxs("div",{className:oe.dateHeader,children:[N==="pending"&&F.length>1&&o.jsx("button",{className:oe.selectAllBtn,onClick:()=>Te(J.date),title:"",children:R?o.jsx(KN,{size:18}):o.jsx(XN,{size:18})}),o.jsxs("div",{className:oe.dateInfo,onClick:()=>ft(J.date),children:[o.jsx("span",{className:oe.dateText,children:je(new Date(J.date),"Md (E)",{locale:da})}),o.jsxs("span",{className:oe.dateCount,children:[F.length," "]}),J.isOverLimit&&o.jsxs("span",{className:oe.overLimitBadge,children:["  ",O," "]})]}),o.jsxs("div",{className:oe.dateActions,children:[J.isOverLimit&&N==="pending"&&o.jsxs("button",{className:oe.lotteryBtn,onClick:()=>Ie(J.date),children:[o.jsx(nh,{size:14}),""]}),J.requests.length>5&&o.jsx("button",{className:oe.expandBtn,onClick:()=>ft(J.date),children:w?o.jsx(tN,{size:16}):o.jsx(bh,{size:16})})]})]}),w&&o.jsxs("table",{className:oe.table,children:[o.jsxs("colgroup",{children:[N==="pending"&&o.jsx("col",{style:{width:"50px"}}),o.jsx("col",{style:{width:"120px"}}),o.jsx("col",{style:{width:"80px"}}),o.jsx("col",{style:{width:"100px"}}),o.jsx("col",{style:{width:"80px"}}),o.jsx("col",{style:{width:"80px"}}),N==="pending"&&o.jsx("col",{style:{width:"90px"}})]}),o.jsx("tbody",{children:J.requests.map(U=>{const K=j(U.staffId),ne=y.has(U.id),W=U.leaveType===""||U.leaveType==="";return o.jsxs("tr",{className:ne?oe.selectedRow:"",children:[N==="pending"&&o.jsx("td",{className:oe.checkboxCol,children:U.status==="pending"&&o.jsx("input",{type:"checkbox",checked:ne,onChange:()=>X(U.id)})}),o.jsxs("td",{className:oe.nameCell,children:[o.jsx("span",{className:oe.staffName,children:M(U.staffId)}),K.score>0&&o.jsxs("span",{className:oe.priorityBadge,title:K.reasons.join(", "),children:[o.jsx(jh,{size:10})," ",K.reasons[0]]})]}),o.jsx("td",{children:o.jsx("span",{className:`${oe.leaveTypeBadge} ${W?oe.preleave:oe.otherLeave}`,children:W?" ":` ${U.leaveType}`})}),o.jsx("td",{className:oe.reasonCell,children:U.reason||"-"}),o.jsx("td",{children:o.jsx("span",{className:`${oe.statusBadge} ${oe[U.status]}`,children:U.status==="pending"?"":U.status==="approved"?"":""})}),N==="pending"&&o.jsx("td",{className:oe.actionCell,children:U.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:oe.approveBtn,onClick:()=>ae(U.id),disabled:g,title:"",children:o.jsx(Nn,{size:16})}),o.jsx("button",{className:oe.rejectBtn,onClick:()=>Z(U.id),disabled:g,title:"",children:o.jsx(ls,{size:16})})]})})]},U.id)})})]})]},J.date)})})]}):o.jsx("div",{className:oe.container,children:o.jsxs("div",{className:oe.accessDenied,children:[o.jsx(al,{size:48}),o.jsx("h2",{children:""}),o.jsx("p",{children:""})]})})},XM="_container_i7r3b_1",QM="_header_i7r3b_8",JM="_pageTitle_i7r3b_14",WM="_headerDate_i7r3b_21",ZM="_refreshBtn_i7r3b_27",e5="_section_i7r3b_41",t5="_sectionTitle_i7r3b_47",a5="_sectionDesc_i7r3b_54",n5="_overviewCards_i7r3b_61",s5="_overviewCard_i7r3b_61",i5="_cardHeader_i7r3b_73",r5="_iconBlue_i7r3b_82",l5="_iconOrange_i7r3b_86",o5="_iconGreen_i7r3b_90",c5="_cardValue_i7r3b_94",u5="_bigNum_i7r3b_101",d5="_subNum_i7r3b_108",h5="_alertTag_i7r3b_113",f5="_shiftBreakdown_i7r3b_122",m5="_dot_i7r3b_129",p5="_absenceDetail_i7r3b_149",g5="_confirmBreakdown_i7r3b_154",_5="_ratioBar_i7r3b_161",v5="_ratioFill_i7r3b_168",y5="_ratioStatus_i7r3b_174",b5="_mainGrid_i7r3b_181",w5="_leftColumn_i7r3b_187",x5="_rightColumn_i7r3b_193",S5="_scheduleCard_i7r3b_308",j5="_scheduleHeader_i7r3b_314",N5="_monthNav_i7r3b_330",E5="_scheduleGrid_i7r3b_350",C5="_gridHeader_i7r3b_356",T5="_staffCol_i7r3b_363",k5="_dayCol_i7r3b_364",O5="_hoursCol_i7r3b_365",A5="_weekend_i7r3b_384",R5="_today_i7r3b_388",D5="_gridRow_i7r3b_393",M5="_staffCell_i7r3b_403",B5="_avatar_i7r3b_410",$5="_staffName_i7r3b_423",z5="_staffLevel_i7r3b_429",L5="_shiftCell_i7r3b_434",U5="_shiftBadge_i7r3b_445",q5="_hoursCell_i7r3b_472",H5="_viewLink_i7r3b_480",I5="_ratioCard_i7r3b_489",G5="_ratioHeader_i7r3b_495",P5="_detailLink_i7r3b_511",V5="_ratioTable_i7r3b_516",Y5="_dangerText_i7r3b_537",K5="_statusBadge_i7r3b_542",F5="_expandBtn_i7r3b_569",X5="_actionBar_i7r3b_583",Q5="_actionBtn_i7r3b_589",ie={container:XM,header:QM,pageTitle:JM,headerDate:WM,refreshBtn:ZM,section:e5,sectionTitle:t5,sectionDesc:a5,overviewCards:n5,overviewCard:s5,cardHeader:i5,iconBlue:r5,iconOrange:l5,iconGreen:o5,cardValue:c5,bigNum:u5,subNum:d5,alertTag:h5,shiftBreakdown:f5,dot:m5,absenceDetail:p5,confirmBreakdown:g5,ratioBar:_5,ratioFill:v5,ratioStatus:y5,mainGrid:b5,leftColumn:w5,rightColumn:x5,scheduleCard:S5,scheduleHeader:j5,monthNav:N5,scheduleGrid:E5,gridHeader:C5,staffCol:T5,dayCol:k5,hoursCol:O5,weekend:A5,today:R5,gridRow:D5,staffCell:M5,avatar:B5,staffName:$5,staffLevel:z5,shiftCell:L5,shiftBadge:U5,hoursCell:q5,viewLink:H5,ratioCard:I5,ratioHeader:G5,detailLink:P5,ratioTable:V5,dangerText:Y5,statusBadge:K5,expandBtn:F5,actionBar:X5,actionBtn:Q5},J5=()=>{const n=os(),{schedule:a,staff:i,getPendingCount:r,getTodayOnDuty:c}=Wo(),[d,f]=S.useState(new Date),m=c(),p=i.length,g=m.D,v=m.E,y=m.N,x=m.total,E=r(),C=yh(d),N=Array.from({length:7},(j,q)=>vh(C,21+q)),k=i.slice(0,5).map(j=>{const q=N.map(_e=>{const Ee=je(_e,"yyyy-MM-dd");return a.find(X=>X.staffId===j.id&&X.date===Ee)?.shiftCode||"OFF"}),ae=q.filter(_e=>_e!=="OFF").length*8;return{...j,schedule:q,hours:ae,offBalance:0}}),O=[{ward:" (5F)",nurses:8,patients:64,ratio:"1:8.0",status:"normal"},{ward:" (6F)",nurses:6,patients:58,ratio:"1:9.6",status:"high"},{ward:" ICU",nurses:12,patients:24,ratio:"1:2.0",status:"good"},{ward:" (8F)",nurses:4,patients:42,ratio:"1:10.5",status:"danger"}],D=()=>f(new Date(d.getFullYear(),d.getMonth()-1)),M=()=>f(new Date(d.getFullYear(),d.getMonth()+1));return o.jsxs("div",{className:ie.container,children:[o.jsxs("div",{className:ie.header,children:[o.jsxs("div",{children:[o.jsx("h1",{className:ie.pageTitle,children:""}),o.jsx("p",{className:ie.headerDate,children:je(new Date,"yyyy M d (EEEEE)",{locale:da})})]}),o.jsxs("button",{className:ie.refreshBtn,children:[o.jsx(ec,{size:14})," : "]})]}),o.jsxs("section",{className:ie.section,children:[o.jsx("h2",{className:ie.sectionTitle,children:""}),o.jsx("p",{className:ie.sectionDesc,children:""}),o.jsxs("div",{className:ie.overviewCards,children:[o.jsxs("div",{className:ie.overviewCard,children:[o.jsxs("div",{className:ie.cardHeader,children:[o.jsx("span",{children:""}),o.jsx(Eh,{size:20,className:ie.iconBlue})]}),o.jsxs("div",{className:ie.cardValue,children:[o.jsx("span",{className:ie.bigNum,children:x}),o.jsxs("span",{className:ie.subNum,children:["/",p]})]}),o.jsxs("div",{className:ie.shiftBreakdown,children:[o.jsxs("span",{children:[o.jsx("span",{className:ie.dot,"data-shift":"D"}),"  ",g]}),o.jsxs("span",{children:[o.jsx("span",{className:ie.dot,"data-shift":"E"}),"  ",v]}),o.jsxs("span",{children:[o.jsx("span",{className:ie.dot,"data-shift":"N"}),"  ",y]})]})]}),o.jsxs("div",{className:ie.overviewCard,children:[o.jsxs("div",{className:ie.cardHeader,children:[o.jsx("span",{children:""}),o.jsx(Nh,{size:20,className:ie.iconOrange})]}),o.jsxs("div",{className:ie.cardValue,children:[o.jsx("span",{className:ie.bigNum,children:"3"}),o.jsx("span",{className:ie.alertTag,children:""})]}),o.jsx("div",{className:ie.absenceDetail,children:" 1,  1,  1"})]}),o.jsxs("div",{className:ie.overviewCard,children:[o.jsxs("div",{className:ie.cardHeader,children:[o.jsx("span",{children:""}),o.jsx(eh,{size:20,className:ie.iconGreen})]}),o.jsx("div",{className:ie.cardValue,children:o.jsx("span",{className:ie.bigNum,children:"1:8.5"})}),o.jsx("div",{className:ie.ratioBar,children:o.jsx("div",{className:ie.ratioFill,style:{width:"70%"}})}),o.jsx("span",{className:ie.ratioStatus,children:""})]}),o.jsxs("div",{className:ie.overviewCard,children:[o.jsxs("div",{className:ie.cardHeader,children:[o.jsx("span",{children:""}),o.jsx(qa,{size:20,className:ie.iconBlue})]}),o.jsxs("div",{className:ie.cardValue,children:[o.jsx("span",{className:ie.bigNum,children:"85%"}),o.jsx("span",{className:ie.subNum,children:je(new Date,"M",{locale:da})})]}),o.jsx("div",{className:ie.confirmBreakdown,children:o.jsxs("span",{children:[" ",o.jsxs("strong",{className:ie.dangerText,children:[E,""]})]})})]})]})]}),o.jsxs("div",{className:ie.mainGrid,children:[o.jsx("div",{className:ie.leftColumn,children:o.jsxs("div",{className:ie.scheduleCard,children:[o.jsxs("div",{className:ie.scheduleHeader,children:[o.jsxs("h3",{children:[o.jsx(qa,{size:14})," "]}),o.jsxs("div",{className:ie.monthNav,children:[o.jsx("button",{onClick:D,children:o.jsx(wh,{size:14})}),o.jsx("span",{children:je(d,"yyyy M",{locale:da})}),o.jsx("button",{onClick:M,children:o.jsx(Zo,{size:14})})]})]}),o.jsxs("div",{className:ie.scheduleGrid,children:[o.jsxs("div",{className:ie.gridHeader,children:[o.jsx("div",{className:ie.staffCol,children:""}),N.map(j=>o.jsxs("div",{className:`${ie.dayCol} ${c_(j)?ie.weekend:""} ${gv(j)?ie.today:""}`,children:[o.jsx("span",{children:je(j,"d")}),o.jsx("span",{children:je(j,"EEEEE",{locale:da})})]},j.toISOString())),o.jsx("div",{className:ie.hoursCol,children:""})]}),k.map(j=>o.jsxs("div",{className:ie.gridRow,children:[o.jsxs("div",{className:ie.staffCell,children:[o.jsx("div",{className:ie.avatar,children:j.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:ie.staffName,children:j.name}),o.jsx("div",{className:ie.staffLevel,children:j.level})]})]}),j.schedule.map((q,ae)=>o.jsx("div",{className:`${ie.shiftCell} ${c_(N[ae])?ie.weekend:""}`,children:o.jsx("span",{className:ie.shiftBadge,"data-shift":q,children:q})},ae)),o.jsx("div",{className:ie.hoursCell,children:j.hours})]},j.id))]}),o.jsx("button",{onClick:()=>n("/schedule/workbench"),className:ie.viewLink,children:" "})]})}),o.jsx("div",{className:ie.rightColumn,children:o.jsxs("div",{className:ie.ratioCard,children:[o.jsxs("div",{className:ie.ratioHeader,children:[o.jsxs("h3",{children:[o.jsx(Kj,{size:14})," "]}),o.jsx("a",{href:"#",className:ie.detailLink,children:""})]}),o.jsxs("table",{className:ie.ratioTable,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:O.map(j=>o.jsxs("tr",{children:[o.jsx("td",{children:j.ward}),o.jsxs("td",{children:[j.nurses," "]}),o.jsxs("td",{children:[j.patients," "]}),o.jsx("td",{className:j.status==="danger"?ie.dangerText:"",children:j.ratio}),o.jsx("td",{children:o.jsx("span",{className:ie.statusBadge,"data-status":j.status,children:j.status==="normal"?"":j.status==="high"?"":j.status==="good"?"":""})})]},j.ward))})]}),o.jsx("button",{className:ie.expandBtn,children:" "})]})})]}),o.jsxs("div",{className:ie.actionBar,children:[o.jsxs("button",{className:ie.actionBtn,"data-type":"primary",onClick:()=>n("/schedule/workbench"),children:[o.jsx(eh,{size:16})," ",o.jsxs("div",{children:[o.jsx("strong",{children:""}),o.jsx("span",{children:"11"})]})]}),o.jsxs("button",{className:ie.actionBtn,onClick:()=>n("/schedule/workbench"),children:[o.jsx(Nv,{size:16})," ",o.jsxs("div",{children:[o.jsx("strong",{children:""}),o.jsx("span",{children:""})]})]}),o.jsxs("button",{className:ie.actionBtn,children:[o.jsx(sn,{size:16})," ",o.jsxs("div",{children:[o.jsx("strong",{children:""}),o.jsx("span",{children:""})]})]}),o.jsxs("button",{className:ie.actionBtn,onClick:()=>n("/settings/rules"),children:[o.jsx(jv,{size:16})," ",o.jsxs("div",{children:[o.jsx("strong",{children:""}),o.jsx("span",{children:""})]})]})]})]})},W5="_container_1n21y_1",Z5="_loginCard_1n21y_10",e8="_header_1n21y_20",t8="_logo_1n21y_25",a8="_logoIcon_1n21y_33",n8="_form_1n21y_50",s8="_inputGroup_1n21y_56",i8="_inputWrapper_1n21y_68",r8="_inputIcon_1n21y_74",l8="_eyeBtn_1n21y_99",o8="_errorMsg_1n21y_114",c8="_loginBtn_1n21y_126",u8="_footer_1n21y_147",d8="_hint_1n21y_158",Kt={container:W5,loginCard:Z5,header:e8,logo:t8,logoIcon:a8,form:n8,inputGroup:s8,inputWrapper:i8,inputIcon:r8,eyeBtn:l8,errorMsg:o8,loginBtn:c8,footer:u8,hint:d8},h8=()=>{const n=os(),{setCurrentUser:a}=fa(),[i,r]=S.useState(""),[c,d]=S.useState(""),[f,m]=S.useState(!1),[p,g]=S.useState(!1),[v,y]=S.useState(""),x=async E=>{if(E.preventDefault(),!i||!c){y("");return}g(!0),y("");try{const C=await $t.getById(i);if(!C.success||!C.data){y(""),g(!1);return}const N=C.data;if(!N.passwordHash){a(N),n("/auth/set-password");return}const k=await $t.verifyPassword(i,c);if(!k.success||!k.data){y(""),g(!1);return}if(N.mustChangePassword){a(N),n("/auth/set-password");return}a(N),n("/dashboard")}catch{y("")}g(!1)};return o.jsx("div",{className:Kt.container,children:o.jsxs("div",{className:Kt.loginCard,children:[o.jsxs("div",{className:Kt.header,children:[o.jsxs("div",{className:Kt.logo,children:[o.jsx("span",{className:Kt.logoIcon,children:""}),o.jsx("h1",{children:""})]}),o.jsx("p",{children:""})]}),o.jsxs("form",{onSubmit:x,className:Kt.form,children:[o.jsxs("div",{className:Kt.inputGroup,children:[o.jsx("label",{children:""}),o.jsxs("div",{className:Kt.inputWrapper,children:[o.jsx(Ev,{size:18,className:Kt.inputIcon}),o.jsx("input",{type:"text",value:i,onChange:E=>r(E.target.value),placeholder:"N-1001",autoComplete:"username"})]})]}),o.jsxs("div",{className:Kt.inputGroup,children:[o.jsx("label",{children:""}),o.jsxs("div",{className:Kt.inputWrapper,children:[o.jsx(xh,{size:18,className:Kt.inputIcon}),o.jsx("input",{type:f?"text":"password",value:c,onChange:E=>d(E.target.value),placeholder:"",autoComplete:"current-password"}),o.jsx("button",{type:"button",className:Kt.eyeBtn,onClick:()=>m(!f),children:f?o.jsx(wv,{size:18}):o.jsx(xv,{size:18})})]})]}),v&&o.jsxs("div",{className:Kt.errorMsg,children:[o.jsx(al,{size:16}),v]}),o.jsx("button",{type:"submit",className:Kt.loginBtn,disabled:p,children:p?"...":""})]}),o.jsxs("div",{className:Kt.footer,children:[o.jsx("p",{children:""}),o.jsx("p",{className:Kt.hint,children:""})]})]})})},f8="_container_1vlgk_1",m8="_card_1vlgk_10",p8="_header_1vlgk_19",g8="_icon_1vlgk_24",_8="_form_1vlgk_49",v8="_inputGroup_1vlgk_55",y8="_passwordInput_1vlgk_67",b8="_eyeBtn_1vlgk_89",w8="_checkIcon_1vlgk_104",x8="_error_1vlgk_110",S8="_submitBtn_1vlgk_116",j8="_hints_1vlgk_137",ua={container:f8,card:m8,header:p8,icon:g8,form:_8,inputGroup:v8,passwordInput:y8,eyeBtn:b8,checkIcon:w8,error:x8,submitBtn:S8,hints:j8},N8=()=>{const n=os(),{currentUser:a,refreshUser:i}=fa(),[r,c]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(!1),[g,v]=S.useState(!1),[y,x]=S.useState(""),E=()=>r.length<8?(x(" 8 "),!1):r!==d?(x(""),!1):(x(""),!0),C=async N=>{if(N.preventDefault(),!E()||!a)return;v(!0),(await $t.setPassword(a.id,r)).success?(await i(),n("/dashboard")):x(""),v(!1)};return o.jsx("div",{className:ua.container,children:o.jsxs("div",{className:ua.card,children:[o.jsxs("div",{className:ua.header,children:[o.jsx("div",{className:ua.icon,children:o.jsx(xh,{size:32})}),o.jsx("h1",{children:""}),o.jsx("p",{children:""})]}),o.jsxs("form",{onSubmit:C,className:ua.form,children:[o.jsxs("div",{className:ua.inputGroup,children:[o.jsx("label",{children:""}),o.jsxs("div",{className:ua.passwordInput,children:[o.jsx("input",{type:m?"text":"password",value:r,onChange:N=>c(N.target.value),placeholder:" 8 ",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:ua.eyeBtn,onClick:()=>p(!m),children:m?o.jsx(wv,{size:18}):o.jsx(xv,{size:18})})]})]}),o.jsxs("div",{className:ua.inputGroup,children:[o.jsx("label",{children:""}),o.jsxs("div",{className:ua.passwordInput,children:[o.jsx("input",{type:m?"text":"password",value:d,onChange:N=>f(N.target.value),placeholder:"",autoComplete:"new-password"}),d&&r===d&&o.jsx(Nn,{size:18,className:ua.checkIcon})]})]}),y&&o.jsx("p",{className:ua.error,children:y}),o.jsx("button",{type:"submit",className:ua.submitBtn,disabled:g||!r||!d,children:g?"...":""})]}),o.jsxs("div",{className:ua.hints,children:[o.jsx("p",{children:""}),o.jsxs("ul",{children:[o.jsx("li",{children:" 8 "}),o.jsx("li",{children:""}),o.jsx("li",{children:""})]})]})]})})},E8="_pageContainer_hhxw1_1",C8="_header_hhxw1_7",T8="_headerLeft_hhxw1_14",k8="_title_hhxw1_20",O8="_count_hhxw1_30",A8="_headerActions_hhxw1_39",R8="_actionBtn_hhxw1_44",D8="_filters_hhxw1_63",M8="_filterBtn_hhxw1_69",B8="_active_hhxw1_85",$8="_list_hhxw1_91",z8="_item_hhxw1_97",L8="_unread_hhxw1_113",U8="_iconWrapper_hhxw1_118",q8="_content_hhxw1_128",H8="_message_hhxw1_133",I8="_time_hhxw1_139",G8="_status_hhxw1_144",P8="_readIcon_hhxw1_148",V8="_unreadIcon_hhxw1_152",Y8="_empty_hhxw1_156",yt={pageContainer:E8,header:C8,headerLeft:T8,title:k8,count:O8,headerActions:A8,actionBtn:R8,filters:D8,filterBtn:M8,active:B8,list:$8,item:z8,unread:L8,iconWrapper:U8,content:q8,message:H8,time:I8,status:G8,readIcon:P8,unreadIcon:V8,empty:Y8},K8=()=>{const{notifications:n,markAsRead:a,clearAll:i}=Xo(),[r,c]=S.useState("all"),d=r==="all"?n:n.filter(g=>!g.read),f=g=>{switch(g){case"schedule_published":case"schedule_updated":return o.jsx(qa,{size:18});case"leave_approved":case"leave_rejected":return o.jsx(sn,{size:18});case"swap_request":case"swap_approved":return o.jsx(ec,{size:18});default:return o.jsx(Ls,{size:18})}},m=g=>g.includes("approved")?"#10B981":g.includes("rejected")?"#EF4444":g.includes("schedule")?"#3B82F6":g.includes("swap")?"#F59E0B":"#6B7280",p=g=>{const v=new Date(g),x=new Date().getTime()-v.getTime(),E=Math.floor(x/6e4),C=Math.floor(x/36e5),N=Math.floor(x/864e5);return E<1?"":E<60?`${E} `:C<24?`${C} `:N<7?`${N} `:v.toLocaleDateString("zh-TW")};return o.jsxs("div",{className:yt.pageContainer,children:[o.jsxs("div",{className:yt.header,children:[o.jsxs("div",{className:yt.headerLeft,children:[o.jsxs("h1",{className:yt.title,children:[o.jsx(Ls,{size:24}),""]}),o.jsxs("span",{className:yt.count,children:[n.filter(g=>!g.read).length," "]})]}),o.jsx("div",{className:yt.headerActions,children:o.jsxs("button",{className:yt.actionBtn,onClick:()=>i(),children:[o.jsx(ac,{size:16}),""]})})]}),o.jsxs("div",{className:yt.filters,children:[o.jsx("button",{className:`${yt.filterBtn} ${r==="all"?yt.active:""}`,onClick:()=>c("all"),children:""}),o.jsx("button",{className:`${yt.filterBtn} ${r==="unread"?yt.active:""}`,onClick:()=>c("unread"),children:""})]}),o.jsx("div",{className:yt.list,children:d.length===0?o.jsxs("div",{className:yt.empty,children:[o.jsx(Ls,{size:48}),o.jsx("p",{children:""})]}):d.map(g=>o.jsxs("div",{className:`${yt.item} ${g.read?"":yt.unread}`,onClick:()=>a(g.id),children:[o.jsx("div",{className:yt.iconWrapper,style:{background:`${m(g.type)}20`,color:m(g.type)},children:f(g.type)}),o.jsxs("div",{className:yt.content,children:[o.jsx("p",{className:yt.message,children:g.message}),o.jsx("span",{className:yt.time,children:p(g.timestamp)})]}),o.jsx("div",{className:yt.status,children:g.read?o.jsx(Xj,{size:16,className:yt.readIcon}):o.jsx(eh,{size:16,className:yt.unreadIcon})})]},g.id))})]})};function F8(){return o.jsx(gS,{children:o.jsx(vS,{children:o.jsx(kj,{children:o.jsx(S1,{children:o.jsxs(Zb,{children:[o.jsx(Ut,{path:"/login",element:o.jsx(h8,{})}),o.jsx(Ut,{path:"/auth/set-password",element:o.jsx(N8,{})}),o.jsxs(Ut,{path:"/",element:o.jsx(bE,{}),children:[o.jsx(Ut,{index:!0,element:o.jsx(Qb,{to:"/dashboard",replace:!0})}),o.jsx(Ut,{path:"dashboard",element:o.jsx(J5,{})}),o.jsx(Ut,{path:"notifications",element:o.jsx(K8,{})}),o.jsx(Ut,{path:"nurse/leave-all",element:o.jsx(w4,{})}),o.jsx(Ut,{path:"nurse/preleave",element:o.jsx(Tv,{})}),o.jsx(Ut,{path:"nurse/leave",element:o.jsx(kv,{})}),o.jsx(Ut,{path:"nurse/schedule",element:o.jsx(xA,{})}),o.jsx(Ut,{path:"nurse/swap",element:o.jsx(LA,{})}),o.jsx(Ut,{path:"schedule/workbench",element:o.jsx(VD,{})}),o.jsx(Ut,{path:"schedule/leave-approval",element:o.jsx(FM,{})}),o.jsx(Ut,{path:"settings/shifts",element:o.jsx(vC,{})}),o.jsx(Ut,{path:"settings/rules",element:o.jsx(YC,{})}),o.jsx(Ut,{path:"settings/staff",element:o.jsx(kT,{})}),o.jsx(Ut,{path:"settings/profile",element:o.jsx(ek,{})})]})]})})})})})}W0.createRoot(document.getElementById("root")).render(o.jsx(Vr.StrictMode,{children:o.jsx(F8,{})}));
